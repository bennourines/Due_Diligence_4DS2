b hedera public hashgraph network governing council trust layer internet dr leemon baird mance harmon paul madsen w h t e pa p e r v 2 0 xe2 x80 x83 xe2 x80 x83 l s t u p d e d u g u s t 2 9 2 0 1 9 xe2 x80 x83 xe2 x80 x83 s u b j e c t t o f u r t h e r r e v e w u p d e 1 x0cvision build trusted secure empowered digital future mission dedicated building trusted secure online world empowers work play buy sell create engage socially safety privacy digital communities confident interacting digital future available hello future xc2 xa9 2018 2019 hedera hashgraph llc rights reserved w h t e pa p e r 2 x0cexecutive summary distributed ledger technologies dlt potential disrupt transform existing markets multiple industries opinion fundamental obstacles overcome distributed ledgers widely accepted adopted enterprises paper examine obstacles discuss hedera hashgraph suited support vast array applications world xe2 x80 x99s mass adopted public distributed ledger 1 p e r f o r m n c e compelling use cases dlt require hundreds thousands transactions second require consensus latency measured seconds performance metrics orders magnitude current public dlt platforms achieve 2 s e c u r t y public dlt platforms facilitate transfer trillions dollars value targeted hackers need strongest possible network security having strongest possible security starts consensus algorithm security properties formally proven mathematically security vulnerabilities attack vectors shouldn xe2 x80 x99t mitigated eliminated entirely improve performance metrics public dlt platforms making compromises regard decentralization potentially compromising security 3 g o v e r n n c e general purpose public ledger governed representatives broad range market geographic sectors world class expertise responsible network governance need technical expertise competently manage platform xe2 x80 x99s underlying software need business economics expertise manage business operations organization cryptocurrency need legal expertise help navigate evolving regulatory environment words network governed decentralized group globally recognized industry leaders representative market world 4 stability technical legal mechanisms enforce decisions governing body public dlt platforms risk devolving chaos strong security mature governance enable stable platform xe2 x80 x94 engenders necessary trust confidence build commercial sensitive applications 5 r e g u l o r y c o m p l n c e expect governments continue extend policy objectives users enterprises developers utilizing public ledgers associated cryptocurrencies tokens consider public distributed ledger capable providing necessary tools members ecosystem comply applicable laws regulations european union xe2 x80 x99s general data privacy regulations gdpr enable appropriate identity management conduct sanctions screening facilitate know customer kyc anti money laundering aml checks e xecutive summary 3 x0cwhat required dlt industry forward enable realize potential platform provides combination high performance strong security effective governance technical legal controls ensure platform xe2 x80 x99s stability tools enable regulatory compliance think mainstream markets trust dlt platform adopt e xecutive summary 4 x0cintroducing hedera xc2 xad xe2 x80 x94 public hashgraph network governing body designed address needs mainstream markets hedera network governed council leading global enterprises multiple industries geographies vision cyberspace trusted secure need centralized parties inordinate influence licensing governance model protects users eliminating risk forking protecting integrity codebase providing open access review underlying software code platform governance decentralized hedera governing council termlimited rotating set governing members equal voting rights key decisions relating platform 1 hedera network distributed ledger platform resolves factors constrain adoption public dlt mainstream 1 p e r f o r m n c e platform built hashgraph distributed consensus algorithm invented dr leemon baird hashgraph consensus algorithm provides near perfect efficiency bandwidth usage consequently process hundreds thousands transactions second single shard fully connected peer peer mesh nodes network initially anticipate hedera network able process 10 000 cryptocurrency transactions second consensus latency measured seconds minutes hours days 2 s e c u r t y hashgraph achieves gold standard security field distributed consensus asynchronous byzantine fault tolerance abft platforms use coordinators leaders communication timeouts improve performance tend vulnerable distributed denial service ddos attacks hashgraph resilient types attacks consensus algorithm leader achieving level security scale fundamental advance field distributed systems applications require consensus order transactions match actual order transactions received network possible single party prevent flow transactions network influence order transactions eventual network consensus fair consensus algorithm ensures user submit transaction network transaction received network order received fair ordering hashgraph uniquely ensures actual order transactions received network reflected consensus order words hashgraph ensures fair access fair ordering formal proofs abft fairness properties hashgraph consensus algorithm available public review june 2016 furthermore hashgraph algorithm validated abft math proof checked computer coq system october 2018 2 hedera hashgraph council 5 x0c3 g o v e r n n c e hedera network governed council 39 leading global enterprises hedera council members bring needed experience process business expertise absent previous public ledger platforms council membership designed reflect range industries geographies ii highly respected brands trusted market positions iii encompass competing perspectives terms governance ensure single council member control small group members undue influence body 4 s ta b l t y hedera relies technical legal controls ensure stability platform hedera technical controls enable capabilities hashgraph technology ensures software clients validate pedigree hedera hashgraph ledger prior use shared state mechanism isn xe2 x80 x99t possible network node fork official version hedera hashgraph platform changes changes accepted valid original hashgraph platform copy changed independently software clients hedera platform know valid version ii second hashgraph technology makes possible hedera council specify software changes network nodes precisely changes adopted confirm adopted hedera council releases software update network nodes software automatically updated exactly moment node invalid software e didn xe2 x80 x99t install software update longer able modify ledger world accept version ledger legitimate hedera legal controls ensure platform fork competing platform cryptocurrency iii hedera codebase governed hedera governing council released public review version 1 0 expected released 2020 open source able read source code recompile verify correct license required use hedera platform license required write software uses services hedera platform license required build smart contracts hedera platform applications built hedera platform open source proprietary require license approval hedera hedera code publicly available review version 1 0 ensuring stability hashgraph software patents defensively prevent forks way hedera provide transparent codebase provide stability markets demand hedera hashgraph council 6 x0cfor mainstream adoption public ledger combination technical legal controls provide governing body mechanisms needed enable meaningful governance bring stability think required broad based adoption 5 r e g u l o r y c o m p l n c e xe2 x80 x93 hedera technical framework includes controlled mutability network state potential request attach additional data transactions identity certificates features enable future functionality erasure personal data uploaded files opt verified identity mechanisms xe2 x80 x93 optional control end users intend work regulators encourage development tools allow enterprises fulfill consumer protection regulatory compliance obligations 1 x07swirlds inc delaware corporation holds patent titles hashgraph consensus algorithm swirlds permanent member hedera governing council 2 x07see appendix 3 definition hashgraph algorithm including proofs abft https www hedera com blog coqproof completed carnegie mellon professor confirms hashgraph consensus algorithm asynchronous byzantine fault tolerant access formalized abft proof hedera hashgraph council 7 x0cpart 1 introduction hedera hashgraph introduction 8 x0cthe hashgraph data structure consensus algorithm provides new platform distributed consensus introduction gives overview hashgraph works properties goal distributed consensus algorithm allow community users come agreement order users generated transactions single member trusted way system generating trust individuals trust hashgraph achieves fundamentally new way blockchain like tree continuously pruned grows xe2 x80 x93 pruning necessary branches blocks growing control ensure ledger consists chain blocks hashgraph pruning new growth growth woven body ledger introduction 9 x0cin blockchain hashgraph ledgers user create transaction eventually container xe2 x80 x9cblock xe2 x80 x9d spread distributed network blockchain xe2 x80 x9cblocks xe2 x80 x9d containers intended form single long chain blocks created time network nodes eventually choose chain continue discard lest blockchain xe2 x80 x9cfork xe2 x80 x9d different chains like growing tree constantly having branches chopped hashgraph container transactions incorporated ledger xe2 x80 x94 discarded xe2 x80 x94 efficient blockchains branches continue exist forever woven single furthermore blockchain fails new containers arrive quickly new branches sprout faster pruned blockchain needs proof work mechanism artificially slow growth hashgraph thrown away harm hashgraph data structure growing quickly member create transactions containers want finally hashgraph require pruning xe2 x80 x9cforks xe2 x80 x9d container transactions incorporated ledger hashgraph allows powerful mathematical guarantees byzantine agreement fairness distributed databases paxos byzantine guarantee fairness ordering transactions blockchain byzantine fair hashgraph algorithm accomplishes fair fast byzantine acid compliant efficient inexpensive timestamped dos resistant introduction 10 x0cperformance cost hashgraph distributed ledger inexpensive operate compared blockchain distributed ledgers avoids energy intensive proof work individuals organizations want run hashgraph nodes need purchase expensive custom mining rigs instead able run hashgraph nodes readily available hardware expensive specialized mining rigs efficiency hashgraph 100% efficient term blockchain community blockchain work wasted mining block later considered stale discarded network nodes hashgraph equivalent xe2 x80 x9cblock xe2 x80 x9d transactions stale hashgraph efficient use bandwidth bandwidth required inform nodes given transaction achieving consensus timestamp transaction hashgraph adds small overhead additional bandwidth achieve consensus timestamp transactions order additionally hashgraph voting algorithm require additional messages sent order nodes vote validating transactions votes counted messages network nodes learned transaction throughput hashgraph fast limited bandwidth network node bandwidth download upload given number transactions second network handle close transactions second fast home internet connection enable hashgraph node fast handle transaction volume equal entire global visa card network performance 11 x0ct h e f o l l o w n g c h r t s g v e p e r f o r m n c e r e s u lt s f o r h s h g r p h t e c h n o l o g y test conditions charts previous pages results tests performed hashgraph nodes hosted amazon aws m4 4xlarge instances figure 1 shows performance single region virginia figure 2 shows results regions 2 000 miles apart opposite sides continental united states virginia oregon figure 3 shows results 8 regions virginia oregon canada sao paulo australia seoul tokyo frankfurt line chart different number instances computers shown right line case instances distributed evenly number regions horizontal axis number 100 byte transactions second ledger achieved consensus experiments throughput ranges 50 000 tps 500 000 tps lines second dot left 10 000 tps vertical axis average number seconds node creates transaction knows exact consensus order consensus timestamp isn xe2 x80 x99t time confirmation xe2 x80 x94 time 100% certain finality reached experiments latency 11 seconds experiments latencies 0 04 seconds graphs clear tradeoffs throughput latency number computers geographic distribution 32 computers running 50 000 transactions second consensus finality reached 3 seconds network spread 8 regions spanning globe network stretches 2 000 miles u s drops 1 5 seconds single region drops 0 75 seconds desired latency 7 seconds required credit cards achieving 200 000 transactions second possible use 32 computers regions use 64 computers regions use 128 computers region important note tests purely achieving consensus transaction order timestamps include time process transactions example transaction digitally signed results suggest great deal processing power needed verify hundreds thousands digital signatures second possible gpu implementations helpful addition transaction request store large file bandwidth limitations slow network xe2 x80 x99s ability process transaction network pricing file storage transactions structured relatively expensive store large files ledger disincentivize efforts slow network way performance 12 x0cfigure 1 hashgraph latency vs throughput 1 region m4 4xlarge 100 400 000 tps latency seconds 10 puters 128 com uters 64 comp uters 32 comp 1 uters 16 comp ters 8 compu ters 4 compu 0 1 ters 2 compu 0 01 0 50 000 100 000 150 000 200 000 250 000 300 000 350 000 400 000 450 000 500 000 throughput 100 byte transactions second performance 13 x0cfigure 2 hashgraph latency vs throughput 2 regions m4 4xlarge 100 puters 128 com latency seconds 10 uters 64 comp s uter p m o 16 c uters 32 comp 1 s puter 8 com ters 4 compu 0 1 0 01 0 50 000 100 000 150 000 200 000 250 000 300 000 350 000 400 000 450 000 500 000 throughput 100 byte transactions second performance 14 x0cfigure 3 hashgraph latency vs throughput 8 regions m4 4xlarge 100 ers mput o c 4 6 10 latency seconds 32 s ter u p com uters 8 comp 16 s ter u mp co 1 0 1 0 01 0 50 000 100 000 150 000 200 000 250 000 300 000 350 000 400 000 450 000 500 000 throughput 100 byte transactions second performance 15 x0cs tat e e f f c e n c y network transaction occurs seconds nodes network know transaction placed history transactions 100% certainty importantly node know node knows point network incorporate effects transaction needed future audit compliance discard transaction data minimal cryptocurrency system node need store current balance network account nodes need remember history transactions resulted balances way xe2 x80 x9cgenesis xe2 x80 x9d performance 16 x0csecurity cryptography hedera network communications encrypted tls 1 2 transactions digitally signed hashgraph constructed cryptographic hashes algorithms key sizes chosen compliant cnsa suite security standard standard required protecting u s government secret information specifies aes 256 rsa 3072 sha 384 ecdsa ecdh p 384 ephemeral keys perfect forward secrecy s y n c h r o n o u s b y z n t n e f u lt t o l e r n c e hashgraph algorithm asynchronous byzantine fault tolerant abft technical term meaning single node small group nodes prevent network reaching consensus change consensus reached hedera network node eventually reach point xe2 x80 x9cknows xe2 x80 x9d sure network reached consensus blockchain platforms guarantee byzantine agreement node reaches certainty agreement achieved probability increases time blockchain non byzantine automatically deal network partitions xe2 x80 x94 e group miners isolated rest internet multiple chains xe2 x80 x9cforks xe2 x80 x9d grow conflict order transactions worth noting term xe2 x80 x9cbyzantine fault tolerant xe2 x80 x9d bft weaker sense resistance malicious behavior consensus algorithms use original stronger sense assume 1 attackers collude stop skew consensus 2 attackers control internet limits slow prevent delivery messages network eventually reach consensus node eventually knows consensus reached hashgraph byzantine stronger definition long attackers 1 3 total stake hbars unable stop consensus skew transaction timestamps consensus order different degrees bft depending assumptions network transmission messages strongest form bft asynchronous bft xe2 x80 x94 meaning network achieve consensus malicious actors able control network delete slow messages choosing assumptions 2 3 following protocol correctly messages repeatedly sent node internet eventually eventually systems partially asynchronous secure attackers power manipulate timing messages instance partially asynchronous system prove byzantine assumption messages passed internet seconds assumption ignores reality botnets distributed denial service attacks malicious firewalls technical report describing hashgraph data structure algorithm including mathematical proofs hashgraph asynchronous bft included appendix securit y 17 x0cacid compliance hashgraph acid compliant acid atomicity consistency isolation durability database term applies hashgraph distributed database network nodes use reach consensus order transactions occurred reaching consensus node feeds transactions node xe2 x80 x99s local copy database sending consensus order local database standard properties database acid network said single distributed database properties blockchain moment know consensus reached acid compliant d s t r b u t e d d e n l o f s e r v c e ta c k r e s l e n c e form denial service dos attack occurs attacker able flood honest node network meaningless messages preventing node performing valid duties roles distributed denial service ddos uses public services devices unwittingly amplify dos attack xe2 x80 x94 making greater threat dlt network ddos attack target nodes contribute definition consensus potentially prevent consensus established hashgraph ddos resilient empowers single node small number nodes special rights responsibilities establishing consensus bitcoin hashgraph distributed way resists ddos attacks attacker flood node miner packets data temporarily disconnect internet network continue operate normally attack system require flooding large fraction nodes packets difficult number proposed alternatives blockchain based xe2 x80 x9cleaders xe2 x80 x9d xe2 x80 x9cround robin xe2 x80 x9d models proposed avoid proof work costs bitcoin drawback sensitive ddos attacks attacker attacks current leader node switches attacking new leader soon chosen attacker freeze entire system attacking node time hashgraph avoids problem avoiding energy requirements proof work securit y 18 x0cfairness hashgraph fair leader node miner given special permissions determining consensus timestamp assigned transaction instead consensus timestamps transactions calculated automated voting process algorithm nodes collectively democratically establish consensus distinguish aspects fairness fa r c c e s s hashgraph fundamentally fair individual node stop transaction entering system delay malicious nodes attempt prevent given transaction delivered rest network added consensus random nature hashgraph gossip protocol nodes communicate messages ensure transaction flows blockage fa r t m e s ta m p s hashgraph gives transaction consensus timestamp based majority network nodes received transaction consensus timestamp fair possible malicious node corrupt differ time transaction assigned consensus time median times node says received received refers time given node passed transaction node gossip consensus guarantees byzantine twothirds participating nodes honest reliable clocks computer timestamp honest reliable generated honest reliable node falls times generated honest reliable nodes hashgraph takes median times consensus timestamp robust clocks bit nodes maliciously times far consensus timestamp significantly impacted consensus timestamping useful things legal obligation perform action particular time consensus event happened deadline timestamp resistant manipulation attacker blockchain block contains timestamp reflects single clock computer miner mined block fa r t r n s c t o n o r d e r transactions order according timestamps timestamps assigned individual transactions fair resulting order critically important use cases example imagine stock market alice bob try buy available share stock moment price blockchain miner transactions single block complete freedom choose order occur miner choose include alice xe2 x80 x99s transaction delay bob xe2 x80 x99s future block hashgraph way individual node unduly affect consensus order transactions best alice invest better internet connection transaction reaches bob xe2 x80 x99s xe2 x80 x99s fair way compete fa r n e s s 19 x0cgovernance governance model public ledger define rules policies control evolution node software issuance coins reward model incentivizes network participants multiple stakeholders interests motivations balanced network node operators developers building applications platform businesses relying applications end users applications relevant regulatory bodies hedera governing council limited liability company 39 members known enterprises diverse industries geographies hedera xe2 x80 x99s licensing governance model protects network users eliminating risk forks guaranteeing integrity codebase providing open access review underlying software code governance model governing members equal voting rights governing member exception swirlds serve limited term ensuring single governing member group governing members centralized control hedera network model permissioned governance phased plan permissionless open consensus governance permissioned governance decisions members hedera governing council council establishes policy council membership sets network rules manages platform xe2 x80 x99s treasury coins approves changes platform codebase governance model based original model national bankamericard inc founded 1968 later renamed visa designing governance model way ensures governing members trusted best interest hedera platform unduly influenced individual council members node operators addition governing members hedera expects participating organizations contribute hedera network ecosystem providing advisory services appropriate organizations voting privileges open consensus model relates process nodes join network reach consensus order transactions platform model designed prevent consolidation power consensus encouraging emergence decentralized network eventually millions nodes prevents collusion attack system counterfeiting cryptocurrency modifying ledger inappropriately influencing consensus order transactions inhibit collusion weighting votes hashgraph algorithm particular node based node xe2 x80 x99s stake coins loosely stated node casts vote coin hedera native currency hbars owns initially nodes hedera network operated council members consensus start permissioned basis network use grows council allow new node operators join network paid services maintaining hashgraph number nodes expected grow large time ensuring consensus voting privileges distributed nodes discussion staking model included section system permissioned governance open consensus build public trust purely closed system essential success global dlt platform governance 20 x0cpermissioned governance designed hedera governance model ensure council trusted govern network fairly council members equal governing rights limited terms ensuring governance decentralized deliberation debate open council members controlled governing members participate committees provide oversight hedera operations committees include limited technical steering product committee finance committee legal regulatory committee governing members organizations span broad range business sectors objective collectively membership contribute industry leading representation range hedera committees governance 21 x0cstability hard forks bitcoin ethereum experienced arguably damaged network effect corresponding currencies creating confusion uncertainty marketplace similarly explosion altcoins dubious legitimacy value engender necessary confidence businesses consumers considering adopting cryptocurrencies historically open source software developers recognized value maintaining single baseline code ensuring best ideas community included benefit combining open source project cryptocurrency traditional incentive structure turned upside distributed ledger technologies widely adopted split dynamic causes chaos industry directly impedes adoption public ledgers mainstream markets hedera technical legal controls ensure platform fork competing platform cryptocurrency s ta b l t y 22 x0ctechnical controls s g n e d s tat e p r o o f s nodes maintain copy state instance node knows balances network participants xe2 x80 x99 crypto accounts end round algorithm node calculates new state processing transactions received round node digitally signs hash shared state puts transaction gossips network collects signatures nodes client requests aspect state nodes able construct return small file carrying collected signatures cryptographic material prove client party returned data true consensus state state organized merkle tree party given proof consists small state plus path root merkle tree including siblings vertices tree plus signatures address book history public keys diagram represents party confident state receives nodes represent consensus state network s ta b l t y 23 x0cledger id proof include xe2 x80 x9caddress book xe2 x80 x9d list public keys nodes node xe2 x80 x99s stake party need address book order check signatures state portion state proof include xe2 x80 x9caddress book history xe2 x80 x9d sequence address books address book signed nodes previous address book given address book signed set nodes control 2 3 stake platform xe2 x80 x99s coins according network xe2 x80 x99s list nodes stake previous address book chain address books extends genesis address book signed initial nodes created ledger hash genesis address book important serves unique identifier ledger xe2 x80 x9cname xe2 x80 x9d ledger handling forks small number nodes wants split network create new ledger fork current nodes technical ability create initial state new ledger identical old ledger fork able create address book history reaching genesis address book nodes address book signing majority nodes forking sign address book minority nodes forking forces new fork new genesis address book new unique identifier new consequently creating fork unable fool anybody thinking fork legitimate ledger client submits transaction node send ledger client receive response node cryptographic proof transaction affected shared state correctly alice transfers cryptocurrency bob able receive cryptographic proof transaction succeeded proof includes signatures reaching genesis address book verify transfer occurred verify occurred correct ledger ledger forks client confused ledger dealing ledger time furthermore network xe2 x80 x99s stake hbars split 50 50 groups nodes group nodes able prove connection genesis address book fork complete deconstruction ledger creation new ones greatly reduce value ledger nodes longer able earn fees clients want access original ledger original cryptocurrency real sense cease exist creates enormous disincentive forking way impossible effectively create deceptive fork hedera ledger confuse users dishonest nodes create forked copy hedera ledger order try deceive users thinking copy legitimate ledger users know ledger isn xe2 x80 x99t valid nodes hosting illegitimate fork able provide valid state proof little incentive nodes openly create forked copy unlikely demand users shift invalid version strong incentives avoid forks aside legal incentives cryptographic proofs unique identifiers prevent forks critically important secure sharding allow shards send messages assurance message given shard truly consensus shard s ta b l t y 24 x0clegal controls transparency hedera codebase governed hedera governing council version 1 0 codebase expected 2020 xe2 x80 x9copen review xe2 x80 x9d meaning able read source code recompile verify correct license required use hedera platform license required write software uses services hedera platform license required build smart contracts hedera platform applications built hedera platform open source proprietary require license approval hedera software developed platform apis encumbered way software developers complete ownership discretion licensing choose applications use hedera platform swirlds owns intellectual property rights hashgraph consensus algorithm hedera governing council license swirlds use hashgraph consensus algorithm associated technology hedera distributed public ledger platform exchange license hedera governing council pay swirlds 10% network revenue monthly minimums swirlds 5% hedera coins swirlds continue require licenses use hashgraph technology private permissioned networks license required distributed applications run hedera xe2 x80 x99s public platform hedera swirlds use patent rights associated hashgraph algorithm defensively legally prohibit forking codebase creation competing platform currency developers free build distributed applications hedera platform associated native tokens summary hedera simultaneously embrace open review software code bringing stability platform cryptocurrency controlling license way hedera provide transparent codebase assuring stability markets demand mainstream adoption s ta b l t y 25 x0cregulatory compliance expect governments continue extend policy objectives users enterprises developers utilizing public ledgers associated cryptocurrencies tokens consider fundamental goal hedera network provide necessary tools members ecosystem comply applicable laws regulations including existing regimes european union xe2 x80 x99s general data privacy regulations gdpr anti money laundering aml obligations continue work regulators enable compliance new changing laws regulations sections outline key elements hedera network allow path regulatory compliance s e l f c u s dy like distributed ledgers transactions affect state hedera account signed account xe2 x80 x99s private key enables end users retain possession private key sole control accounts relinquish custody funds hedera developers enterprises cryptocurrency transactions completely peer peer intermediaries taking possession hbars developers design build wallets applications hedera network utilize self custody private keys funds choose host private keys users comply regulatory obligations arising custodial relationship d ata s e l f s o v r e g n t y unlike distributed ledgers hedera network implements controlled mutability data published hedera network publisher define authorization policy future deletion modification specifying keys authorizations allows developers build applications comply xe2 x80 x9cright erasure xe2 x80 x9d requirement gdpr allow users maintain control data public long p r vacy m n ag e m e n t hedera network allows users manage identities transaction requirements default accounts pseudonymous like distributed ledgers hedera technology framework support future implementations allow users attach real identity asserted accredited party acting certificate authority logically bound ledger account account funds appropriate kyc checks performed counterparty choose require proof identity including legal specific identity characteristics age consistent compliance program order accept transaction network user remain control personal information provide proof identity characteristics counterparty counterparty remains control meeting compliance obligations engaging transaction system opt user explicitly choose avail mechanism account transactions remain pseudonymous choice prevent engaging certain financial transactions r e g u l o r y c o m p l n c e 26 x0cthe system designed provide appropriate balance 1 government visibility 2 security 3 user privacy comparable showing driver xe2 x80 x99s license creating new bank account model user attach hash digital certificate created recognized identity provider account attachment form transaction sent network transaction 1 need signed user xe2 x80 x99s private key identity provider 2 stipulate parties authorized subsequently detach hash revoke binding identity account long attachment account certificate revoked user identity provider establish account bound known user funds account appropriate identity provider revoke binding simply sending signed transaction network example work consider user trying send money hedera account bank user provide bank certificate account address bank look account confirm account corresponding hash certificate certificate issued trusted identity provider checks confirmed bank authorize transaction accept funds bank asked corresponding government send certificate transaction details real time based transfer schedule anti money l aundering developers enterprises utilizing hedera network anti money laundering reporting obligations entities network identity certificates use network data mirror nodes form basis compliance program mirror nodes discussed depth eventually able run serve xe2 x80 x9cread xe2 x80 x9d observers network activity mirror nodes public data network viewed stored analyzed conduct investigations flag suspicious behavior hedera founding member distributed ledger foundation work broader dlt community governments ensure regulatory requirements satisfied maintaining privacy security hedera directly resolves fundamental obstacles mainstream market adoption public ledger technology performance security stability governance regulatory compliance hashgraph data structure consensus algorithm provide best class unmatched combination performance security hedera platform hedera governing council provide transparency open innovation platform stability tools enable opt kyc aml global cross industry expertise provide governance decision making globally distributed network cryptocurrency section 27 x0cpart 2 architecture architecture 28 x0cdecentralized application wallet cryptocurrency smart file consensus contracts service service hedera hashgraph network internet architecture 29 x0ci n t e r n e t l ay e r hedera network nodes computers internet communicating tcp ip connections protected tls encryption ephemeral keys perfect forward secrecy nodes addressed ip address port symbolic names attacks dns system affect network h s h g r p h c o n s e n s u s l ay e r nodes transactions clients share network gossip protocol nodes run hashgraph consensus algorithm reach agreement consensus timestamp transaction consensus order history node applies effects transactions consensus order modify copy shared state way nodes maintain identical consensus state given shard s e r v c e s l ay e r cryptocurrency cryptocurrency designed fast leads low network fees making small microtransactions practical hedera platform running scale user able run node network earn cryptocurrency payments user able create account simply creating key pair address attached optionally provisions allow user attach hashes identity certificates come party certificate authority identity authority user chooses intended allow regulatory compliance cryptocurrency accounts jurisdiction know customer kyc anti money laundering aml laws detail given regulatory compliance section file stor age file system allows users store information consensus exactly stored stored node shard stores files lost nodes crashes stored information deleted given permission way file system act revocation service example future user issued driver xe2 x80 x99s license department motor vehicles dmv user dmv digitally sign transaction puts hash ledger right remove hash license user choose prove valid license giving person copy license file person check hash stored ledger dmv revokes license delete hash world license longer valid user tries store hash signature dmv evident hash stored user dmv cooperation considered valid evidence user xe2 x80 x99s right drive architecture 30 x0cfiles actually stored merkle trees provide java classes allow developers manipulate developers java code manipulate merkle tree file system directories subdirectories files change file contents directory names things copy paste underneath xe2 x80 x99s stored merkle tree automatically allows proofs file consensus state users store entire directory hedera file system store merkle trees store merkle dags means files bytes common store copy common bytes file accessed hash people rely fact immutable file id owner create new file file id associated new file instead old way possible users find latest version file access file id instead hash files securely immutable securely non immutable time file accessed hash changes accessed file id latest version found smart contr acts hedera ledger run smart contracts written solidity currently large libraries solidity smart contract code exist run unchanged hedera allow distributed applications easily built hedera consensus hedera consensus service offer efficient alternative smart contracts file system building distributed applications clients submit messages hedera time stamping ordering specific topics ordered messages flow mirror nodes clients mirror nodes processing consensus order consensus service distributed applications direct access native speed security fair ordering guarantees hashgraph consensus algorithm trust hedera ledger details hedera platform xe2 x80 x99s consensus service available initially added subsequent phase platform xe2 x80 x99s development available appendix 2 architecture 31 x0cmirror network hedera mirror network set nodes maintain requirements functionality main hedera network primary difference functionality mirror nodes ability submit transactions incorporated network xe2 x80 x99s ledger mirror nodes gossip calculate consensus verify signatures unable create events mirror nodes effect hashgraph structure ability submit transactions consensus voting power mirror nodes thought xe2 x80 x9cread xe2 x80 x9d nodes transactions submitted mirror node hedera api mirror nodes free develop additional apis providing new kinds services create mirror network provide efficient way state ledger users dapps short period time having major impact performance main network result dapps choose host mirror nodes listen transactions main network respond accordingly example dapp deploys smart contract choose host mirror node listen events smart contract filter transactions respond accordingly architecture 32 x0csharding initially hedera network small number nodes operated governing council members single shard hedera governing council grows begin operate nodes network gain sufficient number nodes justify multiple shards sharding offer performance advantages node need process transaction consensus consequently proceed parallel shards trust shard honor requests cryptocurrency hold resources shard long requests proven reflect consensus requesting shard allow multi shard ledger achieve asynchronous byzantine fault tolerance prevent double spends conflicting states ledger individual shard properties messages contain proofs consensus shard plan nodes randomly grouped different shards consensus transactions established normal shard subset nodes share state subset state entire ledger transactions placed consensus order individual shards normal manner xe2 x80 x94 nodes shard contribute consensus transactions originate shard assignment nodes shards performed randomly master shard assign new nodes shard day nodes shards necessary ensure shard large total hbars staked node shard large fraction total shards communicate exchange messages nodes different shards messages push pull shard nodes maintain queue outgoing messages shards shard remember sequence number message processed shards message sent transfer shard alpha shard beta nodes alpha randomly contacting nodes beta proof consensus state alpha shard continue beta nodes replies proof beta shard shared state includes sequence number indicating message received processed manner transactions impact addresses different shards appropriately recorded shard xe2 x80 x99s state entire state entire ledger details given sharding appendix architecture 33 x0cpart 3 cryptoeconomics cryptoeconomics 34 x0cstaking proxy staking hedera ledger uses proof stake consensus mechanism node xe2 x80 x99s influence consensus proportional cryptocurrency staked transaction validated placed consensus validated nodes representing aggregate stake twothirds network xe2 x80 x99s total number hbars number hbars fixed 50 billion important ensure cryptocurrency actually staked network continues run initial phase network hedera treasury xe2 x80 x9cproxy stake xe2 x80 x9d thirds total number hbars nodes hosted council members hbars widely distributed single user group users attain control hbars network allow host node e permissionless network time node joins network declare accounts control prove private keys accounts hbars accounts weight votes hashgraph virtual voting algorithm additionally paid serve node payment proportional hbars accounts free spend hbars time consequently potential disincentive bonded proof ofstake models xe2 x80 x94 nodes unwilling stake fear associated loss liquidity xe2 x80 x94 avoided addition mechanism called xe2 x80 x9cproxy staking xe2 x80 x9d allow person owns hbars run node stake hbars earn small hbars contributing network operation xe2 x80 x9cproxy staking xe2 x80 x9d account node means giving account credit hbars allowing node use stake contributes consensus payments running node proportional staked split node owner hbars proxy staked hbars proxy staked remain control owner owner able turn redirect proxy staking node time able spend proxy staked hbars time reduce receive payment staking note node hbars proxy staked spend hbars proxy staking feature network users available initially added subsequent phase platform xe2 x80 x99s development node hbars account able influence consensus pay fees associated sending transactions ledger cryptoeconomics 35 x0cthe proxy staking model shown node xe2 x80 x99s stake consensus reflect hbars owns staked hbars proxied payments associated staking shared node proxy staking accounts ow n e d sta k e practice node expected accounts proxying stake node pay m e n t s node ow n e r p r ox e d p r ox y sta k e proxy sta k e proxy pay m e n t s proxy staking allow run nodes earn small hbars contributing weight hbars node xe2 x80 x99s vote encouraging practice network makes difficult bad actor gain influence entire stake run nodes able increase revenue cryptoeconomics 36 x0cpayments fees users pay fees use hedera platform activities like transferring cryptocurrency adding items ledger hedera network high throughput require proof work anticipate fees small fraction public dlt platforms market today nodes hedera ledger compensated computing bandwidth storage resources use establishing consensus providing services types payments fees 1 n o d e f e e user application seeking complete action platform send corresponding transaction single node submit transaction network node expend small resources energy node fees compensate nodes resources incentivize nodes critical role initially hedera governing council set node fees node fee amounts eventually left node determine node fees paid end users directly account node submits user xe2 x80 x99s transaction network 2 n e t w o r k f e e transaction submitted network communicated nodes validate digital signatures transaction communicated nodes temporarily store memory network reaches consensus users pay network fee compensates participating nodes activity calculating consensus transaction resources required validate transaction vary based particulars transaction generally depend transaction xe2 x80 x99s file size number digital signatures network fees paid users hedera treasury account portion collected amounts subsequently distributed daily participating nodes node reward payments 3 s e r v c e f e e service fees compensate nodes ongoing burden maintaining supporting transaction example file storage transaction nodes store file hard drives specified period time service fee transaction reflect size file duration time xe2 x80 x99s stored transaction requests smart contract function executed service fee based processing power required network nodes perform computation associated storage burden e g storing results contract execution service fees paid users hedera treasury account portion collected amounts subsequently distributed daily participating nodes node reward payments different fee types shown diagram indicating account taken added clients pay nodes fees directly node requested process transaction clients pay network fees node fees passed hedera treasury clients pay service fees directly hedera fee payments network coming consensus gossiped transaction authorized payment cryptoeconomics 37 x0chedera collects services transaction fees behalf nodes processing transactions performing services hedera uses collected fees fund incentive payments nodes n o d e r e w r d p ay m e n t xe2 x80 x93 day payments hedera account nodes incentivize serve nodes paid node online day according thresholds defined hedera governing council e g requiring node contribute event 90% rounds 24 hour period node paid proportional cryptocurrency staking owned proxy staked fee model designed allocate costs risks appropriately cryptoeconomics 38 x0cthe biggest resource costs paid service fees resource costs e g storing large file incurred proper payment client example client pay storage file 30 days advance time transaction creates file network smaller resource costs gossiping reaching consensus transactions paid network fees node submits transaction verify account paying fees sufficient funds small risk balance drop level short period time takes transaction processed consensus case network spent resources paid effort level system costs paid economic incentives aligned client contacts node help submitting transaction network perform service client client stipulates transaction transaction fee parameter xe2 x80 x93 maximum client willing pay requested service node performs precheck analyzing transaction determine amounts network resources bandwidth cpu storage etc associated service require multiplies amounts coefficients published fee schedule determine total transaction fee node compares calculated transaction fee client xe2 x80 x99s stipulated maximum transaction fee client xe2 x80 x99s balance determine transaction submitted network transaction submitted nodes process consensus order calculate transaction fee determine client account sufficient balance applies transaction consensus state finally process fees described fees incentivize node submit transaction correctly paid fails service fee paid service performed risk client minimal service performed payment occurs risk hedera network cryptoeconomics 39 x0cthe roadmap scale following phases expect network grow concentrated nodes stake widespread nodes stake phases distinct represent expected evolution network currency phase 1 hedera treasury holds coins treasury begin xe2 x80 x9cproxy stake xe2 x80 x9d coins nodes managed hedera council members coins hedera treasury distributed general population use network individuals use hedera provided wallet software proxy coins council member managed nodes phase 2 addition hedera governing council members additional trusted parties able stand nodes hedera treasury hedera provided wallet software hbar holders default proxy stake coins council member nodes additional trusted node operators time distribution coins widely spread greater number nodes coins continue distributed hedera treasury general population network users phase 3 individuals interested know customer process stand nodes receive staking coins hedera treasury default hedera wallet software coins continue distributed hedera treasury general population anonymous individuals begin run nodes receive proxy staked coins hedera treasury hedera wallet software proxy coins anonymous nodes nodes able receive proxied coins 3rd party wallet software phase 4 coins distributed widely competing wallet software programs arise market proxying coins independent hedera governing council eventually coins widely distributed market wallet software market nodes competing proxy staking way coins start hedera treasury account initial hedera wallet software defaults proxying members hedera governing council time coins proxying gain wider wider distribution distributed millions nodes accounts cryptoeconomics 40 x0cacknowledgements gratefully acknowledge contributions help advisors natalie furman tom trowbridge edgar seah jordan fried christian hasker arlan harris paul bugeja alex godwin ken anderson patrick harding zenobia godschalk george samman sam brylski tom sylvester rachel epstein document issued hedera hashgraph llc company incorporated delaware united states constitutes general information updated contains forward looking statements based beliefs intentions authors certain assumptions information available statements assumptions information based analysis sources considered appropriate reliable assurance accuracy completeness document constitute offer sale securities offer sale occur based definitive offering documents project envisioned document development subject change available jurisdictions representation warranty given achievement reasonableness plans future projections prospects document constitute advice offer kind relied purpose document issued english translation reference purposes certified hedera hashgraph llc person english version document prevails extent inconsistency translation obtain necessary professional advice xc2 xa9 2018 2019 hedera hashgraph llc rights reserved acknowledgements 41 x0cappendices appendices 42 x0cappendix 1 team dr leemon baird co founder cto chief scientist leemon inventor hashgraph distributed consensus algorithm co founder chief scientist hedera 20 years technology startup experience held positions professor computer science air force academy senior scientist labs co founder startups including identity related startups acquired leemon received phd computer science carnegie mellon university multiple patents publications peer reviewed journals conferences computer security machine learning mathematics mance harmon co founder ceo mance experienced technology executive entrepreneur 20 years strategic leadership experience multi national corporations government agencies high tech startups cofounder ceo hedera prior experience includes serving head architecture labs ping identity founder ceo tech startups senior executive product security $1 7b revenue organization program manager large scale software program missile defense agency course director cybersecurity air force academy research scientist machine learning wright laboratory mance received ms computer science university massachusetts bs computer science mississippi state university n ata l e g r u n f e l d f u r m n g e n e r l c o u n s e l natalie general counsel hedera previously senior associate paul hastings llp practice focused intellectual property unfair competition rights privacy publicity prior law school started career silicon valley providing strategic advice high tech startups director strategy business development online group communication startup acquired yahoo inc director business development technology startup developing global collaborative supply chain platform natalie received ba anthropology honors stanford university jd columbia university school law appendices 43 x0cchristian hasker chief marketing officer christian decades experience enterprise software variety roles startups large companies including marketing product management product marketing sales management chief marketing officer hedera previously vicepresident marketing datastax responsible developer education open source apache cassandra community initiatives period hyper growth brit birth christian degrees university manchester london college music lionel chocron chief product officer lionel experienced product executive 20 years experience bringing enterprise products market driving adoption chief product officer hedera joins oracle vice president industry emerging technology led emerging technology blockchain iot ai solution efforts industries prior vice president general manager cisco co launched productized scaled cisco xe2 x80 x99s fast growing internet things iot business previously held roles t kearney bain company bnp paribas lionel mba uc berkeley xe2 x80 x99s haas school business masters engineering mcgill university bachelor xe2 x80 x99s degree engineering ecole des mines m e h e r n o s h n o s h m o dy s e n o r v c e p r e s d e n t e n g n e e r n g nosh brings 25 years experience engineering manager technology executive senior vice president engineering hedera previously director r d trend micro tippingpoint responsible development innovation tippingpoint intrusion prevention systems prior trend micro managed r d numerous startups including britestream networks coretrace corp nosh mba university texas ms computer science university massachusetts appendices 44 x0cat u l m h m u n s e n o r v c e p r e s d e n t p r o d u c t atul years experience product management senior vice president product hedera previously vicepresident blockchain saas apps internet things iot saas apps paas platform oracle prior served product management strategy development roles cisco juniper networks nokia z e n o b g o d s c h l k senior vice president corporate communications zenobia 20 years experience high tech pr helping companies create dominate new categories senior vicepresident corporate communications hedera previously sell analyst investment bank morgan keegan wall street journal xe2 x80 x99s 1 ranked software analyst team prior served head corporate communications opsware inc nasdaq opsw founded marc andreessen ben horowitz acquired hp $1 6b zenobia graduated stanford university ba economics psychology minor industrial engineering j o r d n f r e d s e n o r v c e p r e s d e n t b u s n e s s d e v e l o p m e n t jordan dlt evangelist self professed crypto capitalist senior vice president business development hedera previously co founder ceo buffered vpn fastest growing personal vpn service online acquired q1 2017 jordan investor companies hive org buffer app featured entrepreneur magazine inc com wired com time magazine success com appendices 45 x0ce d g r s e h h e d o f s pa c f c r e g o n edgar angel investor early stage tech companies head asia pacific region business development hedera head asset backed trading syndication co head asset backed originations bank america merrill lynch asia lived ghana launch sponsors educational opportunity africa revenue generating non profit leadership development program young africans edgar earned ba carnegie mellon university phi beta kappa b r e t t m c d ow e ll e x ec utiv e d r ec r g ov e r n n g co u n c l brett brings 20 years industry coalition experience founding executive director vice chair hedera governing council founding executive roles kantara initiative idesg dmarc org fido alliance serves advisor addition extensive multi stakeholder governance experience having served board advisory board maawg ncsa stopbadware pci ssc industry coalitions brett fellow umass center digital government member federal reserve bank xe2 x80 x99s mobile payments industry working group recipient 2019 50 tech leaders award intercon k e n n d e r s o n c h e f d e v e l o p e r d v o c e ken passionate distributed economy chief developer advocate hedera serial entrepreneur 20 years experience system design software architecture built team award winning engineers consulted interim cto companies periods restructuring lead contributor tm forum xe2 x80 x99s rest api design guidelines multi trillion global telecom industry ken graduated bba management information systems california state university intelligence sergeant united states army appendices 46 x0cappendix 2 sharding initially network consist relatively small number nodes single shard network grows gain sufficient nodes support multiple shards shards work following way transaction submitted specific shard shard node receives shard xe2 x80 x99s transactions node maintains identical shared state shard store cryptocurrency accounts files shard run smart contracts shard uses hashgraph consensus algorithm reach consensus order transactions shard able trust consensus decision shards shard composed randomly chosen nodes large trusted 1 3 staked cryptocurrency owned malicious nodes transaction involves resources given shard point consensus order reached transaction performs effect example transaction cryptocurrency accounts shard save file shard pay account shard cases cryptocurrency transfers file stored immediately point transaction occurs consensus order transaction involves resources different shards trigger inter shard messages example cryptocurrency account alice shard alpha account bob shard beta alice creates signs transaction cryptocurrency alice bob submits transaction node alpha shard nodes alpha reach consensus order point event occurs consensus order alice xe2 x80 x99s account balance decreased sent message beta shard generated shard maintains queue outgoing messages sent shards new message added queue alpha maintains messages send beta message given queue 64 bit sequence number starts zero network created increments new message sent member alpha random intervals check messages outgoing queues attempt send queues messages intended beta random member beta messages queue proof queue current signed state alpha member beta receives list messages member alpha beta member submits transaction beta messages proof signed state message submitted won xe2 x80 x99t submit message submitted twice time case sequence numbers match duplicate ignored harm appendices 47 x0call messages particular shards processed order sequence number alpha sends message beta added transaction beta sequence checked transaction reaches consensus message sequence effect performed immediately sequence number shows messages skipped effect ignored case messages eventually reach consensus skipped message submitted effect beta processes message alpha expected sequence number alpha increments count number messages alpha processed shard maintains single number shards latest sequence number shard processed alpha sent message beta message remains outgoing queue attempts repeatedly send eventually member apha contact member beta send message receive proof message processed proof shows signed state contains beta xe2 x80 x99s sequence count messages received alpha count higher message queue point member alpha wraps proof transaction gossips alpha reaches consensus order point message deleted outgoing queue shared state example transferring cryptocurrency alice bob xe2 x80 x9cfinality xe2 x80 x9d know transfer valid alice sufficient funds bob certainly receive funds transfer alice buy product bob finality point time safe bob product alice time finality actually short consensus time single shard consensus reached initial transaction certain alpha send message beta beta process bob xe2 x80 x99s account receive transfer finality fast consensus transfer source account destination accounts finality fast soon initial transaction reaches consensus known sufficient funds messages sent single transaction transfer source accounts destination account source accounts different shards finality slower involve type message xe2 x80 x9chold xe2 x80 x9d later followed xe2 x80 x9crelease xe2 x80 x9d example suppose transaction created transfer 2 coins alice alpha shard 3 coins bob beta shard 5 coins transferred gina gamma shard intended atomic happen alice bob sufficient funds transfer achieve transaction signed alice bob submitted alpha shard reaches consensus causes xe2 x80 x9chold xe2 x80 x9d 2 coins alice xe2 x80 x99s account means 2 coin xe2 x80 x99s worth account temporarily frozen frozen alice free receive funds transfer funds xe2 x80 x99t transfer decrease balance 2 coins appendices 48 x0cat time alpha puts hold 2 coins alice sends message beta requesting hold 3 coins bob message need signed bob coming alpha alpha checked bob signed transaction message received reaches consensus beta attempt hold bob xe2 x80 x99s account 3 coins sufficient funds succeeds 3 coins fails hold beta sends alpha message saying hold successful alpha receives reply hold successful alpha decrements alice xe2 x80 x99s account 2 coins removes hold sends message beta saying decrement bob xe2 x80 x99s account 3 coins removing hold sends message gamma increment gina xe2 x80 x99s account 5 coins hand beta xe2 x80 x99s message said hold failed bob sufficient coins alpha simply released hold alice xe2 x80 x99s account considers entire transaction failed balances change note started alpha processing initial transaction possible alpha calculate messages involved entire process 4 messages example alpha check transaction included authorization service fee included fee service sending 4 messages hedera automatically makes payments nodes created message transactions handled ignored duplicates acts incentive nodes work sending messages shards receiving confirmations receipt creating transactions contain messages confirmations appendices 49 x0cappendix 3 consensus service appendices 50 x0cabstract hedera consensus service synchronizes fair order messages distributed systems relying centralized clock consensus service proof concept use case providing custom hyperledger fabric networks decentralized consensus validity order blockchain transactions need configure raft 1 kafka2 ordering service additional use cases include limited financial markets matching engines like uber airbnb supply chain negotiations e g competing factories bidding parts competing parts suppliers o n d st r b u t e d l e d g e r t h e e n t r e n e t wo r k r ec o r d s n d va l dat e s e ac h t r n s ac t o n xe2 x80 x9cconfiguring operating raft ordering service xe2 x80 x9d https hyperledger fabric readthedocs io en release 1 4 raft configuration html 2 xe2 x80 x9cbringing kafka ordering service xe2 x80 x9d https hyperledger fabric readthedocs io en release 1 4 kafka html 1 appendices 531 x0cintroduction hedera consensus service distributed ledger technology dlt network service provide solely validity order events transparency history events time requiring persistent history transactions result hedera consensus service provides benefits fast fair secure consensus lower cost public distributed ledger network financial services iot supply chain timing order events dictates financial transactions meaningful asset provenance applications execute logic based events occur specific time specific order cases users applications need look time history order audit reconciliation today applications rely moderation matching ordering performed single entities makes prone network outage 3 risk collusion small number parties4 subject cost model centralized infrastructure providers5 private distributed ledger networks rely nodes operated parties provide consensus rest network6 approach poses economic risk cost operational risk unintentional outage intentional manipulation service distributed ledger space protocols aim solve problem provision features 1 decentralized consensus validity order events 2 transparency history events time value relies existence nodes come agreement time event occurred ultimately producing consensus order events time distributed ledgers r3 xe2 x80 x99s corda hyperledger fabric enterprise version ethereum deploy known trusted nodes operated institutions trust single party provide order rely slow expensive public ledgers like bitcoin ethereum select block producer proof work 7 applications forced wait minutes hours confirmation finality transaction market need distributed fast consensus need centralize consensus process gps error caused xe2 x80 x9812 hours problems xe2 x80 x99 companies chris baraniuk https www bbc com news technology 35491962 4 corrupt governance know recent eos scandal stephen o xe2 x80 x99neal https cointelegraph com news corrupt governance know recent eos scandal 5 cloud pub sub google cloud https cloud google com pubsub 6 ordering service xc2 xb6 https hyperledger fabric readthedocs io en release 1 4 orderer ordering service html notaries xc2 xb6 7 xe2 x80 x9crecent studies hint performance pow based blockchains enhanced impacting security xe2 x80 x9d https eprint iacr org 2016 555 pdf 3 appendices 542 x0cthe second value ability individual entity independently verify event occurred frequently track account balances tokens verify provenance asset traditional blockchains rely storage events members network model allows simple querying account balances limits performance 10 20 tps means ledger continue grow bitcoin 200 gb writing paper 8 hedera provides unique solution deliver optimized performance decentralized consensus need persist history transactions time provision hedera consensus service hedera consensus service use hedera public network underlying hashgraph consensus algorithm fast fair secure consensus offloading validation storage requirements distinct applications computers mirror network bitcoin blockchain size 2010 2019 statistic https www statista com statistics 647523 worldwide bitcoin blockchain size 8 appendices 553 x0chedera governance path decentralization hedera public network built ground deliver decentralized services scale needed enterprise consumer applications includes decentralization network operations high performance guaranteed finality d e c e n t r l z o n performance finality decentralization hedera public network governed council 39 term limited multi industry multi geo large enterprises ensure stability growth network act initial node operators node operation public long term ensures network services provides prone collusion manipulation desire small group entities miners acts multi cloud multi data center service inherent disaster recovery high availability application hedera consensus service provides transaction ordering decentralized network relying single cloud provider small group private node operators performance throughput continues bottleneck majority decentralized public networks today hashgraph enables faster consensus 100% finality need elect leaders trust small subset nodes way compromise security network hedera consensus service extend benefit transaction type submitted application consensus occurs matter seconds processing tens hundreds thousands transactions second level performance required scaled consumer enterprise application finality hedera service p p e n d consensus ices 564 x0cthroughput continues bottleneck majority decentralized public networks today hashgraph enables faster consensus 100% finality need elect leaders trust small subset nodes way compromise security network hedera consensus service extend benefit transaction type submitted application consensus occurs matter seconds processing tens hundreds thousands transactions second level performance required scaled consumer enterprise application finality finally order created mainnet final verifiable consensus timestamps hedera mainnet 100% final created asynchronous byzantine fault tolerance abft nature means timestamp given transaction final change client application query network record created automatically hedera consensus service nodes capture key information transaction added consensus optionally 6 ask corresponding state proof cryptographically secure persistent assertion network accuracy record confirm timestamp additionally consensus service transactions stored mirror nodes running additional software users run mirror nodes query mirror node state proofs validate records multiple mirror nodes verify complete order needing trust single node operator appendices 575 x0cthe fair order transactions hashgraph xe2 x80 x99s primary function calculate fair order transactions decentralized environment major differentiators degree individuals small groups prevented manipulating order ensuring fairness 9 hedera public ledger uses hashgraph consensus algorithm hbar cryptocurrency initially provide services cryptocurrency smart contract file service hashgraph uses gossip gossip virtual voting order bring network consensus timestamp event efficiency bandwidth usage centralizing entity group entities hbars network coin enable holder coin pay utility provided network ensures security network process staking tying influence virtual voting coin held gossip hedera nodes takes place speed regardless node submitted transaction increased paying given transaction differs public network models allow applications pay transactions processed similarly concept leaders consensus small subset nodes collude unduly influence consensus order favor transactions propagated network come final consensus matter seconds application worried single node holding sending transaction rest network submit multiple nodes scenario transaction reach consensus kept ignored hedera xe2 x80 x99s services hedera built initial services expose value decentralization application builder 1 cryptocurrency access low cost fast method transferring value accounts relying intermediaries cryptocurrency service payment applications data purchases use cases relying fast value transfer 2 smart contracts execute code deterministically needing trust application operator build fair markets issue tokens program business logic solidity deploy hedera benefit trusted security fair ordering 3 file service store data network node user access store obfuscated data benefit consensus timestamp state data point time create decentralized registries records public data file service 9 https www hedera com whitepaper appendices 586 x0cthese services enable large enterprises independent developers consumers build use applications industries geographies consumable sdks common programming languages intended support applications type extending consensus service hedera extends network services fourth service brings fairness provided hashgraph consensus algorithm hedera consensus service service receives messages assigns consensus timestamps consensus order consensus service relies feature propagate history transactions results participants mirror network messages ordered consensus service received mirror nodes developers choose implement additional software mirror node mirror node store messages certain topics identifiers associate message specific application network store messages strings bytes representing given transaction store records transactions reached consensus ledger stored form resembles traditional blockchain hedera ledger keeps history 101010 010101 101010 101010 010101 101010 101010 010101 101010 mirror nodes hedera mirror network mirrornet parallel network dedicated propagating state hedera main network mainnet propagation accomplished adding unnecessary strain mainnet able host mainnet node future mirror nodes allow businesses extend functionality hedera impact mainnet mirrornet set nodes maintain requirements functionality mainnet primary difference functionality mirror nodes participate consensus receive information mainnet send information mirror nodes continue gossip mirror nodes calculate consensus verify signatures effect mainnet ability submit transactions consensus voting power mirror nodes thought read nodes transactions submitted mirror node hedera api mirror nodes operators appendices 597 x0care free develop additional apis providing new kinds services develop beta version mirror nodes completed 2019 greater latency e g minute mirror nodes latency seconds mirror nodes operated individuals private networks leveraging consensus service able filter receive events records transactions specified topic able store history events relevant application appendices 108 5 x0carchitecture section describe architecture consensus service hedera public network overview consensus service enable interoperability hyperledger fabric based network hedera consensus service architecture hedera consensus service fourth core service provided hedera like services consensus service exposed diverse number sdks common programming languages hedera api hapi protobufs allows applications access network services sdk abstractions lower level apis client application submit message string bytes topic id number message include relevant details transaction bid financial asset hash data stored topic allow messages topic classified client application pay transaction fee denominated hbars use consensus service hedera public ledger return record says consensus reached timestamp reached sequence number event given topic sequence number allow application interpret order message relative messages topic result include running hash messages far topic running hash bytes act fingerprint messages far topic topics created executing transaction defined hapi allows topic created keys owner specified keys allowed post delete topic hedera hashgraph specified return id number topic hedera sdk cryptocurrency service smart contract service file service consensus service hedera network figure 1a public network appendices 5119 x0cin practice expect consensus service group mirror node operators users leveraging application handles private proprietary data benefits fast ordering decentralized trust immutable record public ordering service set network organizations configure multiple mirror nodes program client applications configure multiple keys allow keys group group define topic use identify transactions relevant group topic attached messages client application send hedera public network 8 client application client application communicates mirror node execute logic based transaction order 7 mirror node sdk interface 1 client application submits transaction message topic mirror node parses transaction details create order 2 3 hedera node returns pre check con irmation 6 mirror node listens records given topic hedera node gossips event network 4 mainnet node hedera network determines order consensus timestamp event 5 hedera node generates transaction record payload topic order consensus timestamp figure 1b transaction ordering process figure outlines process sending transaction hedera consensus service client application create transaction hedera sdk allows include message topic message describe action contain hash byte array relevant client application application need use topics like hedera network services transaction sent single multiple mainnet nodes mainnet node check transaction necessary information signature s payment inputs return acknowledgment client application transaction met precheck sample transaction shown appendices 6120 x0cthe mainnet node gossip event rest network allowing network determine consensus timestamp event hashgraph consensus algorithm record generated includes message topic order running hash consensus timestamp consensus timestamp 100% final reached typically reached matter seconds mirror node receives information mainnet learns transaction consensus order consensus timestamps tied running hash construct state proofs prove party exact list messages received topic order timestamps mirror node runs software implements application xe2 x80 x99s business logic results ordered transaction return results application matching bids asks stock market transferring security tokens account holders updating status good shipping logistics provider feature performance cost profile similar cryptocurrency service $0 001 transaction finality achieved matter seconds application benefits distribution mirror network hedera public network user records multiple mirror nodes check state proofs10 confirm mainnet agreed consensus timestamp order transaction enables realtime audit mirror node verify right thing user run mirror node immediately know truth ordering correct conclusions hyperledger fabric interoperability hedera consensus service proof concept use case provides custom hyperledger fabric networks decentralized consensus validity order blockchain transactions need configure raft 11 kafka12 ordering service hyperledger fabric features kind node called orderer xe2 x80 x99s known xe2 x80 x9cordering node xe2 x80 x9d transaction ordering nodes forms ordering service fabric xe2 x80 x99s design relies deterministic consensus algorithms block peer validates generated ordering service guaranteed final correct 13 addition promoting finality separating endorsement chaincode execution happens peers ordering gives fabric advantages performance scalability eliminating bottlenecks occur execution ordering performed nodes new hyperledger fabric v1 4 1 raft crash fault tolerant cft ordering service based implementation raft protocol etcd raft follows xe2 x80 x9cleader follower xe2 x80 x9d model leader node elected channel decisions replicated followers 14 state proof cryptographically secure portable assertion majority network nodes fact transaction entered consensus state resulted 10 11 configuring operating raft ordering service xc2 xb6 https hyperledger fabric readthedocs io en release 1 4 raft configuration html 12 bringing kafka based ordering service xc2 xb6 https hyperledger fabric readthedocs io en release 1 4 kafka html ordering service xc2 xb6 https hyperledger fabric readthedocs io en release 1 4 orderer ordering service html 13 ordering service xc2 xb6 https hyperledger fabric readthedocs io en release 1 4 orderer ordering service html 14 appendices 13 61 x0cwhile raft easier set manage kafka based ordering services option hyperledger fabric drawbacks 1 configuration complexity interrelated steps process bootstrapping hyperledger fabric ordering node15 steps add new node raft cluster 16 2 byzantine fault tolerance byzantine fault condition components act malicious way includes situation network controlled attacker 17 raft step fabric xe2 x80 x99s development byzantine fault tolerant bft ordering service isn xe2 x80 x99t byzantine fault tolerant today 18 hedera consensus service global fault tolerant cost effective ordering service available hyperledger fabric network built today 19 run council public run fabric network members client application 1 broadcasts endorsed messages hedera node choice randomly sdk interface 4 mainnet nodes notify 2 3 fabric plugin fabric peers gossip transactions nodes mainnet mirror nodes calculating consensus timestamp generating state proofs publish order registered peers peers register mirror nodes mirror nodes byzantine xe2 x80 x93 hyperledger fabric network inheirets abft nature hedera mainnet fabric peer communicate mainnet mirror net node non malicious node record state proof transaction malicious nodes apparent immediately records contradict mirror net node needs running system honest figure 1c hyperledger fabric hedera consensus service interoperability setting ordering node xc2 xb6 https hyperledger fabric readthedocs io en release 1 4 orderer deploy html 16 configuring operating raft ordering service xc2 xb6 https hyperledger fabric readthedocs io en release 1 4 raft configuration html 17 byzantine fault https en wikipedia org wiki byzantine fault 18 ordering service xc2 xb6 https hyperledger fabric readthedocs io en release 1 4 orderer ordering service html 19 introduction https hyperledger fabric readthedocs io en release 1 2 whatis html 15 appendices 142 6 x0cthe diagram previous page demonstrates architecture enabling hyperledger fabric network use hedera consensus service hyperledger fabric network inherit byzantine nature hedera public network step 1 client application broadcast endorsed message hedera network transaction endorsed hyperledger fabric peers endorsement policy client application submit transaction mainnet nodes multiple like higher degree confidence transaction submitted network transaction passed byte array hash transaction unique transaction id etc include topic identifies transaction belonging specific fabric network transaction consensus timestamp hedera network preparing ordered mirror nodes receive gossip mainnet nodes calculate consensus timestamp generate state proof mirror nodes publish order registered set hyperledger fabric peers transactions structured stored running hash create tamper proof chain ordered transactions relevant fabric network fabric peer communicate mainnet mirror net node non malicious node record state proof transaction malicious nodes apparent immediately unable provide valid state proofs hedera consensus service provides fabric network ability order transactions high throughput global network nodes need operated individually trusted members fabric network reduce operational cost fabric based solutions improve resiliency data center outages alleviate need determine operates private fabric ordering services network appendices 153 6 x0cuse case explore example fabric network security token followed decentralized stock market paper demonstrate use hedera consensus service operation private network token issuance private network based hyperledger fabric issue token securities trading regulated industries fungible token representing fractional ownership specific property permissioned investors purchase trade asset members network administrator create topic communciate topic id members network recognize network token associated transaction 20 user transfers token user b client application automatically hash transaction id submit message payload transaction specifying correct topic transaction signed user xe2 x80 x99s client application sent hedera public network record returned order message client application complete transfer users having fair final consensus timestamp transaction occurred scale application able determine transfers come invalid depending timestamp users able query mirror node mainnet directly confirm record given transaction use mirror nodes look time ensure application decentralized correctly network support atomic swaps security tokens networks user came agreement trade token 1 token 2 token issued traded regulated network currently owned user c order exchange tokens user participant network use case required networks act regulated financial markets investors verified token locked smart contract deployed network requires signatures users timestamp transaction hedera public network user agree unlock transfer tokens new owner simultaneously triggered transaction sent hedera consensus service returned consensus timestamp networks different privacy requirements certain networks choose use rotating anonymized topics transactions harder identify 20 appendices 6164 x0cthe fabric hedera architecture enables benefits permissioned asset trading private network decentralized trust immutability hedera public network users worry manipulation transaction order centralized party confidence service sustain downtime individual nodes ordering stock market stock markets typically foster behavior causing financial firms spend millions millisecond advantage time takes communicate bid ask stock market 21 fosters malicious behavior certain firms run achieve financial advance stock markets built hedera deliver fairness market participants stock market built application private network similar token trading use case directly mirror node series mirror nodes mirror nodes run software allowing receive messages mainnet including consensus timestamp order listen messages sent topic related stock market built user application submit bid ask hedera consensus service anonymized manner random transaction id plaintext bid ask message include topic identifies belonging specific market asset class message receive consensus order timestamp returned single multiple mirror nodes running stock market mirror nodes listening messages correct topic reduce storage burden local database structured ordered messages application able use database match bids asks based consensus timestamps operate efficient fair stock market user doesn xe2 x80 x99t trust mainnet node submit multiple nodes bottlenecked single source truth user doesn xe2 x80 x99t trust mirror node user able ask state proof ask mirror node records transactions ask mainnet state proof users choose users able run mirror node additionally verify outcomes stock market honest node able cryptographically prove right wrong 21 xe2 x80 x98rigged xe2 x80 x99 wall street milliseconds difference https www npr org 2014 04 01 297686724 rigged wall street milliseconds difference appendices 6175 x0cliars use case users mirror nodes shown immediately node xe2 x80 x99s results conflict barrier malicious users impact overall consensus process higher use public network single entity aligned group need attain 1 3 hbars existence materially impact consensus smaller private networks barrier lower fewer number participants lack proof stake security mechanism likely stock market applications add privacy architecture certain information confidential application case encrypt message submit hedera appropriate parties able read message hedera know message processed application decrypt message key comparing bids asks allows true privacy stock market appendices 186 6 x0cadditional opportunities previous use cases scratch surface potential use cases hedera consensus service ride hailing applications use service match supply demand taxi real time supply chains use service accurate fair timestamp asset transfers supply chain parts manufacturers use service real time actions goods iot manufacturers use service consensus timestamp data read outs sensors globe hedera consensus service provides tool box application builders leveraging power decentralization appendices 197 6 x0cconclusion hedera consensus service brings value fast fair secure decentralized consensus application xe2 x80 x93 private ledger based organizations individuals issue trade tokens private ledgers fair global ordering transactions application hedera consensus service reduces cost operating private networks enables privacy scalability improves trust model private ledgers centralized servers hedera network services value consensus service realized diverse applications built network developers organizations size focus long term enable network interconnected applications leveraging common service ordering transactions user bases appendices 20 68 x0cappendix 4 hashgraph appendices 69 x0cthe swirlds hashgraph consensus algorithm fair fast byzantine fault tolerance leemon baird 31 2016 swirlds tech report swirlds tr 2016 01 abstract new system swirlds hashgraph consensus algorithm proposed replicated state machines guaranteed byzantine fault tolerance achieves fairness sense difficult attacker manipulate transactions chosen consensus order complete asynchrony leaders round robin proof ofwork eventual consensus probability high speed absence faults based gossip protocol participants don xe2 x80 x99t gossip transactions gossip gossip jointly build hashgraph reflecting gossip events allows byzantine agreement achieved virtual voting alice send bob vote internet instead bob calculates vote alice sent based knowledge alice knows yields fair byzantine agreement total order transactions little communication overhead transactions keywords byzantine byzantine agreement byzantine fault tolerance replicated state machine fair fairness hashgraph gossip gossip virtual voting swirlds contents list figures 1 introduction 2 core concepts 3 gossip gossip hashgraph 4 consensus algorithm 5 proof byzantine fault tolerance 6 fairness 7 generalizations enhancements 8 conclusions references 9 appendix consensus algorithm functional form 1 2 2 4 5 6 12 19 20 24 25 26 revision date february 16 2018 1 appendices 70 x0c2 swirlds hashgraph consensus algorithm swirlds tr 2016 01 list figures 1 gossip history directed graph 5 2 hashgraph data structure 7 3 illustration strongly seeing 8 4 pseudocode swirlds hashgraph consensus algorithm 11 5 pseudocode dividerounds procedure 12 6 pseudocode decidefame procedure 13 7 pseudocode finalorder procedure 14 1 introduction distributed databases required replicated state machines byzantine fault tolerance authors term xe2 x80 x9cbyzantine xe2 x80 x9d weak sense assuming attackers collude communication weakly asynchronous 1 paper xe2 x80 x9cbyzantine xe2 x80 x9d strong sense original definition 2 1 3 members attackers collude delete delay messages honest members bounds message delays attackers control network delay delete messages time honest member repeatedly sends messages member attackers eventually allow assumed secure digital signatures exist attackers undetectably modify messages assumed secure hash functions exist collisions found paper proposes describes swirlds hashgraph consensus algorithm proves byzantine fault tolerance strong definition deterministic byzantine system completely asynchronous unbounded message delays guarantee consensus flp theorem 3 possible nondeterministic system achieve consensus probability hashgraph consensus algorithm completely asynchronous nondeterministic achieves byzantine agreement probability systems paxos 4 raft 5 use leader vulnerable large delays attacker launches denial service attack current leader 6 systems delayed single bad client 7 fact paper suggests systems vulnerabilities better described xe2 x80 x9cbyzantine fault survivable xe2 x80 x9d xe2 x80 x9cbyzantine fault tolerant xe2 x80 x9d hashgraph consensus use leader resilient denial service attacks small subsets members systems bitcoin based proof work blockchains 8 avoids problems systems byzantine member knows sure consensus achieved probability confidence continues rise time blocks mined simultaneously chain fork community agree branch extend blocks added slowly community add longer branch eventually branch stop growing pruned discarded xe2 x80 x9cstale xe2 x80 x9d leads inefficiency sense appendices 71 x0cthe swirlds hashgraph consensus algorithm swirlds tr 2016 01 3 blocks mined properly discarded means necessary slow fast blocks mined community jointly prune branches faster new branches sprout purpose proof work requiring miners solve difficult computation problems block ensure entire network sufficiently long delays mining events average hashgraph consensus algorithm equivalent block chain xe2 x80 x9cchain xe2 x80 x9d constantly branching pruning blocks stale miner allowed new blocks second proof work 100% efficiency proof work blockchains require electricity wasted extra computations expensive mining rigs bought proof expired time system 9 avoid wasted electricity cost mining rigs trusted hardware chips delay long periods proof work computations requires participants trust company created chip trust chip venders exists situations freebsd changed rely solely hardware rdrand instruction secure random numbers xe2 x80 x9cwe trust xe2 x80 x9d 10 byzantine agreement systems developed byzantine agreement avoid problems systems typically exchange messages members vote n members decide single yes question systems require o n messages sent network systems require o n2 o n3 messages crossing network binary decision 11 algorithm single yes decision extended deciding total order set transactions increase vote traffic hashgraph sends votes network voting virtual appendices 72 x0c4 swirlds hashgraph consensus algorithm swirlds tr 2016 01 2 core concepts hashgraph consensus algorithm based following core concepts xe2 x80 xa2 transactions member create signed transaction time members copy community reaches byzantine agreement order transactions xe2 x80 xa2 fairness difficult small group attackers unfairly influence order transactions chosen consensus xe2 x80 xa2 gossip information spreads member repeatedly choosing member random telling know xe2 x80 xa2 hashgraph data structure records gossiped order xe2 x80 xa2 gossip gossip hashgraph spread gossip protocol information gossiped history gossip xe2 x80 x9cgossip gossip xe2 x80 x9d uses little bandwidth overhead simply gossiping transactions xe2 x80 xa2 virtual voting member copy hashgraph alice calculate vote bob sent running traditional byzantine agreement protocol involved sending votes bob doesn xe2 x80 x99t need actually vote member reach byzantine agreement number decisions single vote sent hashgraph sufficient zero bandwidth simply gossiping hashgraph xe2 x80 xa2 famous witnesses community list n transactions order running separate byzantine agreement protocols o n log n different yes questions form xe2 x80 x9cdid event x come event y xe2 x80 x9d faster approach pick events vertices hashgraph called witnesses define witness famous hashgraph shows members received fairly soon created xe2 x80 x99s sufficient run byzantine agreement protocol witnesses deciding witness single question xe2 x80 x9cis witness famous xe2 x80 x9d byzantine agreement reached exact set famous witnesses easy derive hashgraph fair total order events xe2 x80 xa2 strongly seeing given vertices x y hashgraph immediately calculated x strongly y defined true connected multiple directed paths passing members concept allows key lemma proved alice bob able calculate carol xe2 x80 x99s virtual vote given question alice bob answer lemma forms foundation rest mathematical proof byzantine agreement probability appendices 73 x0cthe swirlds hashgraph consensus algorithm swirlds tr 2016 01 alice bob carol dave 5 ed time figure 1 gossip history directed graph history gossip protocol represented graph member column vertices alice receives gossip bob telling knows gossip event represented vertex alice column edges going downward immediately preceding gossip events alice bob 3 gossip gossip hashgraph hashgraph consensus uses gossip protocol means member alice choose member random bob alice tell bob information knows far alice repeats different random member bob repeatedly members way single member aware new information spread exponentially fast community member aware history gossip protocol illustrated directed graph like figure 1 vertex alice column represents gossip event example event alice column represents bob performing gossip sync alice bob sent information knew vertex downward edges connecting immediately preceding gossips alice bob time flows graph lower vertices represent earlier events history typical gossip protocol diagram merely discuss protocol actual graph like stored memory hashgraph consensus graph actual data structure figure 2 illustrates data structure event vertex stored memory sequence bytes signed creator example event alice red records fact bob performed gossip sync sent knew event created alice signed contains hashes events event bob xe2 x80 x99s event prior gossip sync red event contain payload transactions alice chooses create moment timestamp time date alice claims created ancestors event gray contained determined set cryptographic hashes data structures graphs hashes purposes git vertices versions file tree edges represent changes git stores appendices 74 x0c6 swirlds hashgraph consensus algorithm swirlds tr 2016 01 record members communicated hashgraph different purpose records history members communicated gossip protocols widely transfer variety types information involve gossiping user identities gossiping transactions gossiping blockchain blocks gossiping information needs distributed protocol gossip gossip members gossiping transfer hashgraph bob gossiped alice events knew gossiping hashgraph gives participants great deal information new transaction placed payload event quickly spread members member knows alice learn transaction know exactly bob learned transaction know exactly carol learned fact bob learned transaction deep chains reasoning possible members copy hashgraph hashgraph grows upward different members slightly different subsets new events near quickly converge having exactly events lower hashgraph furthermore alice bob happen given event guaranteed ancestors agree edges subgraph ancestors allows powerful algorithms run locally including byzantine fault tolerance power comes little communication overhead community simply gossiping signed transactions create certain bandwidth required instead gossip hashgraph transactions typical event contains transaction overhead minimal instead alice signing transaction creates sign event creates contain transaction way sending signature way send transaction extra overhead send hashes greatly compressed figure 2 alice send carol red event carol earlier ancestors alice earlier sync alice need send hashes blue parent events sufficient tell carol event alice parent bob appropriate compression sent bytes adding percent size message sent 4 consensus algorithm ensure member knows event necessary agree linear ordering events transactions recorded inside events byzantine fault tolerance protocols leader depend members sending votes n members agree single yes question require o n2 voting messages sent network member tells member vote protocols require receipts votes sent making o n3 require multiple rounds voting increases number voting messages sent appendices 75 x0cthe swirlds hashgraph consensus algorithm swirlds tr 2016 01 alice bob carol dave 7 ed figure 2 hashgraph data structure alice creates event red recording occurrence bob gossip sync telling knows event contains hash parent events blue self parent dark blue creator alice parent light blue bob contains payload new transactions alice chooses create moment digital signature alice ancestor events gray stored red event determined hashes self ancestors dark gray reachable sequences self parent links light gray hashgraph consensus require votes sent member copy hashgraph alice bob hashgraph calculate total order events according deterministic function hashgraph answer consensus achieved sending vote messages course alice bob exactly hashgraph given moment typically match older events recent events events seen furthermore occasionally new event released community placed lower earlier location hashgraph hashgraph consensus algorithm deals issue system best thought virtual voting suppose alice hashgraph bob hash hashgraph b hashgraphs slightly different given moment consistent consistent means b contain event x contain exactly set ancestors x contain exactly set edges ancestors alice knows x bob honest actively participating expect bob learn x fairly quickly gossip protocol consensus algorithm assumes happen eventually assumptions fast happen protocol completely asynchronous assumptions timeout periods speed gossip rate progress alice calculate total order events calculating series elections election events considered cast vote events considered receive vote alice appendices 76 x0c8 swirlds hashgraph consensus algorithm swirlds tr 2016 01 b c d figure 3 illustration strongly seeing hashgraph yellow event strongly orange events row n 5 members integer greater 2n 3 4 d event orange ancestor 4 intermediate events different creators red ancestor yellow event yellow event strongly orange event hashgraphs colored different orange event row yellow event 4 red events 4 orange events parents yellow event created round r yellow created round r 1 strongly 2n 3 witnesses created different members round r note event defined ancestor self ancestor calculate multiple elections given event participate elections cast different votes different elections event created bob talk bob voting certain way given election actual member bob involved purely calculation alice performing locally calculating vote bob sent real bob actually sending votes internet virtual voting benefits addition saving bandwidth ensures members calculate votes according rules alice honest calculate virtual votes virtual bob honest real bob cheater attack alice making virtual bob vote incorrectly bob try cheat different way suppose bob creates event x certain self parent hash pointing previous event z bob creates new event y gives self parent hash z instead giving self parent hash x means events bob hashgraph longer chain tree created fork bob gossips x alice y carol alice carol aware fork alice calculate virtual vote x different carol xe2 x80 x99s virtual vote y hashgraph consensus algorithm prevents attack concept state seeing concept state strongly seeing based definitions ancestor self ancestor event considered ancestor self ancestor bob creates events x y self ancestor bob cheated forking event w x ancestor doesn xe2 x80 x99t appendices 77 x0cthe swirlds hashgraph consensus algorithm swirlds tr 2016 01 9 y ancestor event w event x x y ancestors w w defined event creator words w x x known forks creator known n members event w strongly event x w 2n 3 events different members x concept illustrated figure 3 copies hashgraph shown different event row colored orange d yellow event 4 red events different members orange event true b c actually having 5 red events 4 needed strongly seeing example n 5 members integer greater 2n 3 4 concept allows agreement protocol achieve byzantine fault tolerance actual voting local virtual voting virtual voting event x votes yes question e g event famous vote calculated purely function ancestors x vote considered sent x descendant event w w strongly x proved section 5 x y different branches illegal fork w strongly x y furthermore hashgraphs b consistent possible event strongly x event strongly y b lemma cornerstone byzantine proof ensures attacker tries cheat forking unable cause different members decide different orders historically byzantine agreement algorithms required members send xe2 x80 x9creceipts xe2 x80 x9d vote receive defend alice sending inconsistent votes bob carol similarities attack hashgraph forking attack use receipts use strongly seeing given definitions complete hashgraph consensus protocol given algorithms figures 4 5 6 7 main algorithm figure 4 shows communication simple alice randomly picks member bob gossips events knows bob creates new event record fact gossip simple gossip protocol sufficient byzantine fault tolerance correctness extended ways improve efficiency example alice bob tell events know alice sends bob events knows doesn xe2 x80 x99t protocol require alice send events topological order bob event xe2 x80 x99s parents receiving event protocol alice syncs bob bob immediately sync alice multiple syncs happen alice syncing members time members syncing optimizations simple sufficient sync member calls procedures determine consensus order events possible involve communication purely local computations sufficient procedures f loop visits events topological order event visited parents f loop algorithm x event history won xe2 x80 x99t appendices 78 x0c10 swirlds hashgraph consensus algorithm swirlds tr 2016 01 parents previous rounds set x round 1 x witness true algorithm uses constant n number members entire population c small integer constant greater 2 c 10 following algorithm byzantine agreement guaranteed probability useful define round number event function ancestors dividerounds figure 5 known event assigned integer round number definition 5 2 function round numbers ancestors hashgraphs figure 3 events row round r rest events figures round r yellow event round r 1 yellow event advanced round r 1 able strongly 2n 3 events round r event history defined round 1 future rounds determined event eventually round created round received number round created called round round number given member event create round called witness witness events send receive virtual votes occurs decidefame procedure shown figure 6 procedure byzantine agreement occurs witness decides famous witness famous witnesses round famous xe2 x80 x99t byzantine agreement protocol runs election witness determine famous witness x round r witness round r 1 vote x famous 2n 3 agree famous community decided election vote balanced continues rounds necessary witness normal round voting according majority witnesses strongly previous round defend attackers control internet periodic coin rounds witnesses vote pseudorandomly means attacker control messages going internet votes carefully split chance community randomly cross 2n 3 threshold agreement eventually reached probability figure 6 algorithm continue work line xe2 x80 x9cif d 1 xe2 x80 x9d changed xe2 x80 x9cif d 2 xe2 x80 x9d revised algorithm election start round later continue work combined following hybrid algorithm round run elections xe2 x80 x9cd 1 xe2 x80 x9d check fame witness round decided 2n 3 fewer members created famous witnesses round elections round run d 2 check hybrid algorithm theorems paper continue true including proof byzantine fault tolerance rounds trigger new elections time consensus increase slightly 20% happen rarely practice increase number famous witnesses ensure fairness consensus reached witness given round famous easy use determine consensus timestamp consensus total order older events procedure findorder found figure 7 appendices 79 x0cthe swirlds hashgraph consensus algorithm swirlds tr 2016 01 11 run loops parallel loop sync known events random member end loop loop receive sync create new event dividerounds decidefame findorder end loop figure 4 swirlds hashgraph consensus algorithm member repeatedly calls members chosen random syncs parallel outgoing syncs member receives incoming syncs alice syncs bob sends events knows bob doesn xe2 x80 x99t bob adds events hashgraph accepting events valid signatures containing valid hashes parent events known events divided rounds events member round xe2 x80 x9cwitnesses xe2 x80 x9d decided famous purely local byzantine agreement virtual voting total order found events information available members independently assign position history event guaranteed assign position guaranteed change information comes furthermore event eventually assigned position probability received round calculated event x received round r round unique famous witnesses descendants fame witness decided rounds equal r set unique famous witnesses round defined set famous witnesses famous witness given member removed member famous witness round received time calculated suppose event x received round r alice created unique famous witness y round r algorithm finds z earliest self ancestors y learned x let t timestamp alice inside z created z t considered time alice claims learned x received time x median timestamps creators unique famous witnesses round r consensus order calculated events sorted received round events received round sorted received time ties broken simply sorting signature signature whitened xoring signatures unique famous witnesses received round appendices 80 x0c12 swirlds hashgraph consensus algorithm swirlds tr 2016 01 procedure dividerounds event x r xe2 x86 x90 max round parents x 1 exist x strongly 2n 3 round r witnesses x round xe2 x86 x90 r 1 x round xe2 x86 x90 r x witness xe2 x86 x90 x self parent x round x selfparent round figure 5 dividerounds procedure soon event x known assigned round number x round boolean value x witness calculated indicating xe2 x80 x9cwitness xe2 x80 x9d event member created round 5 proof byzantine fault tolerance section provides number useful definitions followed proofs building strongly seeing lemma lemma 5 12 byzantine fault tolerance theorem theorem 5 19 proofs assumed n members n 1 2n 3 honest n 3 honest assumed digital signatures cryptographic hashes secure signatures forged signed messages changed detection hash collisions found syncing gossip protocol assumed ensure alice sends bob events knows bob accepts valid signature contain valid hashes corresponding events system totally asynchronous assumed honest members alice bob alice eventually try sync bob alice repeatedly tries send bob message eventually succeed assumptions network reliability network speed timeout periods specifically attacker allowed completely control network deleting delaying messages arbitrarily subject constraint message honest members sent repeatedly eventually copy definition 5 1 event x defined ancestor event y x y parent y parent parent y self ancestor y x y self parent y self parent self parent y definition 5 2 round created number round event x defined r r maximum round number parents x 1 parents defined 1 x strongly 2n 3 witnesses round r 0 xe2 x80 x99t definition 5 3 round received number round received event x defined round unique famous witnesses descendants x appendices 81 x0cthe swirlds hashgraph consensus algorithm swirlds tr 2016 01 13 procedure decidefame event x order earlier rounds later x famous xe2 x86 x90 undecided event y order earlier rounds later x witness y witness y round x round d xe2 x86 x90 y round x round s xe2 x86 x90 set witness events round y round 1 y strongly v xe2 x86 x90 majority vote s true tie t xe2 x86 x90 number events s vote v d 1 round election y vote xe2 x86 x90 y x d mod c 0 normal round t 2 n 3 supermajority decide x famous xe2 x86 x90 v y vote xe2 x86 x90 v break y loop vote y vote xe2 x86 x90 v coin round t 2 n 3 supermajority vote y vote xe2 x86 x90 v flip coin y vote xe2 x86 x90 middle bit y signature figure 6 decidefame procedure witness event e event x x witness true decide famous e assign boolean x famous decision byzantine agreement protocol based virtual voting member runs locally copy hashgraph additional communication treats events hashgraph sending votes calculation purely local member xe2 x80 x99s computer member assigns votes witnesses round rounds 2 3 population agrees find fame x run repeatedly growing hashgraph x famous receives value definition 5 4 pair events x y fork x y creator self ancestor appendices 82 x0c14 swirlds hashgraph consensus algorithm swirlds tr 2016 01 procedure findorder event x round r event y round r y witness true y famous undecided x ancestor round r unique famous witness true round earlier r x roundreceived xe2 x86 x90 r s xe2 x86 x90 set event z z self ancestor round r unique famous witness x ancestor z self parent z x consensustim es ta mp xe2 x86 x90 median timestamps events s return events roundreceived undecided sorted roundreceived ties sorted consensustimestamp whitened signature figure 7 findorder procedure witnesses round r fame decided find set famous witnesses round remove set famous witness creator set remaining famous witnesses unique famous witnesses act judges assign earlier events round received consensus timestamp event said xe2 x80 x9creceived xe2 x80 x9d round unique famous witnesses received earlier rounds fame witnesses decided timestamp median timestamps events members received calculated events sorted round received ties subsorted consensus timestamp remaining ties subsorted whitened signature whitened signature signature xored signatures unique famous witnesses received round definition 5 5 honest member tries sync infinitely member creates valid event sync hashes latest self parent parent creates events forks definition 5 6 event x event y y ancestor x ancestors x include fork creator y appendices 83 x0cthe swirlds hashgraph consensus algorithm swirlds tr 2016 01 15 definition 5 7 event x strongly event y x y set s events 2 3 members x event s event s y definition 5 8 witness event created member round definition 5 9 famous witness witness decided famous community algorithms described informally community tends decide witness famous members start round unique famous witness famous witness creator famous witness created round absence forking famous witness unique famous witness definition 5 10 hashgraphs b consistent iff event x contained hashgraphs contain set ancestors x parent self parent edges ancestors lemma 5 11 members consistent hashgraphs proof members hashgraphs containing event x hashes contained x member accept event sync member parents event hashgraphs contain parents x cryptographic hashes assumed secure parents induction ancestors x hashgraphs consistent x1f purpose concept strongly seeing following lemma true lemma foundation entire proof allows consistent voting guarantees different members calculate inconsistent results purely virtual voting lemma 5 12 strongly seeing lemma pair events x y fork x strongly seen event z hashgraph y strongly seen event hashgraph b consistent proof proof contradiction suppose event w b strongly y definition strongly seeing exist set sa events z x set sb events b w y sa contain events created 2n 3 members sb overlap n 3 members created events sets assumed n 3 members honest honest member created events sa sb let m member events qa xe2 x88 x88 sa qb xe2 x88 x88 sb m honest qa qb forks self ancestor loss generality let qa self ancestor qb hashgraphs b consistent qb b ancestor qa b b x ancestor qa ancestor qb x ancestor qb y ancestor qb x y ancestors qb forks qb contradicts assumption qb y b contradiction lemma proved x1f moment members consistent hashgraphs hashgraphs consistent contain event x contain appendices 84 x0c16 swirlds hashgraph consensus algorithm swirlds tr 2016 01 set ancestors x cause agree property x purely function ancestors includes round created witness events events strongly vote election xe2 x80 x99s witness properties follows directly definition following lemma proves true round created lemma 5 13 hashgraphs b consistent contain event x assign round created number x proof consistent hashgraphs contain x contain set ancestors including event history proof induction agree round number event 1 definition contain arbitrary state y agree round numbers ancestors agree maximum round number r parents y agree y strongly 2n 3 witnesses created round r different members agree round number y agree round number events share including x x1f different members slightly different hashgraphs slightly different elections votes consistent hashgraph shows alice sending bob given vote given round given election consistent hashgraph vote vote alice bob round impossible consistent hashgraphs different votes alice round shown following lemma lemma 5 14 hashgraphs b consistent algorithm running shows round r event member m0 sends vote va member m1 round r 1 algorithm running b shows round r event member m0 sends vote vb event member m1 round r 1 va vb proof algorithm sends vote event x event y y strongly x possible consistent hashgraphs events forks strongly seen strongly seeing lemma lemma 5 12 votes coming event x hashgraphs event xe2 x80 x99s vote calculated purely function ancestors hashgraphs agree vote va vb x1f byzantine agreement particular yes question achieved multiple rounds virtual voting given member end election calculations round r normal round coin round round r 1 event strongly sees 2n 3 members voting way round r happens active member end election round r r 1 r 2 r 1 coin round decide way words following lemma proves decides yes question achieves byzantine consensus immediately lemma 5 15 hashgraphs b consistent decides byzantine agreement election result v round r b decided prior r b decide v round r 2 appendices 85 x0cthe swirlds hashgraph consensus algorithm swirlds tr 2016 01 17 proof decisions xe2 x80 x99t happen coin rounds r regular round decides vote v means witness round r received votes v set members s contains 2n 3 members voting consistent previous lemma round r events b receive votes 2n 3 members majority s subsets size greater 2n 3 drawn set size n majority elements common round r witness b vote v decide v round r 1 regular round event b round receive unanimous votes v decide v round r 1 coin round receive unanimous votes v flip coins vote v decide v round r 2 x1f following theorem shows byzantine fault tolerance achieved single yes question theorem 5 16 single yes question consensus achieved eventually probability 1 proof member decides question members decide way 2 rounds lemma way consensus fail member decides witness receives 2n 3 matching votes coin round supermajority achieved honest members randomly choose vote nonzero probability choosing vote coin rounds occur periodically forever eventually honest members unanimous probability consensus reached 2 rounds x1f hashgraph consensus algorithm byzantine agreement decide witness given round famous round guaranteed witness famous following lemma lemma 5 17 round number r hashgraph event round r 3 witness round r decided famous consensus algorithm decision witness round r 3 earlier proof let sr 3 set containing single witness round r 3 hashgraph witness r 3 let si set witnesses round strongly seen witness si 1 case 2n 3 si xe2 x89 xa4 n xe2 x89 xa4 r 2 existence event round 1 guarantees 2n 3 strongly seen round n members create witness given round strongly seen strongly seeing lemma lemma 5 12 strongly seeing implies seeing event sr 1 sees thirds events sr average event sr seen thirds events sr 1 xe2 x80 x99t average event sr x seen thirds events sr 1 thirds sr 1 vote yes election x famous event sr 2 receive yes votes votes fame x vote x famous decide x famous event sr 3 receive unanimous votes appendices 86 x0c18 swirlds hashgraph consensus algorithm swirlds tr 2016 01 x famous cause decide x famous member event round r 3 decide x famous round r 2 r 3 x1f lemma 5 18 hashgraph contain event x contain parents x hashgraph b result adding x x witness created round r witness round r fame decided famous famous x decided xe2 x80 x9cnot famous xe2 x80 x9d b proof let w witness decided fame witnesses round r ancestors w x x x b ancestors consistent hashgraphs ancestors w witnesses round r 1 vote fame x b ancestor w r 2 decide x famous b x1f given 3 lemmas theorems know round eventually witnesses classified famous famous universal consensus witnesses famous set famous witnesses round change events added hashgraph set famous witnesses act judge define total order events reached consensus timestamp event theorem 5 19 byzantine fault tolerance theorem event x created honest member eventually assigned consensus position total order events probability 1 proof honest members eventually learn x definition honest assumptions attackers control internet eventually allow honest members communicate eventually round unique famous witnesses descendants x round possibly earlier round r famous witnesses descendants x x assigned received round r consensus timestamp median members received consensus place history fixed furthermore possible later discover new event y come x consensus order come earlier consensus history y received round equal r mean famous witnesses round r received y set famous witnesses known round ancestors known way discover new ancestors future hashgraph grows furthermore isn xe2 x80 x99t possible round gain new famous witnesses future famousness known witnesses round known new round r witness discovered future ancestor known round r 1 witnesses 2n 3 consensus immediately reached famous event assigned place total order change position swapping known event new events discovered later inserted x1f appendices 87 x0cthe swirlds hashgraph consensus algorithm swirlds tr 2016 01 19 6 fairness existing systems distributed consensus fail xe2 x80 x9cfair xe2 x80 x9d consensus ordering transactions consider stock market run single server alice bob submit bid server alice submitting bob server fair count alice xe2 x80 x99s transaction occurring bob xe2 x80 x99s applications exact order matter stock market critically important decision fairly consider distributed peer peer system single server community reach consensus transaction critically important consensus decision fair definition xe2 x80 x9cfair xe2 x80 x9d xe2 x80 x9cfair xe2 x80 x9d decision transaction order defined favoring whichever transaction created bad alice created transaction second bob cabin woods disconnected internet community hear bob xe2 x80 x99s transaction assume bob year later alice finally emerges woods rejoins internet community revise history order xe2 x80 x9cfair xe2 x80 x9d cause host problems wouldn xe2 x80 x99t ideal definition fairness needs requirement transaction actually sent community order count xe2 x80 x9cfair xe2 x80 x9d decision defined reflecting order transactions reached current leader bad leader member chosen paxos algorithm whichever member currently turn round robin system proof work system whichever miner manages solve puzzle case leader arbitrarily decide ignore alice xe2 x80 x99s bob xe2 x80 x99s transaction period time delaying force transaction come goal distributed trust single individual trusted xe2 x80 x9cfair xe2 x80 x9d decision defined reflecting transaction reached certain fraction entire community little better community ordering transactions transactions reached virtual server xe2 x80 x9creaching server xe2 x80 x9d means reaching fraction community issues fair choice defined whichever transaction reached half community problems carol saw alice dave saw bob evenly split question fails carol dave attackers turn computers permanently telling community saw case community reach fair consensus waiting forever carol dave vote better definition xe2 x80 x9cfair xe2 x80 x9d consider alice significant fraction community received alice xe2 x80 x99s transaction bob xe2 x80 x99s fraction community went communicate quickly definition alice bob releasing transactions gossip network time spread rate consensus way considered fair alice gossips transaction bob beating duration single gossip sync expected transactions spread appendices 88 x0c20 swirlds hashgraph consensus algorithm swirlds tr 2016 01 exponentially doubling number members reached sync end 2 3 population hear alice bob 1 3 favor bob case fair favor alice bob consensus hashgraph consensus algorithm fair sense members online regularly participating generate set events called famous witnesses consensus decision xe2 x80 x9cfirst xe2 x80 x9d transaction whichever transaction reached majority set small set members offline partitioned communicate rest famous witnesses having transaction reach count having reached community members set communicating rest count famous witnesses help decide reached xe2 x80 x9cthe community xe2 x80 x9d attacks system considered failure consensus system equally effective single server solution example byzantine proofs assume attackers control internet delay arbitrary messages attackers actually power simply disconnect alice internet long takes bob send transaction recorded real internet launching denial service attack flooding computer packets bob attempt prevent alice communicating course effective alice communicating central server considered failure internet failure consensus system similarly bob gain advantage alice buying bandwidth gossips reach people faster 8 times bandwidth alice send transaction initially 8 members time alice sends 1 gain advantage time 3 gossip syncs considered failure message actually reaches world credit similar current stock markets companies spend large sums money slightly faster connections order reach central server faster consensus algorithm considered xe2 x80 x9cunfair xe2 x80 x9d case behaving central server 7 generalizations enhancements 7 1 proof stake far assumed member equal algorithms refer things depending xe2 x80 x9cmore 2n 3 members xe2 x80 x9d xe2 x80 x9cat half famous witness events xe2 x80 x9d use idea xe2 x80 x9cmedian xe2 x80 x9d set numbers proof shows byzantine convergence 2n 3 members honest easy modify algorithm allow members unequal member assumed positive integer associated known xe2 x80 x9cstake xe2 x80 x9d votes replaced weighted voting medians weighted medians votes weighted proportional voter xe2 x80 x99s stake definitions algorithms proofs define xe2 x80 x9cmore 2n 3 members xe2 x80 x9d mean xe2 x80 x9ca set members total stake 2n 3 n total stake members xe2 x80 x9d xe2 x80 x9cmedian timestamps events s xe2 x80 x9d xe2 x80 x9cthe weighted median timestamps s weighted stake creator event s xe2 x80 x9d weighted median thought appendices 89 x0cthe swirlds hashgraph consensus algorithm swirlds tr 2016 01 21 taking event y s putting multiple copies timestamp y bag number copies equals stake member created y median timestamps bag byzantine proof applied long attackers constituted 1 3 population new definitions apply attackers stake 1 3 total stake members new proof stake system general unweighted system implement unweighted system simply giving member stake 1 provide better behavior example stake proportional degree member trusted members investigated way trusted greater weight members greater interest system working properly cryptocurrency use member xe2 x80 x99s number coins stake grounds coins greater interest ensuring system runs smoothly community started group members mutual trust given equal stake existing member allowed invite arbitrarily new members join subject constraint inviter split stake invitee discourage sybil attack member invites huge number sock puppet accounts order control voting xe2 x80 x9cstake record xe2 x80 x9d list members stake owned member far assumed stake record universally known unchanging easy relax assumption assume particular form transaction changes stake record community set rules beginning governing transactions valid example member allowed invite members total 10 new members inviting new member simultaneously new member portion stake validity transaction depend exact order transactions consensus order example rule new member invited alice invites carol time bob invites dave whichever invitation comes consensus order succeed fail accommodated consensus algorithm finishes deciding question round r firsts famous moment possible find exactly events received round r calculate exact position consensus order time transactions events processed rules consulted valid valid transactions applied change stake record stake record change algorithm run events round r later change calculations events strongly seen event round numbers events witnesses famous witnesses note deciding round r witnesses famous calculations old stake record voting round r continue rounds future old stake record round r settled appendices 90 x0c22 swirlds hashgraph consensus algorithm swirlds tr 2016 01 future rounds reshuffle calculations round r 1 famous witnesses new stake record approach allows members agreement exactly stake record given calculation ensures agree results calculations byzantine agreement guaranteed probability 7 2 signed state enhancement system signed states consensus reached witness round r famous total order calculated event history received round r guaranteed events including unknown received round greater r words point history frozen immutable events round r member transactions events feed database consensus order calculate state reached processing transactions member calculate consensus order member calculate state consensus state member hash state digitally sign signature new transaction soon member received gossip signatures consensus state signatures collected 1 3 population consensus state set signatures constitutes signed state official consensus state system start round r given people outside community check signatures trust state point member feel free delete transactions create state delete events contained transactions state needs kept possible minutes huge number transactions events stored consensus state course member free preserve old events transactions states archive audit purposes system immutable secure discards old information given assumption 1 3 population dishonest signed state guaranteed honest signature trusted represent community consensus found consensus algorithm set members stake change time stake record history state threshold 1 3 replaced 2 3 system work 7 3 efficient gossip gossip protocol makes efficient use bandwidth suppose transactions created event contains transaction replicated state machine point point network internet necessary member receive signed transaction send signed transaction average hashgraph gossip true signature event containing transaction transaction additional overhead hashes timestamp plus array counts start sync hashes don xe2 x80 x99t sent internet sufficient merely send identity creator event sequence number parent appendices 91 x0cthe swirlds hashgraph consensus algorithm swirlds tr 2016 01 23 example suppose 100th event created alice parent ed xe2 x80 x99s 50th event event alice sent bob carol sync bob skip sending carol hashes event instead tell carol event alice parent ed xe2 x80 x99s 50th event bob sending carol events doesn xe2 x80 x99t according initial counts carol know alice xe2 x80 x99s 100th event knows alice alice xe2 x80 x99s 99th event bob doesn xe2 x80 x99t send hash self parent doesn xe2 x80 x99t send sequence number 100 send fact alice similarly send otherparent ed ed xe2 x80 x99s 50th event instead large hashes bob simply sending triplet alice ed 50 care identities sequence numbers compressed byte triplet required 3 6 bytes small overhead compared signature 64 bytes 512 bit signature transactions event averaging 100 bytes event contains transaction overhead gossiping hashgraph simply gossiping transactions voting virtual bandwidth cost order achieve consensus sense bandwidth required hashgraph consensus close theoretical limit bandwidth needed simply send signed dated transactions system merely sent transactions save bandwidth attaching timestamps transactions application didn xe2 x80 x99t need timestamps hashgraph consensus case xe2 x80 x9ctimestamp xe2 x80 x9d event simply integer self parent xe2 x80 x99s xe2 x80 x9ctimestamp xe2 x80 x9d plus bob sends event carol sequence number calculated carol need bob actually send internet system sent transactions save bandwidth grouping transactions creator attaching single signature list transaction hashgraph putting transactions single event having single signature list bandwidth requirements hashgraph consensus close theoretical minimum cases 7 4 fast elections second algorithm byzantine agreement step deciding fame interesting property group members online participating regularly byzantine agreement applied set elections voters start identical votes round r 1 witness strongly round r witnesses round expected xe2 x80 x9cgossip periods xe2 x80 x9d gossip period time takes message propagate entire community time log2 n syncs n members online round r 1 witness x vote yes fame round r witness y isn xe2 x80 x99t necessary x strongly y merely y expected y propagate online members single gossip period overwhelmingly high probability propagate gossip periods practice online participating fame appendices 92 x0c24 swirlds hashgraph consensus algorithm swirlds tr 2016 01 witnesses decided immediately need rounds voting similarly y round r witness created member asleep awoke end round r likely round r 1 witnesses vote y election end immediately small window time order duration single sync member awakening creating y cause round r 1 witnesses start close vote split online members choosing randomly syncing frequently result converge decision 3 rounds probability percent 3 rounds tenth percent 6 rounds attacker completely controls internet cause drag exponentially rounds reduced constant expected number rounds cryptographic xe2 x80 x9cshared coin xe2 x80 x9d protocol xe2 x80 x9cmiddle bit signature xe2 x80 x9d described algorithm middle bit intended like member having independent random coin flip attacker couldn xe2 x80 x99t predict ahead time shared coin protocol ensures members end xe2 x80 x9crandom xe2 x80 x9d result addition reduce theoretical worst case expected time addition unlikely worth effort practice attacker truly control internet honest members synching randomly long period attacker likely power simply block honest users accessing internet shared coin theoretical interest shared coin option 7 5 efficient calculations step algorithm assign round r r 1 event based strongly round r events necessary calculate round r witness event x strongly seen arbitrary event y following way calculate answer event sequence number greater sequence number self parent store array y array x y array remembers sequence number event member ancestor y array x remembers sequence number earliest event member descendant x compare arrays find elements y array greater equal corresponding element x array 2n 3 matches y strongly sees x comparison x y arrays sped multithreading use cores packing multiple elements integer use alu efficiently assembly language access cpu vector instructions gpu vector parallelism 8 conclusions new system presented based swirlds hashgraph data structure swirlds hashgraph consensus algorithm fair fast byzantine fault tolerant extremely bandwidth efficient virtual voting algorithm given pseudocode figures imperative language natural describe functional form appendix gives algorithm functional form concise interest appendices 93 x0cthe swirlds hashgraph consensus algorithm swirlds tr 2016 01 25 references 1 miguel castro barbara liskov practical byzantine fault tolerance proceedings symposium operating systems design implementation osdi xe2 x80 x9999 pages 173 xe2 x80 x93186 berkeley usa 1999 usenix association 2 leslie lamport robert shostak marshall pease byzantine generals problem acm trans program lang syst 4 3 382 xe2 x80 x93401 july 1982 3 michael j fischer nancy lynch michael s paterson impossibility distributed consensus faulty process j acm 32 2 374 xe2 x80 x93382 april 1985 4 leslie lamport time parliament acm trans comput syst 16 2 133 xe2 x80 x93169 1998 5 diego ongaro john ousterhout search understandable consensus algorithm 2014 usenix annual technical conference usenix atc 14 pages 305 xe2 x80 x93319 philadelphia pa june 2014 usenix association 6 andrew miller yu xia kyle croman elaine shi dawn song honey badger bft protocols cryptology eprint archive report 2016 199 2016 http eprint iacr org 7 allen clement edmund wong lorenzo alvisi mike dahlin mirco marchetti making byzantine fault tolerant systems tolerate byzantine faults proceedings 6th usenix symposium networked systems design implementation nsdi xe2 x80 x9909 pages 153 xe2 x80 x93168 berkeley usa 2009 usenix association 8 satoshi nakamoto bitcoin peer peer electronic cash system posted internet november 2008 2008 http bitcoin org bitcoin pdf 9 giulio prisco intel develops xe2 x80 x98sawtooth lake xe2 x80 x99 distributed ledger technology hyperledger project bitcoin magazine april 2016 10 dag erling smorgrav freebsd quarterly status report posted freebsd org 2013 http www freebsd org news status report 2013 09 devsummit html security 11 miguel miguel correia giuliana santos veronese nuno ferreira neves paulo verissimo byzantine consensus asynchronous message passing systems survey international journal critical computer based systems 2 2 141 xe2 x80 x93161 2011 appendices 94 x0c26 swirlds hashgraph consensus algorithm swirlds tr 2016 01 9 appendix consensus algorithm functional form event tuple e p h t s p payload e h hashes e t time e creator e s sig e parents x selfparent x n c d e e0 t b n parents selfparent ancestor selfancestor manycreators stronglysee parentround roundinc round witness diff votes fracttrue decide copyvote vote famous uniquefamous roundsdecided roundreceived timereceived appendices xe2 x80 x9cpayload xe2 x80 x9d data list transactions list hashes event xe2 x80 x99s parents self parent creator xe2 x80 x99s claimed date time event xe2 x80 x99s creation creator xe2 x80 x99s id number creator xe2 x80 x99s digital signature p h t set events parents event x self parent event x xe2 x88 x85 number members population frequency coin rounds c 10 rounds delayed start election d 1 set events hashgraph e xe2 x88 xaa xe2 x88 x85 set possible time date pairs true f alse 1 2 3 e xe2 x86 x92 2e e xe2 x86 x92 e0 e xc3 x97e xe2 x86 x92b e xc3 x97e xe2 x86 x92b 2e xe2 x86 x92 b e xc3 x97e xe2 x86 x92b e xc3 x97e xe2 x86 x92b e xe2 x86 x92n e xe2 x86 x92b e xe2 x86 x92n e xe2 x86 x92b e xc3 x97e xe2 x86 x92i e xc3 x97e xc3 x97b xe2 x86 x92n e xc3 x97e xe2 x86 x92r e xc3 x97e xe2 x86 x92b e xc3 x97e xe2 x86 x92b e xc3 x97e xe2 x86 x92b e xe2 x86 x92b e xe2 x86 x92b n xe2 x86 x92b e xe2 x86 x92n e xe2 x86 x92t 95 x0c26 swirlds hashgraph consensus algorithm swirlds tr 2016 01 9 appendix consensus algorithm functional form event tuple e p h t s p payload e h hashes e t time e creator e s sig e parents x selfparent x n c d e e0 t b n parents selfparent ancestor selfancestor manycreators stronglysee parentround roundinc round witness diff votes fracttrue decide copyvote vote famous uniquefamous roundsdecided roundreceived timereceived appendices xe2 x80 x9cpayload xe2 x80 x9d data list transactions list hashes event xe2 x80 x99s parents self parent creator xe2 x80 x99s claimed date time event xe2 x80 x99s creation creator xe2 x80 x99s id number creator xe2 x80 x99s digital signature p h t set events parents event x self parent event x xe2 x88 x85 number members population frequency coin rounds c 10 rounds delayed start election d 1 set events hashgraph e xe2 x88 xaa xe2 x88 x85 set possible time date pairs true f alse 1 2 3 e xe2 x86 x92 2e e xe2 x86 x92 e0 e xc3 x97e xe2 x86 x92b e xc3 x97e xe2 x86 x92b 2e xe2 x86 x92 b e xc3 x97e xe2 x86 x92b e xc3 x97e xe2 x86 x92b e xe2 x86 x92n e xe2 x86 x92b e xe2 x86 x92n e xe2 x86 x92b e xc3 x97e xe2 x86 x92i e xc3 x97e xc3 x97b xe2 x86 x92n e xc3 x97e xe2 x86 x92r e xc3 x97e xe2 x86 x92b e xc3 x97e xe2 x86 x92b e xc3 x97e xe2 x86 x92b e xe2 x86 x92b e xe2 x86 x92b n xe2 x86 x92b e xe2 x86 x92n e xe2 x86 x92t 96 x0cthe swirlds hashgraph consensus algorithm swirlds tr 2016 01 27 ancestor x y x y xe2 x88 xa8 xe2 x88 x83z xe2 x88 x88parents x ancestor z y selfancestor x y x y xe2 x88 xa8 selfparent x x1c xe2 x88 x85 xe2 x88 xa7 selfancestor selfparent x y manycreators s s 2n 3 xe2 x88 xa7 xe2 x88 x80x y xe2 x88 x88 s x x1c y xe2 x87 x92 creator x x1c creator y x y ancestor x y xe2 x88 xa7 xc2 xac xe2 x88 x83a b xe2 x88 x88 e creator y creator creator b xe2 x88 xa7 ancestor x xe2 x88 xa7 ancestor x b xe2 x88 xa7 xc2 xac selfancestor b xe2 x88 xa7 xc2 xac selfancestor b stronglysee x y x y xe2 x88 xa7 xe2 x88 x83s xe2 x8a x86 e manycreators s xe2 x88 xa7 z xe2 x88 x88 s xe2 x87 x92 x z xe2 x88 xa7 z y parentround x max 1 xe2 x88 xaa round y y xe2 x88 x88parents x roundinc x xe2 x88 x83s xe2 x8a x86 e manycreators s xe2 x88 xa7 xe2 x88 x80y xe2 x88 x88 s round y parentround x xe2 x88 xa7 stronglysee x y x1f 1 0 roundinc x round x parentround x witness x selfparent x xe2 x88 x85 xe2 x88 xa8 round x round selfparent x diff x y round x xe2 x88 x92 round y votes x y v z xe2 x88 x88 e diff x z 1 xe2 x88 xa7 witness z xe2 x88 xa7 stronglysee x z xe2 x88 xa7 vote z y v fracttrue x y votes x y true votes x y true votes x y f alse decide x y selfparent x x1c xe2 x88 x85 xe2 x88 xa7 decide selfparent x y xe2 x88 xa8 witness x xe2 x88 xa7 witness y xe2 x88 xa7 diff x y d xe2 x88 xa7 diff x y mod c 0 xe2 x88 xa7 xe2 x88 x83v xe2 x88 x88 b votes x y v 2n 3 copyvote x y xc2 xac witness x xe2 x88 xa8 selfparent x x1c xe2 x88 x85 xe2 x88 xa7 decide selfparent x y xef xa3 xb1 xef xa3 xb4 xef xa3 xb4vote selfparent x y xef xa3 xb4 xef xa3 xb4 xef xa3 xb4 x y xef xa3 xb4 xef xa3 xb4 xef xa3 xb4 xef xa3 xb21 middlebit signature x xef xa3 xb4 xef xa3 xb4 xef xa3 xb4 xef xa3 xb4 xef xa3 xb4 xef xa3 xb4 xef xa3 xb4 xef xa3 xb4 xef xa3 xb3 fracttrue x y xe2 x89 xa5 12 copyvote x xc2 xac copyvote x xe2 x88 xa7 diff x y d xc2 xac copyvote x xe2 x88 xa7 diff x y x1c d xe2 x88 xa7 diff x y mod c 0 xe2 x88 xa7 31 xe2 x89 xa4 fracttrue x y xe2 x89 xa4 23 vote x y famous x xe2 x88 x83y xe2 x88 x88 e decide y x xe2 x88 xa7 vote y x uniquefamous x famous x xe2 x88 xa7 xc2 xac xe2 x88 x83y xe2 x88 x88 e y x1c x xe2 x88 xa7 famous y xe2 x88 xa7 round x round y xe2 x88 xa7 creator x creator y roundsdecided r xe2 x88 x80x xe2 x88 x88 e round x xe2 x89 xa4 r xe2 x88 xa7 witness x xe2 x87 x92 xe2 x88 x83y xe2 x88 x88 e decide y x roundreceived x min r xe2 x88 x88 n roundsdecided r xe2 x88 xa7 xe2 x88 x80y xe2 x88 x88 e round y r xe2 x88 xa7 uniquefamous y xe2 x87 x92 ancestor y x timereceived x appendices median time y y xe2 x88 x88 e xe2 x88 xa7 ancestor y x xe2 x88 xa7 xe2 x88 x83z xe2 x88 x88 e round z roundreceived x xe2 x88 xa7 uniquefamous z xe2 x88 xa7 selfancestor z y xe2 x88 xa7 xc2 xac xe2 x88 x83w xe2 x88 x88 e selfancestor y w xe2 x88 xa7 ancestor w x 97 x0c