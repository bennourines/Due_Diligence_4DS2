hnb foundation 2018email service hnb eco 1 58 hnb technical white paper generation blockchain based decentralized economic entity hnb foundation 2018email service hnb eco 2 58 table contents 1 summary 4 2 terminology description 4 3 design principles 5 4 hnb architecture design 6 4 1 hnb ecosystem architecture 6 4 2 hnb blockchain core technology architecture 8 5 identity management 9 5 1 identification 9 5 2 identification registration 10 5 3 trust model 10 6 consensus mechanism 11 6 1 blockchain impossible trinity 11 6 2 hnb consensus algorithm 15 6 3 consensus incentive mechanism 30 7 data storage 31 7 1 distributed storage 31 7 2 data sharding 32 7 3 pluggable storage 33 7 4 data encryption 33 8 multi asset ledger 34 8 1 multi asset ledger architecture 34 8 2 ledger model 36 9 transaction management 38 9 1 transaction verification 38 9 2 transaction pool 39 9 3 sorting strategy 39 10 smart contract 40 10 1 hnb smart contract design 40 10 2 smart contract management 40 10 3 smart contract running environment 41 10 4 formal verification 41 11 node management 42 11 1 node type 42 11 2 node 42 11 3 accouting node 42 hnb foundation 2018email service hnb eco 3 58 11 4 spv node 43 11 5 node authorization management 43 11 6 node summary 44 12 network communication 44 12 1 services interface 44 12 2 p2p network 45 12 3 node communication 45 13 cryptographic algorithm 46 13 1 signature algorithm 46 13 2 digest algorithm 46 13 3 switch cryptographic algorithm 46 13 4 zero knowledge proof 47 13 5 blind signature 48 13 6 ring signature 49 13 7 homomorphic encryption 50 14 application real economy 51 14 1 dapp decentralized application 51 14 2 business privacy protection 53 14 3 cross chain interaction 53 14 4 chain lighting network 54 14 5 archive ledger 55 14 6 parallel accounting 55 14 7 algorithm bank 55 15 reference 57 hnb foundation 2018email service hnb eco 4 58 1 summary hnb generation blockchain based decentralized economic entity goal build sustainable business model serve support real business scenarios technology point view hnb blockchain system supporting multi chains architecture circulation multiple digital assets build decentralized economic ecosystem founded public blockchain aligning hnb business vision development plan hnb team formulated technical solution implement hnb economic model overhaul current blockchain projects market technical white paper detailed descriptions design principles hnb public chain overall architecture design core technologies implemented core technologies elaborated white paper include identity management consensus mechanism data store multiple asset accounting transaction management smart contract node management network communication cryptography content introduction hnb dapp structure algorithm bank application scenario supporting real business applications included 2 terminology description terminology description hnb hnb token digital asset representing ownership hnb economic entity total supply fixed billion hgs hgs payment medium pegged dollar issued hnb reserve committee circulated hnb community committee member candidates delegates consensus process elected dpos delegate members participating byzantine agreement process reach consensus node selected consensus dpos delegated proof stake mechanism vote committee members based proofing stake voting weight vrf verifiable random function random sortition delegates output unpredictable zero knowledge proof method prover prove verifier true disclosing information blind signature special form digital signature guarantee data signed confidentiality un traceability protect data privacy ring signature type signature ensure unconditional anonymity signers trace identity signer homomorphic encryption form encryption allows computation encrypted data performed plain text hnb foundation 2018email service hnb eco 5 58 3 design principles hnb system designed enable founding sustainable economic model serve real business entities goal use hnb system build generation blockchain based decentralized economic entity serving economic ecosystem comprised 100 million consumers merchants hnb economy scale members increasing ecosystem grows allowing growth drives hnb blockchain designed defines hnb blockchain design principles following based design considerations hnb blockchain embodies following characteristics scalability support increasing size hnb community e g number nodes increase hnb blockchain merchants join user growth high performance support millions users concurrent transcations gracefully handle bursting concurrent transactions peak reduce latency transcation confirmation achieving speed consensus level second security robust security application infrastructure levels protecting privacy business invidivitual data interoperability support speedy integration existing systems ongoing iterative developement easy interfacing blockchain systems applications hnb foundation 2018email service hnb eco 6 58 innovative consensus mechanism support multiple nodes reach consensus speedily dual chain dual token assets hnb hgs hgs pegged fiat algorithm bank regulate stability hgs exchange rate fiat robust vital dapp collection agile lightweight sdk support easy integration merchant applications support smart contract multiple chains high performance great scalability support chain liquidity network technologies strong security powerful cryptographic capability 4 hnb architecture design 4 1 hnb ecosystem architecture hnb ecosystem design follows layered modular architecture philosophy emphasis system scalability interoperability performance security hnb ecosystem architecture collection foundational blockchain building blocks related components structured multiple layers user layer hnb business layer blockchain layer infrastructure layer common service layer hnb foundation 2018email service hnb eco 7 58 figure 1 hnb blockchain ecosystem architecture user layer layer end user access point users access hnb blockchain services layer technical perspective hnb end user service enabled dapp described chapter 14 1 including digital wallet digital asset management etc user layer includes user management function described chapter 5 hnb business layer hnb business layer implements core business logics hnb decentralized economic community technical perspective supported dapp described chapter 14 1 blockchain core layer blockchain layer served hnb blockchain foundation fulfills core functions consensus ledger management multi assets management asset trading smart contract technical solutions described respectively chapter 6 10 addition unique innovations applied hnb blockchain areas privacy protection cross chain interaction chain liquidity network concurrent ledgering details seen chapter 14 infrastructure layer infrastructure layer provides distributed foundational components distributed database distributed storage distributed networking database storage service support plugin capability providing greater choices users comprehensive business enablement pluggable storage elaborated chapter 7 3 common common service layer provides services layers including hnb foundation 2018email service hnb eco 8 58 service layer security audit operation solutions cryptographic algorithms described chapter 13 4 2 hnb blockchain core technology architecture hnb blockchain technology architecture granular design hnb blockchain core layer infrastructure layer common service layer hnb blockchain technology architecture based layered modular approach 7 layers contract consensus incentive data network security foundation figure 2 hnb blockchain core technical architecture contract layer contract layer provides services life cycle management operation cost management run time environment formal verification smart contracts hnb smart contracts developed advanced programming languages golang javascript meet turing completeness ensure smart contracts executed smoothly safely mature run time environments consensus layer consensus layer adopts hybrid consensus mechanism blending dpos algorand encouraging nodes making great contributions hnb community hnb foundation 2018email service hnb eco 9 58 participate accounting ensuring fair voting consensus delegates based encrypted sortition ultimately achieving efficiency consistency consensus process consensus algorithms incentive layer incentive layer provides open transparent unified incentive strategy management based design algorithm bank hnb ecosystem hgs digital assets rewarded nodes making great contributions community details algorithm bank described chapter 14 7 data layer data layer granularity decentralized database decentralized storage hnb infrastructure layer described blockchain technology architecture provides storage service decentralized database decentralized filesystem supporting hnb dual token asset ledge management details described chapter 7 8 network layer network layer infrastructure module providing network communication functions include providing interfaces blockchain infrastructure layer access applications providing p2p network blockchain nodes broadcast blockchain nodes details described chapter 12 security layer security layer hnb solution address demanding security requirements blockchain analysis security pillars communication data contract key details referenced chapter 7 10 12 13 infrastructure layer infrastructure layer provides foundational services blockchain including cryptographic algorithm library node management multi asset chain management account management transaction event management 5 identity management 5 1 identification 5 1 1 decentralized identifier conventional identification tied individual identity document identification includes id residence document driver license technology advancement new identification approaches fingerprint dna gradually accepted internet world things tangible virtual network identifiers needed map real entities hnb id obtained computation based mathematic algorithm hnb public key unnecessary generate hnb id conduct conflict detection centralized computation hnb id produced managed user directly decentralized way hnb foundation 2018email service hnb eco 10 58 5 1 2 privacy protection hnb id generation algorithm determines impossibility hacking public key information based hnbid user attributes hnb id correlated public key user privacy surely protected 5 1 3 identity authentication hnb id user public key maintains relationship users prove identities belonging certain business entity identity authentication maintain integrity business activities 5 2 identification registration hnb supports acceptance mechanism configurable nodes hnb community authorization required accept nodes hnb community authorization obtained certificate issued hnb certificate authority allow hnb id join hnb community hnb id related attributes sent hnb public blockchain protect privacy node starts joins blockchain network certificate signed distributed nodes declare authorization identity 5 3 trust model 5 3 1 security key generation key generated offline wallet private key exposed network whatsoever form ensure hackers unable steal user private key rule possibility hnb security breach 5 3 2 security storing key hnb provides service storing key user requirement user defer key management decentralized private key servers encrypt user s private key symmetric key encryption algorithm storing symmetric key kept user directly apart private key servers servers hacked attackers unable restore user private key 5 3 3 security identity registration process user identity registration user attributes combined hnb id sent issue certificate verification user identity user attributes encrypted asymmetric key encryption algorithm hnb system information tampered hnb foundation 2018email service hnb eco 11 58 middleman data privacy protected maximum degree shown following diagram alice registers identity user information packaging public key encrypted public key ensure safety data transmission addition https data transfer impose double encryption mechanisms protect data integrity user privacy figure 3 id registration process 6 consensus mechanism decentralized autonomous systems consensus mechanism foundation community trust consensus process reaching agreement distrusting nodes final state data entire blockchain system achieve consensus different approaches consensus mechanism set steps taken nodes blockchain agree proposed state value researches consensus mechanism conducted computer scientists industry academy 3 decades despite long history recently advent blockchain bitcoin ethereum etc placed limelight gained considerable popularity consensus algorithm reaching agreement proposal proposal refer information agreed basic block generation verification rules policies community operations governance 6 1 blockchain impossible trinity cap theorem known brewer s theorem introduced eric brewer 1998 conjecture hnb foundation 2018email service hnb eco 12 58 2002 proven theorem seth gilbert nancy lynch states distributed system consistency availability partition tolerance simultaneously o consistency property ensures nodes distributed system single current identical copy data o availability means nodes system accessible use accepting incoming requests responding data failures required words data available node nodes responding requests o partition tolerance ensures group nodes unable communicate nodes network failures distributed system continues operate correctly occur network node failures proven distributed system consistency availability partition tolerance simultaneously figure 4 cap theorem based hnb project team s research current consensus algorithm focuses core characteristics security decentralization efficiency figure 5 blockchain impossible trinity hnb foundation 2018email service hnb eco 13 58 according cap principle distributed computing security decentralization efficiency impossible achieved simultaneously trade design consensus mechanism hnb team analyzed current mainstream consensus mechanisms including pow pos dpos pbft consensus mechanism brief description concerns proof work pow type consensus mechanism relies proof adequate computational resources spent proposing value acceptance network scheme bitcoin litecoin cryptocurrency blockchain s currently algorithm proven astonishingly successful collusion attacks blockchain network pow meets security decentralization requirements efficiency relatively low proof stake pos algorithm works idea node user adequate stake system user invested system malicious attempt user outweigh benefits performing attack network idea introduced peercoin going ethereum blockchain version called serenity important concept pos coin age criterion derived time number coins spent model chances proposing signing block increase coin age pos satisfies decentralization efficiency lacks security pos validates transactions based kind probability calculation vulnerable attack pos fails avoid stake attack delegated proof stake dpos innovation standard pos node stake system delegate validation transaction nodes voting bitshares blockchain dpos satisfies efficiency decentralization consensus result easily controlled influenced nodes specific interest groups resulting high possibility attack malicious single node practical byzantine fault tolerance pbft mechanism achieves state machine replication provides tolerance byzantine nodes protocols including pbft paxos raft federated byzantine agreement fba proposed use different implementations distributed systems blockchain pbft satisfies decentralization security number nodes increases network overhead heavy s difficult reach consensus efficiently suitable large network hnb foundation 2018email service hnb eco 14 58 key consideration factors comparison listed following table pow pos dpos bft pbft raft dpos algorand bft byzantine fault tolerance 50% 50% 50% 33% 50% cft crash fault tolerance 50% 50% 50% 33% 50% 50% block validation time btc 60 min eth 1 min 100s 100s 10s 5s 60s scalability strong strong strong weak weak strong tps transactions second 100 1000 500 1 000 5 000 1 000 resource consumption high medium low low low low table 1 comparison main consensus algorithm current hnb application scenario economic model efficiency priority hnb platform able support large numbers concurrent transactions massive real time transactions tolerate long confirmation time time system operating payments low latency emphasized shall cause double spending problems reliability crucial security critical systems operate financial payments data trades decentralization requirement takes seat based analysis assumptions hnb architecture embraces innovative consensus algorithm based dpos algorand hnb decentralized economic community blockchain summary hnb consensus mechanism advantages dpos based delegate election takes account interests distribution fairness avoid attackers dpos run delegate nodes stable relatively high performance algorand select users verifiable random functions vrfs fast reach consensus algorand s cryptographic sortition ensured accounting node completely random secretive specific attacks work scalable support large number nodes performance degrade ensure security heavy computation overhead energy saving hard fork high fault tolerant hnb foundation 2018email service hnb eco 15 58 6 2 hnb consensus algorithm 6 2 1 consensus algorithm overview figure 6 dpos algorand consensus algorithm process hnb adopts consensus algorithm based dpos algorand hnb decentralized economic community blockchain delegate election process based dpos o election 99 accounting delegates entire hnb community o 99 delegates divided evenly 3 groups represents 3 different interest groups consumer producer merchant contributor o constitution delegates ensures single interest group overwhelming advantage impact normal operations entire community o hnb community users vote candidate based weight currency holding time token age block validation process based algorand hnb architecture adopts algorand core consensus algorithm transaction validation process hnb foundation 2018email service hnb eco 16 58 o algorand algorithm s cryptographic sortition select 21 accounting nodes including 1 master notes 99 selected delegates current accounting cycle o cryptographic sortition algorithm choosing random subset users according peruser weights given set weights weight users sortition implemented verifiable random functions vrfs o verifiable random functions vrfs ensures randomly select users private noninteractive way prevents adversary forecasting modifying attacking accounting node selection o selected master node proposes new block use new byzantine agreement ba protocol called ba reach consensus 21 accounting nodes o ba designed guarantee consensus long weighted fraction constant greater 2 3 tokens controlled honest users o hnb ba algorithm uses multiple rounds interaction ensure absolute consistency final proposed block accounting nodes ensures problems consensus partitioning block forking hnb foundation 2018email service hnb eco 17 58 6 2 2 selection procedure hnb foundation 2018email service hnb eco 18 58 figure 7 selection procedure steps 1 broadcast status information latest block receive status information nodes 2 check enter synchronization process step 3 3 update configuration information update consensus node asset table 4 node independently calculates list proposers calculated based information previous block asset table 5 proposer transaction pool deal build proposal message proposer 6 broadcast proposal message ba consensus group implementation details sortition requires role parameter distinguishes different roles user selected example user selected propose block round selected member committee certain step ba algorand specifies threshold determines expected number users selected role procedure sortition sk seed role w w hash vrf sk seed role p w j 0 hash 2 hashlen b k w p b k w p j return hash j user performs sortition computing hash vrfsk seed role sk user s secret key pseudo random hash determines sub users selected follows probability exactly k w user s weight sub users selected follows binomial distribution b k1 n1 p b k 2 n 2 p b k1 k2 n1 n2 p splitting user s weight currency sybils affect number selected sub users control determine user s w sub users selected sortition algorithm divides interval 0 1 consecutive intervals form j b k w p b k w p 0 1 000 hash 2hashlen hashlen bit length hash falls interval j user exactly j selected sub users number selected sub users publicly verifiable proof vrf output hnb foundation 2018email service hnb eco 19 58 procedure verifysort pk hash seed role w w verifyvrfpk hash seed role return 0 p w j 0 hash 2 hashlen b k w p b k w p j return j sortition provides important properties given random seed vrf outputs pseudo random hash value essentially uniformly distributed 0 2hashlen 1 result users selected random based weights second adversary know sk guess times user chosen chosen precisely adversary guess better randomly guessing based weights pseudocode verifying sortition proof shown verifysort algorithm follows structure check user selected weight user s public key obtained ledger function returns number selected sub users zero user selected hnb foundation 2018email service hnb eco 20 58 6 2 3 synchrony process figure 8 synchrony process steps 1 determine synchronize quickly step 2 step 3 2 traverse unprocessed consensus information memory 3 2 1 construct proposal information based current block number 4 2 2 construct final proposal information based current block number 5 2 3 pack block update status hnb foundation 2018email service hnb eco 21 58 6 send block request node wait response block received verify block generate block implementation details synchrony assumption allows algorand select users public keys associated weights adversary knows selection seed ensuring random sampling users ba committees leverage property informally committee members final step represent users system sufficiently vote block final sufficiently users finished binaryba step vote future steps set final 10 000 assume weighted honest fraction users h 0 8 expected number honest members final step committee 0 8 10 000 8000 expected number malicious members step 0 2 10 000 2000 probability 7400 step final votes round r block produced block b certified round negligible let seedr 1 r mod r seed selecting committees round r r r r round seed published e round r 1 r mod r happens network strongly synchronous adversary manipulate selection seed seedr 1 r mod r discarding block proposals honest users despite ability attacker manipulate seed infeasible compute seed 1 gives malicious committee members r round final step 2 j malicious committee members step round r 3j 4 100 expected numbers j 0 2 1000 2000 0 2 2000 400 respectively fixed round step apply formula equation 2 find probability random seed gives 3j 4 100 2000 400 b 2e check seed value satisfies 3j 4 100 adversary cryptographic hash vrf operation round committees maxsteps 150 steps round 2 3 150 e 100 committees create certificate vote second step binaryba loop union bound probability seed value gives 3j 4 100 specific round step round 2 93 infeasible adversary find seed notice argument exclude possibility single pair round final committee malicious members targeted binaryba committee j hnb foundation 2018email service hnb eco 22 58 malicious members 3j 4 100 intuitively adversary concentrates computational power finding round highly malicious final committee finalize block targeted step round highly malicious committee certify block b 3j 4 100 rounds steps number malicious committee members random makes probability attacker succeeds round step pairs negligible 10 20 precisely adversary targets round step pairs 3j 3850 pairs 3j 3950 true probability 3j 3850 approximately 0 41 10 18 probability 3j 3950 approximately 0 6 10 23 probability events happen specific round step pairs 2 5 10 41 specific selection seed r 103 rounds 102 steps f h 1 2 1010 possible pairs round step probability attacker manages target round step 3j 3950 union bound 2 5 10 41 0 5 1010 1 25 10 31 2 93 happen sum attacker strategies 1 target round step round 3j 4100 2 target multiple step round pairs 3j 3950 analyze strategies strategy 1 round step pair 3j 4100 final step committee round r malicious members committee round e b malicious members clearly worst case 3j 4100 order prove probability failure 10 7 need integral tuples j line 3j 4100 probability committees users 10 7 equivalently integral value j interval 0 b need prove 4100 3j probability committees honest members e final committee 0 74 10 000 7400 committee 0 685 2000 j 1370 j honest members 10 7 tfinal 0 74 final 1000and tstep 0 685 step 2000 integral value j 0 b separate calculation prove desired probability 10 7 describe method upper bound probability tuple j 4100 3j j fix j malicious votes final block j votes certifying block b 7400 signatures required final committee 1370 j signatures committee let denote set honest users vote approve block final completed binaryba step selected final committee set honest users vote certify block b committee finish binaryba step clearly hnb foundation 2018email service hnb eco 23 58 honest user eventually member sets 7400 1370 thresholds reached set include 7400 committee members final set include 1370 j committee members step honest user joins set user counts sufficiently tstep step votes block hash complete binaryba step step binaryba honest user joins set strong synchrony network attacker s control attacker choose user joins set delivering votes user allows attacker feedback attacker lets user join set observe user selected final committee e user votes fashion attacker let users join set sufficiently votes produced approve block final join rest honest users set users join set order let n size users set time produce 7400 final step votes targeted round let h total number units algorand currency held honest users simplify proof assume user exactly unit currency h number users user unit consider user represented multiple subusers unit currency fixed value n h n users join set attacker succeed h n users produce 1370 j votes block b targeted step binaryba let pk denote probability 1 n k 2 remaining h k users set produce 1370 j votes block b pk given n n 1370 n n ba e formula equation 2 compute pr h k users produce exactly c votes expected number honest users selected committee set includes h k users h 2000 de d h 0 8 expected number users 1600 de d expression equation 3 equals n 1600 f de d g ba eh adversary succeeds probability d equal hnb foundation 2018email service hnb eco 24 58 d n d 1600 1600 c 1370 j inner sum converges evaluated outer sum iterates total number honest currency units arbitrarily large evaluate upper bound n m 1 100 100 1600 1 100 1600 1 100 ba e upper riemann sum integral f nopoq qrrn n s tqurrnopoq qrrn n ba e 0 h interval 0 h partitioned 100 equal parts function f nov n s tqurr nov n g ba eh decreasing k upper bound evaluated follows n 1 100 100 n 100 7400 n 1 100 7400 8000 100 aa e 7400 y m 8000 1 100 aa e 7400 y probability failure upper bounded following formula hnb foundation 2018email service hnb eco 25 58 computed m y p qrr z rro aa e t rrr p qrr y poq qrr z rro aa e t rrrpoq qrr f epoq qrr s tqurr qopoq qrr ba e strategy 2 multiple round step pairs 3j 3950 adversary target 3 round step pairs final committee malicious members step committee j malicious members 3j 3850 probability targeting round step pair 3j 3850 0 41 10 18 probability target pairs 0 41 10 18 3 10 51 selection seed r 103 rounds round 102 steps attacker target e steps binaryba conclude certify block 103 102 step committees set selection seed number step round pairs attacker target f h b 10 probability attacker success bounded 1015 10 51 10 36 attacker pairs 3j 3850 case 3j 3950 allows analyze following cases attacker strategy 1 targeted round step pairs 3850 3j 3950 shown similar calculations case 3j 4100 probability success adversary success 10 9 targeted round step pair 2 10 9 total 2 round step pairs 3j 3850 similarly shown probability success adversary 10 20 round 102 steps r 103 rounds set selection seed attacker s probability success bounded 102 103 10 20 10 15 conclusion strategy 2 provides lower attacker success rate strategy 1 attacker s success rate bounded 10 7for sequence r 103 rounds hnb foundation 2018email service hnb eco 26 58 6 2 4 ba process figure 9 ba process ba process description 1 proposer sends proposed block proponents participating ba total number proponents participating ba n 3f 1 2 perform hash calculation hash calculation proponent information participating ba obtain sequence number n 3 obtain round consensus number r 4 determine current round consensus initiator number curnum r mod n 5 proposed block hash minimum final proposed block 6 consensus initiator broadcasts hash final proposed block proponents participating ba hnb foundation 2018email service hnb eco 27 58 7 proponent participates ba pre votes proposed block prevoting needs include node number n pre voting round r voting block hash validator voting signature s 8 proponent participated ba waited number votes accepted timeout period identify voting message 9 collect number pre voting 2 3 precommit process 10 proponent participating ba pre submits prevote block needs include node number n pre voting round r voting block hash validator voting signature s 11 collect number pre submissions 2 3 complete precommit process 12 update block height h round r broadcast consensus results implementation details efficiency ba votes hashes blocks instead entire block contents end ba algorithm use blockofhash function indicate ba received pre image agreed hash obtain users block agreed honest users received block proposal ba algorithm determines established final tentative consensus running ba round proposed block h cryptographic hash function procedure ba ctx round block hblock reduction ctx round h block hblock binaryba ctx round hblock check reached final tentative consensus r countvotes ctx round final tfinal final step hblock r return final blockofhash hblock return tentative blockofhash hblock countvotes procedure reads messages belong current round step incomingmsgs buffer simplicity pseudocode assumes background procedure takes incoming votes stores buffer indexed messages round step processes votes calling processmsg procedure message ensures vote valid note private state required process messages procedure countvotes ctx round step t start time counts hash table new keys mapped 0 hnb foundation 2018email service hnb eco 28 58 voters msgs incomingmsgs round step iterator true m msgs m null time start return timeout votes value sorthash processmsg ctx m pk voters votes 0 continue voters add pk counts value votes got votes output value counts value t return value processmsg validates incoming vote message m procedure processmsg ctx m pk signed m m verifysignature pk signed m ok return 0 null null round step sorthash hprev value signed m discard msg extend chain hprev h ctx block return 0 null null votes verifysort pk sorthash ctx seed committee round step ctx weight pk ctx w return vote value sorthash processmsg returns value contained message number votes associated value message chosen committee member processmsg returns zero votes committee member chosen times number votes returned processmsg reflects processmsg returns sortition hash reduction procedure converts problem reaching consensus arbitrary value hash block reaching consensus values specific proposed block hash hash block reduction inspired turpin coan s twostep technique reduction important ensure liveness procedure reduction ctx round hblock step 1 gossip block hash committeevote ctx round reduction step hblock users waiting block proposals set timeout block step hnb foundation 2018email service hnb eco 29 58 hblock1 countvotes ctx round reduction tstep step block step step 2 gossip popular block hash hash h round h ctx block hblock1 timeout committeevote ctx round reduction step hash committeevote ctx round reduction step hblock1 hblock2 countvotes ctx round reduction tstep step step hblock2 timeout return hash return hblock2 binaryba reaches consensus values hash passed binaryba hash block binaryba relies reduction ensure non block hash passed binaryba honest users procedure binaryba ctx round block hash step 1 r block hash hash h round h ctx round block hash step maxsteps committeevote ctx round step step r r countvotes ctx round step tstep step step r timeout r block hash r hash step s step 3 committeevote ctx round s step r step 1 committeevote ctx round final final r return r step committeevote ctx round step step r r countvotes ctx round step tstep step step r timeout r hash r hash step s step 3 committeevote ctx round s step r return r step committeevote ctx round step step r r countvotes ctx round step tstep step step r timeout commoncoin ctx round step step 0 hnb foundation 2018email service hnb eco 30 58 r block hash r hash step consensus maxsteps assume network problem hangforever 6 3 consensus incentive mechanism sustainable development virtual currency ecosystem inseparable welldesigned ecosystem model inseparable rationally optimized consensus incentive mechanism new economic incentive mechanism created satoshi nakamoto guarantees long term stability bitcoin 10 years strong supporter community establishes new industry ecosystem seen consensus incentive model plays important role development digital currency ecology hnb incentive algorithm based economic model greatly enhances enthusiasm participating users ecological construction maintains ecological sustainable development hnb provides hgs rewards round consensus successful accounting nodes hnb community certain percentage hgs deducted disciplinary action incentives hnb economies follow following guidelines 1 hnb calculates weight w according age coin number coins held probability selected consensus group positively correlated value w 2 consensus successfully reached identify proponents consensus proponents participate ba number hgs rewards distributed relevant members consensus 3 number hgs rewards positively correlated sum transaction complexity block correlation coefficient k 4 hnb supports graded penalty distinguishing malicious node node failure proposer sends false incorrect proposal proponent participates ba sends abnormal consensus agreement determined malicious node node doesn t respond network interaction consensus process determined node failure 5 correlation coefficient k hgs reward negatively correlated according total number blocks reward attenuation hnb foundation 2018email service hnb eco 31 58 7 data storage 7 1 distributed storage 7 1 1 distributed database google published spanner f1 paper implemented spanner database based paper provides distributed read write transactions strict stage lock phase commit f1 implements global indexing era distributed htap hybrid transactional analytical processing databases htap new database technology combines best features traditional rdbms nosql distributed htap database supports unlimited horizontal scaling strong consistency high availability goal provide stop solution oltp online transactional processing olap online analytical processing scenarios blockchain ledger storage distributed database provides good support ledger storage access expansion suitable underlying blockchain system commercial environment hnb blockchain s ledger storage supports rdbms nosql databases supports distributed htap databases provide better data management support hnb s business operations hnb s htap database technology based latest newsql open source database tidb htap database tidb supporting online transaction processing oltp online analytical processing olap business types distributed database products supports strong consistency distributed transactions online elastic expansion remote automatic failure recovery compatible mysql database hnb foundation 2018email service hnb eco 32 58 light nodes 11 4 spv nodes details hnb blockchain uses level db leveldb efficient key value database implemented google key values binary currently support billion level data volume leveldb uses lsm log structured merge algorithm maintain high performance large data volumes log structured merge tree lsm tree disk based data structure provides efficient indexing files require high speed record insertion deletion lower system resource overhead lsm tree delays batches index changes efficiently migrates updates disk manner similar merge sorting reducing index insertion overhead 7 1 2 distributed file storage ipfs inter planetary file system protocol defines content addressed file system coordinated content distribution combined kademlia bittorrent git ipfs file system file blocks given unique fingerprint encrypted hash ipfs deletes files hash value network determine files redundant duplicated track version history file network node stores content interested index information helps figure storing looking file hash value file find node file stored network find desired file hnb blockchain system serves real business activities community provide high availability high security file storage services community merchants ipfs file system features multiple copies automatic redundancy management making ideal autonomous organizations provide file services hnb s underlying file storage integrated ipfs file system provide file management services community merchants 7 2 data sharding sharding process extensively databases enhancing efficiency shard represents horizontal section database separate servers store shard result uniform spread load turn increases database efficiency data access efficiency scalability blockchain important considerations data storage solutions hnb s data storage solutions use data sharding meet efficiency scalability requirements distributed htap database provides capability support data sharding data write operations htap database automatically fragments underlying hnb foundation 2018email service hnb eco 33 58 data according range key sharded data shard interval key value trigger rule setting shard example data exceeds certain threshold automatically fragmented support horizontal expansion data data read operation htap database uses load balancer schedule load cluster according state storage cluster scheduling based shard strategy configured load balancer scheduling logic processes automatically completed ensure data reading completed efficiently 7 3 pluggable storage storage blockchain designed different storage tools storage schemes according different application scenarios blockchain storage strongly bound storage media hnb s data storage supports different types databases rdbms nosql htap ipfs file systems blockchain data storage recommended use database storage solution selected rdbms nosql htap according specific requirements hnb provide pluggable storage media community participants switch data storage media based actual operating conditions 7 4 data encryption blockchain tamper proof decentralized run untrusted network environment user s accounting book including transaction information transparent participating nodes participants access data user business privacy data chain increase risk data privacy breaches currently public chain system bitcoin transaction element information public transaction real business activities transaction element information sensitive data non related parties access hnb blockchain s data encryption solution ledge data encryption digital asset transaction information encrypted stored blockchain account id masking account id masked hnb id info stored chain actual identity information corresponding hnb id managed offchain stored encryption commercial data storage merchant s transaction data contains business sensitive information commercial data stored independently chain hnb foundation 2018email service hnb eco 34 58 encryption access control 8 multi asset ledger 8 1 multi asset ledger architecture 8 1 1 multi chain approach multi chain abandoning traditional scheme chain adopts chain contract scheme ensure contract operate independently innovation greatly simplifies architecture reduces pressure data processing ensures surge traffic chain affect efficiency chain business carried chain interfered services effectively implementing resource isolation figure 10 hnb multi chain structure hnb s core blockchain operation adopts chain token architecture approach hgs hnb operate parallel based double chain architecture affecting multi chain architecture ensures improved performance isolation scalability ecosystem integration support hnb community s dual token economic growth hnb foundation 2018email service hnb eco 35 58 terms performance multi chain architecture ensures consensus model state machines independent operation dual native digital token hgs hnb time consuming operations transaction checking voting waiting database access converted serial execution parallel execution expanding technical resources system latency greatly optimized io blocking execution time reduced system throughput increased terms isolation multi chain architecture share channel transaction processing hnb hgs hnb hgs chains obtain transaction related information read modify party s ledger data physically separate isolation dual native token ensure isolation hnb hgs protect privacy users transactions scalability hnb underlying chain needs upgraded hnb hgs multi chain architecture allow single chain upgraded separately affecting chain service execution hnb underlying chain increased chain requirements multi chain architecture easily add new chains use cross chain interaction technology communicate original asset chain realize flow digital assets ensure high scalability hnb 8 1 2 heterogeneous ledger architecture hnb blockchain supports heterogeneous ledger architecture designs unique dual token ledger structure based currency characteristics hnb hgs heterogeneous ledger architecture greatly improves availability ledger module provides ledger query services hnb token digital asset token exchange outside world needs record information transactions external digital assets ledger source digital asset identification target digital asset identification exchange identification stable token hnb community hgs token ledger needs record relevant information community transaction chain identification derivative digital asset identification merchant identification commodity order summary etc 8 1 3 merkle tree hnb block header contains merkle tree root value quick verification intra block transactions hnb foundation 2018email service hnb eco 36 58 figure 11 merkle tree hash value calculate transaction blockchain merkle tree constructed hashing paired data leaves pairing hashing results single hash remains merkle root leaf node hash block data non leaf node hash children typically merkle trees branching factor 2 meaning node 2 children key advantage merkel tree transaction verification algorithm transaction deleted directly leaving hash value transaction entire block change cryptographic security integrity data greatly reduced light node saves block header ensure transaction falsified forged example need prove f exists tampered need provide e gh abcd merkel root prove f transaction forged falsified 8 2 ledger model 8 2 1 utxo model utxo unspent transaction output utxo model organizes input output transactions chained manner input transaction output transaction utxo model originally created cited nakamoto bitcoin model unique bitcoin necessarily related blockchain advantages utxo model scalability multiple utxos processed simultaneously parallel transactions implemented scalability innovations encouraged hnb foundation 2018email service hnb eco 37 58 privacy bitcoin completely anonymous system utxo provide higher level privacy long user uses new address transaction double spending prevention transaction input utxo unsuccessful transaction output ability naturally prevent double spending 8 2 2 balance model balance model traditional accounting model requires account system support balance associated account transaction needs verify sending account sufficient balance pay transaction disadvantage balance model exposure double spending attacks incremental random numbers implemented counteract type attack ethereum account publicly visible random number time transaction random number incremented prevents transaction committed multiple times advantages balance model simplicity utxo s stateless model forces transactions contain state information unnecessarily complicates contract design efficiency simplicity account balance model efficient transaction needs verify sending account sufficient balance pay transaction 8 2 3 hnb hybrid ledger model hnb underlying chain adopts hybrid ledger model strategy hgs hnb native token use utxo model improve underlying concurrency digital assets generated smart contracts adopt balance mode simple develop reduces difficulty developing smart contracts reduces resulting security problems hnb foundation 2018email service hnb eco 38 58 9 transaction management 9 1 transaction verification hnb public blockchain system supports business hnb economic community effectiveness transaction verification priority verification transaction mainly divided parts transaction integrity verification transaction validity verification transaction integrity verification refers verification transaction signature ensuring transaction message tampered transaction validity verification including validation transaction field format legitimacy transaction content transaction field format check verify format length fields correct legitimacy check transaction content including limited double spending different check processes applied different hnb node types node blockchain independently established verified block genesis block latest block network node independently verify transaction information resorting nodes sources information node maintains utxo pool verify validity transaction spv node need store complete blockchain ledger simplified payment verification spv approach adopted type client called spv client lightweight client spv node needs download block header instead downloading transaction information contained block resulting blockchain transaction information 1 1000 blockchain spv node ability construct ledger information approach different main steps follows 1 determine block number transaction located generally screening ange carried time transaction specific positioning 2 determine merkel tree path requested transaction perform verification hnb foundation 2018email service hnb eco 39 58 figure 12 merkle tree verification path shown figure verify existence h e transactions h f transactions h gh merkel nodes h abcd merkel nodes h abcdefgh merck required root node tree construct audit path calculate root hash root hash spv node verify validity transaction 9 2 transaction pool completing transaction verification system broadcast transaction blockchain transaction transaction pool management step processing transaction volume large memory bottleneck transaction pool management hnb expand maintain extended transaction pool greater transaction volume memory transaction pool hnb choose persist transaction use db file storage transaction confirmed packaged block system delete transaction transaction pool transactions extended trading pool moved memory transaction pool 9 3 sorting strategy transaction transaction pool hnb system use preset policy determine transactions taken pool packaged block traditional transaction fee based sorting strategy disadvantage transaction fee submitted transaction low transaction confirmed cause effect freezing transaction double spending hnb foundation 2018email service hnb eco 40 58 verification scenario hnb services real economic activities fifo mode adopted transaction queuing transaction fee charge hnb s fifo sorting strategy fully reflects fairness come served earlier transaction submitted easier packaged blocks 10 smart contract 10 1 hnb smart contract design smart contract hnb blockchain system supports golang javascript languages developers smart contracts need learn new languages lower barriers merchant access golang execution environment smart contracts smart control logic implemented hnb application layer framework golang virtual machine turing completeness implement arbitrary logic highly deterministic suitable commercial business scenarios high deterministic requirements smart contract layer programming languages support contract parsing conversion flexibly supports basic application virtual machine external interface virtual machine realized customized api operations flexibly interact ledger account data external data 10 2 smart contract management 10 2 1 smart contract release hnb smart contract development platform hnb community users develop customized smart contracts complete testing hnb smart contract development platform provides complete tool set including development testing debugging api description etc efficiently locates smart contract bugs detects contract write exceptions effectively reduces security issues caused vulnerabilities smart contracts contract development platform makes easy publish contracts click deployment 10 2 2 smart contract access public chain query operation hnb smart contract need authorized write operation smart contract executed id hnb foundation 2018email service hnb eco 41 58 verification process cryptographic algorithm hnb provides smart contract access methods external access inter contract access external access hnb supports sending transaction information wallet querying block information transaction information wallet browser supports accessing contract related information grpc restful interfaces inter contract access hnb fully considers interaction collaboration business domains supports data interaction smart contracts opening industry barriers achieving data interconnection 10 3 smart contract running environment hnb adopts self developed hnb vm virtual machine platform hnb vm performs deep optimization execution instruction code parsing improves execution efficiency instructions ensuring security hnb vm features follows high speed cache access hnb vm creates multi layer cache designs cache structure according probability occurrence instruction code improves cache hit probability reduces number times calculating reading object address data instant compilation traditional virtual machine platform interpreted series operations stacking popping reading writing variable areas reading method areas operations seriously affect efficiency virtual machine interpretation hnb compile contract hotspot program real time reducing operation steps registers storage structure optimization optimize object storage structure establish mapping relationship object identifier storage address realize efficient retrieval object storage address time optimize attribute information object structure improve memory resource utilization 10 4 formal verification 2016 hackers successfully exploited 3 6 million ethereums dao exploiting vulnerabilities smart contracts dao incident ethereum founder vitalik buterin proposed modify ethereum code implement hard fork ethereum blockchain roll transaction record hacking funds receiving support miners community strong opposition people eventually led split ethereum community strengthening smart contract audit important guarantee improving security hnb foundation 2018email service hnb eco 42 58 blockchain formal verification effective method smart contract audit formal verification hnb based established formal specifications relevant characteristics specified system analyzed verified judge system meets desired characteristics formal verification completely ensure performance system correct maximize understanding analysis system try find errors inconsistency ambiguity incompleteness 11 node management 11 1 node type hnb nodes classified node spv nodes accounting nodes according functionality hnb users choose different types nodes participate hnb ecosystem according conditions hardware resources participation identities node ledger accounting data provides external query information block information services spv node determine transaction exists blockchain system accounting node implements consensus process nodes generates broadcasts ledger data 11 2 node node node complete hnb ledger information node needs synchronize accounting data accounting node independently verify block data validity broadcast transaction provide block query service spv node hnb node records ledger information convenient verify transaction balance double spending transaction signature etc determine validity transaction relying node data node storage request shall addressed increasing volume transaction data database read write operations key concern hnb supports scalable data storage data sharing support efficient storage nodes 11 3 accouting node accounting node blockchain node participating consensus process hnb foundation 2018email service hnb eco 43 58 running algorand consensus protocol ensure stable operation hnb blockchain system accounting node writes block information consensus process hnb ledger broadcasts entire chain accounting node performs algorand consensus validity transaction verified accounting node selected validated nodes community based dpos algorithm accounting node subset node accounting node function node based hnb consensus algorithm mechanism 99 incumbent accounting nodes community moment new accounting cycle entire network select 99 nodes accounting nodes dpos algorithm accounting cycle based number generated blocks batch batch 3 000 000 blocks approximately 6 months period new election triggered new batch 11 4 spv node spv stands simplified payment verification spv node stores header information ledger determines transaction exists blockchain system based stored block header information merkel tree transaction structure spv node verify existence transaction verify validity transaction spv node requests transaction information node verifies transaction information returned node tampered spv node transaction information impossible determine transaction output double spending transaction validity verified 11 5 node authorization management hnb blockchain system serves hnb ecosystem non community members allowed use hnb ecosystem service hnb blockchain system designed strict node admission mechanism perform strict identity verification nodes joining hnb blockchain network 99 committee members selected hnb community participate dpos algorand consensus process committee members required apply community hnb accounting nodes community issue corresponding authorization certificates committee members node joins blockchain network actively presents authorization certificate neighbor node indicating identity accounting node hnb foundation 2018email service hnb eco 44 58 members committee elected nodes community community members intend node initiate application community community management committee checks hardware resources network conditions provided representative meet basic requirements node community issues node authorization certificate node meets requirements community members apply spv node community management committee verify application issue corresponding certification 11 6 node summary based introduction types nodes following table summarizes nodes follows node type consensus process ledger booking synchronization transaction verification transaction query smart contract node accounting node spv node table 2 node type function summary 12 network communication 12 1 services interface main types hnb services command line api interface command line interface based urfave provide rich command parameters provide default parameters complete operations simply entering simple commands console interface hnb supports interactive command line friendly experience entering commands hnb s api interface adopts grpc restful provide user friendly access experience grpc high performance open source general purpose rpc framework based hnb foundation 2018email service hnb eco 45 58 http 2 standard provides features bidirectional flow flow control header compression multiplexing single tcp connection request waiting efficiency greatly improved restful api supports http 2 provides powerful routing reflection capabilities optimizes transmission key value pairs processing url parameters reduces transmission network packets existing blocks provides user friendly access blockchain systems 12 2 p2p network hnb p2p network adopts kademlia algorithm suitable networking distributed massive node networks node relationship management mechanism effectively resist ddos attacks algorithm based distance nodes exclusive id numbers network nodes result calculation finally returned integer value eg 01000000 network grouped according distance grouping based fact previous digits starting nth digit countdown example 00000000 00000001 group 00000000 00000010 different groups based grouping node quickly find node connected facilitating resource discovery fast access exit node communication nodes uses grpc communication protocol 12 3 node communication communication nodes grpc communication protocol nodes uses protobuf code base protobuf code base supports high performance transcoding supports multiple development languages ways exchange data nodes hnb way communication synchronization streaming server streaming client bidirectional flow completely asynchronous hnb supports encrypted transmission nodes uses tls protocol ensure security communication nodes inadequacies general tls communication tls started attacked tls protection invalid hnb blockchain provides hardware based solution ensures end end communication security blockchain nodes hnb foundation 2018email service hnb eco 46 58 13 cryptographic algorithm 13 1 signature algorithm signature algorithm referred digital signature algorithm digital signature non forgeable digital string generated sender mathematic scheme sender s digital messages documents valid proof sender s authenticity nonrepudiation messages digital signature digital string generated way function process sending messages authenticating sender validating alters messages transit hnb taken signature algorithm secp256k1 elliptic curve secp256k1 parameter ecdsa elliptic curve digital signature algorithm bitcoin defined standard high efficient cryptography secp256k1 forms elliptic curve based fp finite field given peculiarity structure post optimization implementation produces better performance curves 30% main distinctive advantage points fewer bandwidth storage resources needed short private key field operation users 13 2 digest algorithm main characteristics message digest algorithm encrypt messages keys encrypted messages decrypted encrypted message obtained applying algorithm exact original messages key management distribution needed fits use decentralized network hnb supports hash256 hash512 hash algorithms users select optimal hash algorithm accordance business scenario 13 3 switch cryptographic algorithm technological evolution cryptographic algorithms decoded algorithms like md5 sha1 des obsolete time emergence new technologies high computing area quantum computing crushing invincible cryptographic algorithms order safeguard attacks quantum computing hnb security layer supports switch multiple algorithms ecdsa256 ecdsa384 ecdsa521 longer length keys cryptographic algorithm deploys stronger defending capability higher level security produces hnb foundation 2018email service hnb eco 47 58 13 4 zero knowledge proof zero knowledge proof forward s goldwasser s micali c rackoff early eighties 20th century early zero knowledge proof required message interaction prover verifier validate proof called interactive zero knowledge proof late eighties 20th century use short random string proposed mr blum adopted fulfill zero knowledge proof approach called non interactive zero knowledge proof time message sending prover required verifier validate proof ways interactions prover verifier hnb blockchain provides zero knowledge proof capability protect data privacy user merchant reduce risk merchant data privacy breach hnb optimizes upgrades zk snark library zero knowledge proof encapsulate highly reusable interfaces rich functionalities zk snark stands zero knowledge succinct noninteractive arguments knowledge non interactive zero knowledge proof methods embodies features short proof message fast validation zero knowledge proof key process mint procedure mint pp v addrpk 1 parse addrpk apk pkenc 2 randomly sample prfsn seed p 3 randomly sample comm trapdoors r s 4 compute k commr apk p 5 compute cm comms v k 6 set c addrpk v p r s cm 7 set txmint cm v k s 8 return c txmint zero knowledge proof key process verifytx procedure verifytx pp tx l tx txmint parse txmint cm v k s set cm comms v k cm cm return b 1 return b 0 tx txpour parse txpour rt sn1 old sn2 old cm1 new cm2 new vpub info pksig h1 h2 pour c1 c2 sn1 old sn2 old l sn1 old sn2 old return b 0 mr l return b 0 hsig crh pksig hnb foundation 2018email service hnb eco 48 58 x rt sn1 old sn2 old cm1 new cm2 new vpub hsig h1 h2 m x pour info c1 c2 b vsig pksig m b verify vkpour x pour return b b 13 5 blind signature conventional digital signature approach signer signs clear text data signer data owner belong different entities data privacy protected signer hnb implemented blind signature algorithm realize following privacy protectioin blindness content message signed unkown signer unlinkability final signature s m linked blinded message m signer keeps unforgeability anybody doesn t know private key signer able effectively generate digital signature certified digital signature validation formula signer generate effective digital signature figure 13 blind signature process blind signature mathematic formula proof signature message pair s m m encryption process content blind signed message u s b m r r s m verification process v s m m true blind signature process following signer knows identity signature requester seeing content hnb foundation 2018email service hnb eco 49 58 document signed signer signature document black box digital signature value printed document carbon paper black box effective signer links content document respective signature signer validate signature belonged self 13 6 ring signature ring signature realizes unconditional anonymity signer identity signer traced ring signature performed signer selecting group members including potential signer generating digital signature signer s private key public keys members group members called ring signature result ring signature recipient signature prove signer comes member ring know identity signer theory ring signature n members pair public private keys signer uses n public keys private key sign clear text message verifier uses n public keys validate digital signature private key signer belongs members validation succeeds validation fails chance hitting identity signer 1 n process signature validation verifier goal hiding identity signer attained ring signature process 1 randomly generate v initial parameter v 0 1 b e g 011010 1100101 2 generate r number xi 0 1 b r number users xi r 1 number users generated randomly xs randomly generated 3 use y gi x solve respective yi ys temporarily xs given r number users rsa encryption algorithm applied user key pair pi si rsa encryption algorithm functions y gi x gi function use pi x gi 1 y gi 1function use si 4 use z ck v v quickly calculate ys hnb foundation 2018email service hnb eco 50 58 v initial parameter generated step k h m e symmetric encryption ck v y1 y2 yr ek yr ek yr 1 ek yr 2 ek ek y1 v 5 given known ys based x gi 1 y solve xs step core s owns private key ss s compute xs security ring signature founded security asymmetric encryption algorithm 6 ring created r number users create complete ring attacker calculate ys xs 13 7 homomorphic encryption data exchanging scenarios data provider provides right use data opposed data ownership transfer seller provide privacy protection merchant data essential security requirement homomorphic encryption sound solution merchant uses public key encrypt data m homomorphic encryption algorithm encrypted data c provided algorithm provider conduct arithmetic computation result sent merchant merchant use private key restore clear text result f m hnb supports homomorphic encryption addition homomorphic encryption called privacy homomorphism homomorphic encryption allow computation encrypted data plain text data homomorphic encryption multiplication supports multiplication operation encrypted data homomorphic encryption addition supports plus operation encrypted data encrypted data homomorphic algorithm performed addition multiplication operation decryption data computing results encrypted data clear text data identical assume clear text space p encrypted text space homomorphic algorithm enc decryption algorithm dec use present computation clear text space present computation encrypted text space clear text messages m m p encrypted messages c c c c enc m c enc m homomorphic encryption satisfy formula c c enc m m hnb foundation 2018email service hnb eco 51 58 14 application real economy 14 1 dapp decentralized application 14 1 1 dapp architecture hnb hnb blockchain layer supports dapp decentralized application key features hnb decentralized economic community daapp backend codes run hnb decentralized p2p network hnb blockchain layer dapp backend codes implemented smart contracts frontend user interface applications html5 mobile app communicated backend smart contracts api realize specific business functions hnb dapp viewed combination user api smart contract figure14 hnb dapp strcuture methods taken dapp integration 1 api sdk integration lightweight sdk integration allows participants hnb ecosystem quickly translate existing business applications dapp release assets payments matter hnb blockchain hnb foundation 2018email service hnb eco 52 58 2 hnb frontend integration integration hnb ecosystem hnb predefined protocols grpc restful etc 14 1 2 dapp functionality hnb dapp includes follow feature open source source codes available public governed participants communities decentralization run hnb blockchain network collective participation maintenance governance incentive hgs incentive node user helpful dapp execution consensus algorithm based hnb blockchain consensus mechanism dapp ensures single input output logic execution consisten execution result entire network 14 1 3 dapp architecture description level granularity hnb dapp viewed layers architecture frontend api backend smart contract figure 15 hnb dapp architecture 14 1 3 1 dapp frontend hnb provides series organic robust dapp community dapp frontend services include limited community governance auction system merchant promotion hnb foundation 2018email service hnb eco 53 58 otc c2c transaction decentralized token trading community events bulletin board asset management functionalities described user layer business layer fulfilled embedded business logics dapps backend smart contracts 14 1 3 2 dapp backend dapp backend services include lightweight spv simplified payment verification nodes wallet service payment sdk goal sdk provide api interface 3rd party application facilitate easy integration reorientation hnb system payment process 14 2 business privacy protection hnb provides privacy protection solution business data based encryption algorithm data segregation firstly purchase orders confidential information related hnb merchants encrypted symmetric encryption algorithm ensure data stored transmitted nonclear text fashion key managed hnb community secondly core confidential user data encrypted asymmetric algorithm users encrypt data public key store hnb community visible owners requestor needs access data submit access application approval data owner owner negotiate conversational key requestor negotiation completed owner decrypt data private key send requestor protected conversational key ensure interactively oriented data transmission leakage confidential data process thirdly general ledge shared blockchain hnb segregates ledge data business data ledge data storing transaction information mainly digital asset transfer functions user identifier hnb id excluding order merchandise information ordering merchandise items identification ensure privacy business data strongly protected 14 3 cross chain interaction ethereum founder vitalik buterin published report bank union chain interoperability categories strategies proposed report notary schemes sidechains relays hash locking conjunction hnb application scenario hnb blockchain layer adopts notary schemes sidechains relays extensible 3rd party protocol types cross chain hnb foundation 2018email service hnb eco 54 58 interaction methods notary schemes support cross chain transactions hnb dual token digital assets notary mechanism leaning centralized process mechanism notary respectively detects cross chain transaction request asset type submits respective process digital asset hnb hgs digital assets managed hnb community cross chain transactions conducted notary mechanism hnb community playing role notary effectively managing exchange trading digital assets approach support high throughput cross chain transaction sidechains relays cross chain interaction hgs digital asset chain hgs sidechain hgs initiate cross chain interaction requests routed counterparts relay gateway form events achieve cross chain transaction integrity chains hnb foundational platform provides relay gateway module connecting hgs chain chain extensible 3rd protocol asset trading transactions hnb digital asset 3rd party blockchain assets future blockchain architecture chain network structure composed multiple blockchains cross chain interaction inevitable trend hnb blockchain layer reserves protocol interface 3rd party cross chain allow future integration blockchains 14 4 chain lighting network blockchain community sparked debates experiments solutions blockchain scalability main solutions include block size expansion consensus algorithm enhancement security hardware assistance segregated witness lighting network transaction sharding state sharding multiple subchains concurrently meet critical requirements decentralization expandability security blockchain correlated specific application key strike balance requirements according specific scenario goal hnb serve real economy massive scale dapp applications small payment requests majority transactions small payment need timely confirmation main chain example small payment scenario widely existing real economy hnb massive volumes high frequent transactions small taken chain lighting network processing real time interaction main chain transactions closed exited connect main chain record final state greatly ease processing pressure main chain design philosophy chain micro payment typical applications lighting network bitcoin raiden network ethereum hnb foundation 2018email service hnb eco 55 58 14 5 archive ledger data business environment required continuous availability data storage period time needed storage requirements blockchain general ledger transaction history data frequently visited time moving costly store actively ledger solution archive historic ledger necessary ensure integrity ledger reduce resource consumption ledger management hnb deploys ledger archiving technology defines ledger based database hot ledger hnb based storage media cold ledger archives historic ledger moves cold ledger according predefined rules latest transaction data remain hot ledger ledger archiving function conducted node completes archiving operation cold ledger stored locally transaction history data needed client node access node spv consensus nodes majority transactions validations hot ledger need store cold ledger demand related dormant accounts needed cold ledger accessing node retrieve transaction history data ledger archiving high level operations rules node trigger archiving operation starting point hot ledger chosen transaction data starting point need moved cold ledger transaction data starting point packaged format filesystem stored cold ledger index created cold ledger sake convenient search block size hot ledger remains unchanged new block added existing 14 6 parallel accounting hnb adopts multi chain architecture chain independent network consensus ensure cross impact consensus operation chain bursting concurrent peak transaction volumes chain affect consensus parallel execution multiple chains sure high efficiency consensus entire network 14 7 algorithm bank hgs digital asset pegged fiat currency hgs token supply determined number users currency circulation consumption scale real world inflation algorithm bank issue reclaim hgs ensure hgs value pegged fiat currency maintain hnb foundation 2018email service hnb eco 56 58 stable currency value hgs stable currency hgs stable currency different conventional currencies like usdt tusd backed assets accepted centralized platform proved high audit costs non transparent hgs unlike bitcny dai guaranteed encrypted assets proved volatile result constant black swan events unlike basis carbon totally dependent algorithm financial derivatives proved difficult avoid trust crisis spawn downward spiral value collapse hgs meaningful vigorous stable mechanism backed real economy hnb basic regulation approach based currency quantitative theory implanted algorithm bank machine learning based factors hnb ecosystem number user currency supply currency circulation rate model created enhanced learning abnormal result detected currency supply regulated issuing reclaiming addition hnb designs mechanism stabilize hgs backing acceptance community merchants goods services hnb community leveraged support hgs value hnb closed tied real economy merchants hnb community selling popular products let merchant sets price $10usd rice product store tags 100hgs hnb community reasons hgs drops $0 095 usd rice product cheaper hnb ecosystem hgs bought purchase increasing buy demands hgs push price closer $0 1 usd hgs actually backed merchandises hnb ecosystem mechanism auction dao periodically auction hnb tokens users buy hnb hgs theoretically auction price hnb token lower secondary market hgs valuable fiat result hgs value naturally pegged fiat currency hnb foundation 2018email service hnb eco 57 58 15 reference 1 s nakamoto bitcoin peer peer electronic cash system 2008 http bitcoin org bitcoin pdf 2 y gilad r hemo s micali g vlachos n zeldovich algorand scaling byzantine agreements cryptocurrencies cryptology eprint archive report 2017 454 version 20170924 210956 sept 2017 http eprint iacr org 3 silvio micali algorand efficient democratic ledger corr abs 1607 01341 2016 4 vitalik buterin long range attacks problem adaptive proof work https blog ethereum org 2014 05 15 long range attacks seriousproblem withadaptive proof work 2014 5 zerocoin electric coin company zcash coins created equal 2017 https z cash 6 ian miers christina garman matthew green aviel d rubin zerocoin anonymous distributed e cash bitcoin 2013 ieee symposium security privacy 7 eli ben sasson alessandro chiesay christina garmanz matthew greenz ian miersz eran tromerx madars virza zerocash decentralized anonymous payments bitcoin 2014 ieee symposium security privacy 8 r turpin b coan extending binary byzantine agreement multivalued byzantine agreement information processing letters 18 2 73 76 feb 1984 9 bentov c lee mizrahi m rosenfeld proof activity extending bitcoin s proof work proof stake proceedings 2014 joint workshop pricing incentives networks systems austin tx june 2014 10 bentov gabizon mizrahi cryptocurrencies proof work proceedings 2016 financial cryptography data security conference 2016 11 d j bernstein curve25519 new diffie hellman speed records proceedings 9th international conference theory practice public key cryptography pkc pages 207 228 new york ny apr 2006 12 vitalik buterin proof stake faq https github com ethereum wiki wiki proof stake faq 2016 13 noam nisan tim roughgarden eva tardos vijay v vazirani algorithmic game theory cambridge university press new york ny usa 2007 14 rafael pass cryptography game theory securty cryptography networks 2016 invited talk 2016 15 sunoo park krzysztof pietrzak albert kwon jo el alwen georg fuchsbauer peter gazi spacemint cryptocurrency based proofs space iacr cryptology eprint archive 2015 528 2015 16 yonatan aumann yehuda lindell security covert adversaries efficient protocols realistic adversaries j cryptology 23 2 281 343 2010 17 james c corbett jeffrey dean michael epstein andrew fikes christopher frost hnb foundation 2018email service hnb eco 58 58 jj furman sanjay ghemawat andrey gubarev christopher heiser peter hochschild wilson hsieh sebastian kanthak eugene kogan hongyi li alexander lloyd sergey melnik david mwaura david nagle sean quinlan rajesh rao lindsay rolig yasushi saito michal szymaniak christopher taylor ruth wang dale woodford spanner google s globally distributed database proceedings osdi 2012 18 jeff shute chad whipkey david menestrina radek vingralek eric rollins stephan ellner bart samwel mircea oancea john cieslewicz ben handy kyle littlefield ian rae traian stancescu himani apte f1 distributed sql database scales 2012 19 bitcoin wiki confirmation https en bitcoin wiki confirmation 2017 20 bitcoinwiki mining hardware comparison 2016 https en bitcoin wiki mining hardware comparison 21 bitcoinwiki bitcoin scalability https en bitcoin wiki scalability 2017 22 bitcoinwiki proof stake https en bitcoin wiki proof stake 2017 23 ethereum foundation ethereum 2016 https www ethereum org 24 ethereum foundation create democracy contract ethereum 2016 https www ethereum org dao