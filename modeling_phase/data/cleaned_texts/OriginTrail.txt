b white paper purpose built protocol supply chains based blockchain authors branimir rakic xe2 x80 x8bmsc xe2 x80 x8b tomaz levak ziga drev sava savic xe2 x80 x8bphd c xe2 x80 x8b aleksandar veljkovic xe2 x80 x8bphd c october 5 2017 v1 0 abstract blockchain technology huge potential decentralize trust supply chains bring measurable benefits value public private sectors unlock potential origintrail protocol designed purposefully tackle main challenges limit fluent exchange integrity data product supply chains supply chain data increasingly fragmented scalability cost concerns current decentralized solutions evident origintrail unique solution allowing providers supply chains set blockchain supported data sharing multi organizational environment helps build transparency xe2 x80 x9cone step step xe2 x80 x9d traceability principle furthermore improves integrity product data drives efficiencies stakeholders version origintrail solution proven currently deployed food industry upcoming open source version suitable product supply chain automotive consumer goods pharmaceutical etc visit website www origintrail io x0ctable contents 1 document purpose 2 2 vision 3 3 supply chain challenges 4 3 xe2 x80 x8b 1 fragmentation data siloes opacity supply chains 5 3 xe2 x80 x8b 2 shortcomings current decentralised solutions 6 4 origintrail purpose built protocol supply chains based blockchain 7 4 xe2 x80 x8b 1 automatic data connection interoperability xe2 x80 x9cone step step forward xe2 x80 x9d principle 8 4 xe2 x80 x8b 1 1 data interoperability format 9 4 xe2 x80 x8b 1 2 data consensus check tool trustworthiness 4 xe2 x80 x8b 2 origintrail decentralized network 11 13 4 xe2 x80 x8b 2 1 odn data layer 14 4 xe2 x80 x8b 2 2 odn network layer 16 4 xe2 x80 x8b 3 data input 17 4 xe2 x80 x8b 4 data distribution protocol 19 4 xe2 x80 x8b 5 possible system attacks 23 4 xe2 x80 x8b 6 trace token economics 24 references 26 1 x0c1 document purpose document created goal positioning origintrail xe2 x80 x99s protocol concept protocol developed based xe2 x80 x8bfive years experience building solutions enable information transparency supply chains includes vast practical experience gained work xe2 x80 x8blive business cases1 new technological possibilities created blockchain community despite quick advancement development blockchain gap advantages blockchain bring actual implementations supply chains seamless efficient manner positive momentum created blockchain community functions catalyst implement technology biggest challenges faced global economy opaque inefficient untrusted supply chains employing capacity fast growing blockchain networks origintrail bring decentralization interoperability data information integrity trust supply chains open source project definition relies industry technical community feedback grow stronger origintrail protocol certain parts currently centralised pilot programs europe china results pilot programs shared forthcoming documents suggestions comments topics whitepaper touch team xe2 x80 x8boffice origin trail com xe2 x80 x8b join xe2 x80 x8btelegram channel xe2 x80 x8b 1 request whitepapers 3 cases meat dairy vegetables sectors www origin trail com xe2 x80 x8b consumer facing instances found xe2 x97 x8f perutnina ptuj ltd link xe2 x97 x8f celeia dairy ltd link xe2 x97 x8f eta kamnik ltd link xe2 x97 x8f android mobile application xe2 x97 x8f ios mobile application 2 x0c2 vision quick look office home high probability objects surrounding came form regional national global supply chain fact little information regards products way signs supply chains facing pressure transparent issues boil limited ability share data entire supply chain origintrail changes decentralised protocol tailor sharing supply chain data based blockchain brings profoundly new way building transparency supply chains origintrail uses blockchain builds established industry standards gs1 provides necessary foundation build new value increased trust optimised supply chain efficiencies automated compliance enforce quality assurance processes origintrail stakeholders securely share data sensitive data fully encrypted times supporting global standards data exchange gs1 iot compliance standards origintrail assures compatibility existing erp systems making implementation process quick efficient finally fully decentralised removes possibility collusions introduces accountability data provided origintrail company ecosystem xe2 x80 x99s based token economy direct relations users network nodes free arbitrary fees contribution origintrail ecosystem pledge transparent collaborative fair trusted supply chains 3 x0c3 supply chain challenges globalization trade increasing complexity supply chains turn increases xe2 x80 x8binformation asymmetry information unevenly distributed participating stakeholders supply chain participating stakeholders misaligned incentives case participating stakeholders different companies incentive provide complete information contributes information asymmetry result end buyers products economical way authenticating purchasing creates ideal conditions xe2 x80 x8bmoral hazard fraudulent behaviour xe2 x80 x8b manifestations phenomena flood counterfeit goods market e g us$200 billion cost legitimate businesses united states2 safety issues violations labour standards stakeholders greatest risk end buyers consumers environment workers companies involved sustainable production honest practices having served supply chain clients resolving challenges past years identified xe2 x80 x8btwo key factors impeding data collection sharing supply chains 1 data fragmented data siloes low data interoperability exist supply chain multi organisation single organisation supply chains crucial technical challenge providers supply chains software iot need resolved order collaborate establish supply chain transparency 2 suitable decentralised solution supply chain data xe2 x80 x8b solutions provide needed level xe2 x80 x8bperformance scalability trust interconnected data supply chains time xe2 x80 x8bcost effective xe2 x80 x8b current blockchain decentralised solutions prohibitively costly provide advanced data relational functionalities scaling issues stakeholders goal member chain improvement process volume efficiency 2 http www ipwatchdog com 2010 08 30 counterfeiting costs businesses id 12336 4 x0c3 1 fragmentation data siloes opacity supply chains current state supply chain data management solutions involves number localized information systems erp systems custom solutions order communicate custom integrations need implemented referred data silos centralized systems lack common technical environment security exchange protocols facilitate data sharing xe2 x80 x8blow interoperability data technical hurdles e g different security policies separate infrastructures environments useful real time knowledge supply chain product context available interested stakeholders e g consumers certification governmental bodies operating companies supply chain stakeholder supply chain receiving sending data product attributes xe2 x80 x9c xe2 x80 x8bone step step forward xe2 x80 x8b xe2 x80 x9d3 trust easily broken value chains integrity compromised organizations today aim bring order integrity complex supply chains including global standard providers supply chains e g gs1 certification organizations e g global gap iseal rainforest alliance bureau veritas information systems providers e g ibm organizations ensure entire chain integrity creating stand solution xe2 x80 x8bdue centralized logic data collection sharing xe2 x80 x8b typically parts global supply chains audited involved leads partial data collection poor verifiability collected data eventually diminished trust 3 xe2 x80 x8bthe supply chain series separate operations sequence raw production market linked products supplied preceding operation step products supply operation step forward operator chain records information links separate operations traceability system operator responsible stage chain control 5 x0c3 2 shortcomings current decentralised solutions blockchain based open decentralized solutions highly compatible technologies overcome mentioned challenges xe2 x80 x8bhowever current solutions provides high performant functionalities storing processing interacting highly interconnected data inherent supply chains xe2 x80 x8b solutions ipfs storj great decentralized storage documents fail provide functions needed advanced search cumulative analysis flexibility handling interconnected data domain professional database solutions ethereum iota hyperledger fabric similar solutions designed data storage manipulation comparatively expensive operate traditional centralised database solutions finally bigchaindb provides database functionalities fitting flexible model supply chains different intended use xe2 x80 x99s permissioned governance model 6 x0cplatform ethereum hyperledger fabric ipfs filecoin storj bigchaindb system type public4 permissioned public permissioned intended use general purpose virtual machine smart contracts customizable blockchain framework closed environments decentralized storage data storage cost high n low low5 database functionalities yes suitable highly interconnected data 4 file decentralized document database public open system allows enter network participant node control governing authority permissioned called federated systems authority decides participant network 5 bigchaindb states cost indefinite storage 1gb $100 7 x0c4 origintrail purpose built protocol supply chains based blockchain origintrail protocol solution xe2 x80 x8ballowing providers easily set blockchain supported data sharing supply chains xe2 x80 x8b xe2 x80 x8bit enables building transparency tracking xe2 x80 x9cone step step xe2 x80 x9d principle protecting brands fraudulent behaviour driving efficiencies stakeholders origintrail brings 1 seamless automatic data connection interoperability systems different stakeholders multi organisation supply chains consensus mechanisms ensuring integrity data 2 public decentralized solution performance cost scalability issues providing tailored decentralized system supply chain data based blockchain direct users origintrail xe2 x80 x8bdevelopers creating supply chain applications described protocol users party technology providers supply chain software companies erp providers iot providers software development companies house supply chain technology teams applications origintrail xe2 x80 x99s protocol delivers value xe2 x97 x8f product authentication xe2 x97 x8f product journey visibility xe2 x97 x8f product recall efficiency xe2 x97 x8f product freshness perishables xe2 x97 x8f chain custody accountability xe2 x97 x8f csr activities support xe2 x97 x8f supply chain mapping optimisation xe2 x97 x8f inventory management xe2 x97 x8f alert systems exception management xe2 x97 x8f supply chain compliance assurance xe2 x97 x8f customs audit regulations process optimisation xe2 x97 x8f supply chain application requires transparent supply chain starting point 8 x0c4 1 automatic data connection interoperability xe2 x80 x9cone step step forward xe2 x80 x9d principle origintrail protocol enables exchange different data sets multi organisation supply chains matter complexity ensuring data quality integrity input sharing data origintrail based common set data standards allow multiple organizations companies involved production distribution retail goods exchange data xe2 x80 x9cone step step forward xe2 x80 x9d principle 4 1 1 data interoperability format order provide uniform data flow information standardized ecosystem xml widely adopted file format data exchange content file standardized supply chain span globe member local standards example date time formats different neighbouring countries date 01 10 october system 10th january defines challenge data sent origintrail standardized vice versa requires standardization attributes nodes attributes xml file content 9 x0corigintrail adopts widely gs1 standards gs1 standards support information needs end users interacting supply chains specifically information required support business processes supply chain participants interact origintrail supports data limited xe2 x97 x8f master data xe2 x80 x8b data shared trading partner trading partners provides descriptive attributes real world entities identified gs1 identification keys including trade items parties physical locations xe2 x97 x8f transaction data xe2 x80 x8b trade transactions triggering confirming execution function business process defined explicit business agreement e g supply contract implicit e g customs processing start business process e g ordering product end e g final settlement making use gs1 identification keys xe2 x97 x8f visibility data xe2 x80 x8b details physical digital activity supply chain products assets identified keys detailing objects time organisation xe2 x80 x99s walls organisations origintrail focused epcis framework xe2 x80 x8b 1 suits protocol core foundations framework designed xe2 x97 x8f layered xe2 x80 x8b particular structure meaning data abstract sense specified separately concrete details data access services bindings particular interface protocols allows variation concrete details time enterprises preserving common meaning data permits epcis data specifications reused approaches service oriented approach present specification example data definitions reused edi framework xe2 x97 x8f extensible xe2 x80 x8b core specifications provide core set data types operations provide means core set extended purposes specific given industry application area extensions provide proprietary requirements addressed way leverages standard framework possible provides natural path standards evolve grow time xe2 x97 x8f modular xe2 x80 x8b layering extensibility mechanisms allow different parts complete epcis framework specified different documents promoting coherence entire framework allows process standardisation implementation scale 10 x0cother data sets include iot compliance data allows exchanging tamper proof recording product properties leads accountability data integrity product supply chains 4 1 2 data consensus check tool trustworthiness receiving information stakeholders origintrail protocol performs xe2 x80 x9cconsensus check xe2 x80 x9d verifies discrepancies data provided different stakeholders check performed steps step 1 stakeholder approved previous following supply chain stakeholder creating chain accountability step 2 matching dynamic batch information verified including critical information batch identifiers appropriate timestamps transactional data step involves company private data e g quantities sales xe2 x80 x8bzero knowledge proof6 mechanism implementation provide way check private information matching provable revealing information dynamic data include data collected sensors compliance data step 3 additional layer credibility auditing compliance organisations validate data supplying confirmations 6 xe2 x80 x8bin cryptography xe2 x80 x8bzero knowledge proof xe2 x80 x8bzero knowledge protocol xe2 x80 x8b xe2 x80 x8b2 xe2 x80 x8b xe2 x80 x8b3 xe2 x80 x8b method party xe2 x80 x8bprover xe2 x80 x8b prove party xe2 x80 x8bverifier xe2 x80 x8b given statement true conveying information apart fact statement true 11 x0cthis ensures entire supply chain accords batch products consensus discrepancies quickly reported investigated reconciled reconciliation discrepancies recorded origintrail additional information uploaded special xe2 x80 x9creconciliation xe2 x80 x9d data set subject consensus mechanism 12 x0c4 2 origintrail decentralized network order provide optimal solution implement origintrail protocol runs chain decentralized peer peer network called origintrail decentralised network odn enables peers network negotiate services transfer process retrieve data verify xe2 x80 x99s integrity availability reimburse provider nodes solution minimizes data stored blockchain order reduce cost inefficiency 13 x0corigintrail incorporates xe2 x80 x8bblockchain platform ensure data integrity xe2 x80 x8b information gets included system tamper proof fingerprint cryptographic hash generated stored blockchain time arrival cryptographic hash commonly prove received data modified way having hash immutable blockchain reference original input completes mechanism need check data tampered simple hash comparison stored hash blockchain newly generated hash data odn shows changes origintrail supports different blockchain implementations current version origintrail utilizes ethereum blockchain provide proof concept initial implementation fully developed solution provide interfaces different blockchains xe2 x80 x8bmultiple reasons xe2 x80 x8b adopting principle xe2 x97 x8f competing blockchain solutions evolve unexpected ways influence pricing blockchain usage xe2 x97 x8f advanced blockchain solutions future integrated xe2 x97 x8f supply chain stakeholders blockchain solutions purposes able use blockchain origintrail blockchain layer system layers network data layers combined form odn system computational storage efficiency odn able deliver cost efficient solution data integration manipulation supply chain stakeholders 14 x0c4 2 1 odn data layer data layer odn takes care necessary data management connectivity functionalities need connect different data sets supply chain providing flexibility support different connection options xe2 x80 x8bdata relationships key factor focus data layer xe2 x80 x8b order leverage data relationships efficient way system needs database technology stores relationship information class entity xe2 x80 x8b 4 xe2 x80 x8b technical solution fulfills requirement graph database comparison different data storage solutions file storage key value stores relational databases document databases graph databases row column based example file system redis riak voldemort hbase cassandra mongodb couchdb ipfs storj pros neo4j arangodb orientdb simple simple data mode naturally indexed simple powerful data powerful data low cost optimized simple optimized model model lookups aggregation scalable optimized scalable scalable connections easy query cons poor poor complex data poor poor interconnected efficient data interconnected foreign keys interconnected data data aggregation data poor query model limited interconnected data map reduce larger queries graph databases provide high performant traversing high flexibility terms data models high agility comes development utilized enterprises like walmart ebay adidas group xe2 x80 x8b 5 companies use cases involving online retail furthermore supply chain information inherently graph like terms flow products connections data forms decentralized graph database provides great conditions 15 x0c xe2 x97 x8f interoperability graphs extended modified easily low operational cost xe2 x97 x8f high performance graph databases great quick traversal connection forming xe2 x97 x8f high availability distribution specific product supply chain presented xe2 x80 x99s graph data inserted longer changed additional information added graph time new data introduced graph new graph fingerprint cryptographic hash created stored blockchain layer allows versioned graph step graph growth later verified credibility immutable fingerprints present blockchain important acknowledge graph databases strengths silver bullet possible data processing scenario currently experimenting different graph dbs multi model databases allow data manipulation flexibility e efficient cumulative analysis important restate data processing scenarios main problem origintrail aiming solve 4 2 2 odn network layer network layer takes care accessibility data governance underlying data layer consists network nodes contain parts decentralized database store graphs data access data achieved provided data exchange api peer peer network built distributed hash table based kademlia xe2 x80 x8b 6 responsible efficient routing network messages peers signed kademlia node id presents valid ethereum address node able spend enforces long term identity helps kademlia routing eclipse attacks network distinguishes types nodes regards interaction supply chain data data creators dc data holders dh important state dc dh nodes terms system capabilities viewed differently context data hold system regard specific supply chains 16 x0ca data creator node responsible injecting supply chain data network replicating specific number data holder nodes distinction comes form data governance decentralization supply chain additional number dc nodes involved specific dh nodes selected specific data replicas nodes copy data graph local databases data creator data holder total means minimum odn replication factor number supply chain involved nodes way system attempts ensure dc nodes outnumbered dh nodes minimize possibility collusion supply chain actors interest changing incriminating piece information inside supply chain data graph assembled 4 3 data input introduce data set origintrail standardised interface format utilized web service xml file provided origintrail importer new implementations file importer created separately allow formats needed domain service providers developing solutions origintrail mechanisms input tested improved production environment initial centralised version origintrail set 2014 new data set introduced dc node performs 1 initial data format check regards syntax semantic errors data standards case error reported importer log web service response 2 following check data set converted graph form database called proto graph identified uniquely product batch identifiers 3 node attempts introduce new graph network data distribution protocol 4 successful data merged master graph product supply chain validated consensus check fingerprinted blockchain layer 17 x0cdefinitions reading vertex graph node ordered pair node identifier graph node set xe2 x80 x8b data contained set graph vertices relation graph edge relation ordered tuple connecting nodes key value pairs set xe2 x80 x8b graph xe2 x80 x8b set xe2 x80 x8b node xe2 x80 x8b set graph edges relations nodes supply chain graph tuple sets graph owner identifier set supply chain graphs stored data node network node set xe2 x80 x8b set network nodes set xe2 x80 x8b set node public keys operates graph set 18 set x0c4 4 data distribution protocol dc node requested upload supply chain graph information product contains checks blockchain layer nodes storing master graph data product nodes found request storage service supply chain graph data product proposals received data holder nodes proposals sharing service nodes best number actors involved origintrail supply chain data notifies selected node acceptance encodes supply chain graph encoding selects broadcasts proposal sends encrypted graph initial proof storage test node proposal node 7 encoding function performs initiate service according accepted includes hash fingerprint received decrypted graph blockchain layer data integrity proof data nodes storing fetches graph node decodes key encoding hash selected data checks compliance stored blockchain layer check successful performs consensus check graphs existent corresponding supply chain data consensus check successfully completed new connected graph broadcasts graph dc node stores newly formed graph hash selected dh nodes perform algorithm propagating network result additional dc node data graph computed data fingerprint hash blockchain layer 7 function xe2 x80 x8benc xe2 x80 x8b function node xe2 x80 x99s address public key current time 19 dh nodes x0creading data origintrail involves requesting information node specific set input information depending product identifiers potentially parameters batch ids timestamps industry specific information unique product packaging identifiers sensory information etc 20 x0ca data node received read request specific subset data involving checks location dh nodes holding blockchain layer case node dh responds data immediately local database forwards request closest dh node network hold requested information 4 5 possible system attacks sybil outsourcing attacks creating multiple sybil identities theoretically allow malicious nodes pretend store copies data having stored quickly fetched storing location required prove providing service issue addressed establishing similar mechanism proof replication xe2 x80 x8b 7 introduced filecoin whitepaper xe2 x80 x8b 8 applied graphs consideration data origintrail public design preconditions place encryption prove replication obscure data data creator encrypt input information require obscured inputting data system node storing specific encoding origintrail required periodically prove graph encoding distinguishable incompressible encoding function slowable prp pseudo random permutation cipher block chaining xe2 x97 x8f slow easy distinguish time honest malicious response attacker need encrypt transmit network xe2 x97 x8f arbitrarily tunable terms running time running number times graph element encrypted proceeding sequential encryption result encrypted element input encryption element xe2 x97 x8f number elements graph publicly verifiable achieved unique cryptographic key based node public key xe2 x97 x8f quick inverse decode function decoding quickly parallelization 21 x0cthe 51% attack 51% attack usually defined ability control overwhelmingly large 51% power decentralized system e hashing power ethereum grants ability manipulate data terms data integrity origintrail attack problem graph deterministically verifiable data hasn xe2 x80 x99t changed comparing hash extracted dh node cryptographic fingerprints blockchain layer additionally dh nodes incentivised store proper form order able prove storage receive compensation node fails provide proof retrievability replication easily substituted node system data creator byzantine faults byzantine faults defined faults caused nodes deliver supply chain graph data unavailable having incorrect data response incorrect response defined response validated appropriate hash fingerprint blockchain layer origintrail datan governance consensus replicating graph data data holder nodes number distinct supply chain data creator nodes probability failure deliver requested data significantly diminishes number involved nodes exchange dh node fails deliver service required period time data distribution protocol find new candidate node replicate data required number copies network 22 x0ceclipse attacks isolating node multitude network having outbound connections reach malicious nodes called eclipse attack addressed public key hashes node ids kademlia eclipse node network attacker generate key pairs position closer kademlia targeted node s nearest non malicious neighbor maintaining position new nodes join closer ids problem grows complexity nodes introduced network essentially presents form proof work problem hostage data attacks malicious node refuse deliver certain graph data order extort data owners additional tokens possibility mitigated replicating graph data multitude nodes 23 x0c4 6 trace token economics origintrail ecosystem enabled tokenisation data exchange supply chain processing functionalities system consists network machines nodes running origintrail software clients supply met demand users protocol supply chain data producers consumers wish share supply chain data origintrail trace token means compensation supply chain data producers data consumers origintrail node holders provides incentive nodes peer peer network perform system functionalities maintaining operating p2p network takes resources time electricity computing power storage space communication bandwidth 24 x0ctherefore origintrail nodes incentivised groups tasks xe2 x97 x8f data processing supply chain consensus checks data quality replication checks xe2 x97 x8f storing managing delivering data graph form write introducing new supply chain information origintrail storing operations performed nodes receive compensation trace tokens based agreement reached regards data distribution protocol mechanism described document important note origintrail uses blockchain layer presents independent system adds additional cost depending chosen underlying blockchain origintrail functionalities case ethereum underlying blockchain means small gas ether needed store necessary hashes ethereum storage operation read operations compensated trace tokens exception read operations free cost certain conditions met access e ethereum node free reads ethereum chosen blockchain blockchain layer hold local origintrail node contains necessary graphs tokens awarded nodes providing service function supply demand nodes users data creators required pay additional arbitrary fees apart agree pay nodes nodes receive payment agreed provided user trace token implemented erc208 compatible token ethereum ensures interoperability wallets tokens ethereum trace token smart contract handles transactions balances secure trusted manner 8 emerging erc223 token specification improves erc20 standard lowers cost token usage approved standard time token sale preferred solution trace token 25 x0creferences 1 gs1 epc information services epcis standard sept 2016 2 zcashco zk snarks xe2 x80 x8bhttps z cash technology zksnarks html 3 eli ben sasson alessandro chiesa eran tromer madars virza succinct non interactive zero knowledge von neumann architecture 2015 4 ian robinson jim webber emil eifrem graph databases 2nd edition new opportunities connected data june 2015 o reilly media 5 neo4j graph databases xe2 x80 x8bhttps neo4j com graph databases 6 petar maymounkov david mazieres kademlia peer peer information system based xor metric 7 protocol labs filecoin proof replication xe2 x80 x8bhttps filecoin io proof replication pdf 8 protocol labs filecoin decentralized storage network xe2 x80 x8bhttps filecoin io filecoin pdf 26 x0c