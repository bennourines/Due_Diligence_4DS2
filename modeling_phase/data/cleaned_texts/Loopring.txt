b loopring decentralized token exchange protocol daniel wang daniel loopring org jay zhou jay loopring org alex wang alex loopring org matthew finestone matt finestone gmail com https loopring org april 6 2018 abstract loopring open protocol building decentralized exchanges loopring operates public set smart contracts responsible trade settlement chain group actors aggregating communicating orders protocol free extensible serves standardized building block decentralized applications dapps incorporate exchange functionality interoperable standards facilitate trustless anonymous trading important improvement current decentralized exchange protocols ability orders mix matched dissimilar orders obviating constraints token trading pairs drastically improving liquidity loopring employs unique robust solution prevent running unfair attempt submit transactions block quicker original solution provider loopring blockchain agnostic deployable blockchain smart contract functionality time writing xe2 x80 x99s operable ethereum 1 2 qtum 3 neo 4 construction 1 introduction fails uphold virtues decentralized projects espouse numerous practical risks limwith proliferation blockchain based assets need itations centralized exchanges described exchange assets counterparties signifi decentralized exchanges dexs 7 8 9 cantly increased thousands new tokens introduced sought address issues cases including tokenization traditional assets need succeeded alleviating security risks blockchains magnified exchanging tokens speculative disintermediation dex capability trading motivations converting access networks crucial infrastructure new economy substantheir native utility tokens ability exchange cryp tial room performance improvement loopring aims toasset foundational larger ecosystem provide modular tools said infrastructure dapp potential energy assets 5 realizing agnostic open protocol energy unlocking capital requires asserting ownership blockchains immutably allowed ability freely transfer transform assets 2 current exchange landscape trustless exchange tokens value compelling use case blockchain technology 2 1 inadequacies centralized exchanges crypto enthusiasts largely settled trading tokens traditional centralized exchanges loopring primary risks centralized exchanges 1 lack protocol needed bitcoin 6 dutifully security 2 lack transparency 3 lack liquidity emphasized regards peer peer electronic cash lack security arises users typically surrender xe2 x80 x9cthe main benefits lost trusted party ing control private keys funds centralized required prevent double spending xe2 x80 x9d main entity exposes users possibility centralized benefits decentralized assets lost pass exchanges fall prey malicious hackers security trusted gated centralized exchanges hacking risks facing centralized exchanges known trading decentralized tokens centralized exchanges 10 11 accepted xe2 x80 x9ctable stakes xe2 x80 x9d token doesn xe2 x80 x99t sense philosophical perspective trading centralized exchanges continue honeypots 1 x0c2 2 hackers attack servers custody millions dollars user funds exchange developers honest accidental errors user funds simply users control tokens deposited centralized exchange inadequacies changes decentralized ex decentralized exchanges differ centralized exchanges users maintain control private keys assets performing trades directly underlying blockchain leveraging trustless technology cryptocurrencies successfully mitigate abovementioned risks surrounding security problems persist regards performance structural limitations liquidity remains issue users search counterparties disparate liquidity pools standards fragmented liquidity effects present dexs dapps large don xe2 x80 x99t employ consistent standards interoperate orders shared propagated wide network liquidity limit order books specifically resiliency xe2 x80 x93 fast filled limit orders regenerated xe2 x80 x93 significantly affect optimal trading strategies 13 absence standards resulted reduced liquidity exposure array potentially insecure proprietary smart contracts furthermore trades performed chain dexs inherit limitations underlying blockchain scalability delays execution mining costly modifications orders blockchain order books scale particularly executing code blockchain incurs cost gas making multiple order cancellation cadences prohibitively expensive finally blockchain order books public transaction place order visible miners awaits mined block placed order book delay exposes user risk run having price execution lack transparency exposes users risk dishonest exchanges acting unfairly distinction exchange operator xe2 x80 x99s malicious intentions users truly trading assets centralized exchanges iou tokens sent exchange xe2 x80 x99s wallet exchange takes custody offers iou place trades effectively users xe2 x80 x99 ious withdraw users redeem iou exchange receive tokens external wallet address process lack transparency exchange shutdown freeze account bankrupt etc possible use user assets purposes custody lending parties lack transparency cost users total loss funds higher trading fees delays peak demand regulatory risk orders ran lack liquidity point view exchange operators fragmented liquidity inhibits entry new exchanges winner takes scenarios exchange greatest number trading pairs wins users find desirable conduct trades exchange second exchange largest order book wins favorable bid ask spreads trading pair discourages competition newcomers difficult build initial liquidity result exchanges command high market share despite user complaints major hacking incidents xe2 x80 x99s worth noting centralized exchanges win market share larger hacking target 2 3 hybrid solutions point view users fragmented liquidity significantly reduces user experience centralized exchange users able trade exchange xe2 x80 x99s liquidity pools order book supported token pairs trade token token b users exchange supports tokens register different exchanges disclosing personal information users need execute preliminary intermediate trades typically btc eth paying bid ask spreads process finally order books deep complete trade material slippage exchange purports process large volumes guarantee volume liquidity fake 12 reasons purely blockchain based exchanges limitations uncompetitive centralized exchanges tradeoff chain inherent trustlessness centralized exchange speed order flexibility protocols loopring 0x 14 extend solution chain settlement chain order management solutions revolve open smart contracts navigate scalability limitations performing functions chain giving nodes flexibility fulfilling critical roles network drawbacks remain hybrid model 15 loopring protocol proposes meaningful differences approach hybrid solution paper result disconnected silos liquidity fragmented ecosystem resembles legacy financial system significant trading volume centralized exchanges global liquidity promises blockchains hold merit centralized exchanges 3 loopring protocol loopring dex modular protocol building dexs multiple blockchains disassemble component parts traditional exchange offer set public 2 x0c30 3 00a case fixing token b reference 10 alice selling 15 token price 4 15 0 26666667b bob buying 10 token 10 0 33333334b xe2 x80 x99s buyer seller price 30 arbitrary situation alice willing pay higher price 3 75a price bob selling tokens 3 1 order ring 3 00a second situation bob willing pay loopring orders expressed unidirec higher price 0 33333334b price alice selling tional order model udom 16 udom expresses orders tokens 0 26666667b clear trade possible token exchange requests amounts amountb buyer willing pay equal higher price sell buy instead bids asks order seller xe2 x80 x99s price exchange rate tokens powerful feature 10 15 15 10 protocol mixing matching multiple orders 4 30 1 30 4 4 xc2 xb7 30 1 25 1 circular trade 16 orders instead single 10 15 trading pair dramatic increase liquidity set n orders able filled fully potential price improvement partially need know product smart contracts decentralized actors place roles network include wallets relays liquidity sharing consortium blockchains order book browsers ring miners asset tokenization services defining understand loopring orders order 2 owner y amounts 9b amountb 12c 8b order 1 owner x amounts 10000a amountb 2b 7898a exchange rates buy orders results number greater equal 1 n orders partially totally filled 17 introduce counterparty charlie alice wants x1 token receive y1 token b bob wants x2 token b receive y2 token c charlie wants x3 token c receive y3 token necessary tokens present trade possible 98c order 3 owner z amounts 100c amountb 160a figure 1 order ring 3 orders x1 xc2 xb7 x2 xc2 xb7 x3 figure shows order ring 3 orders xe2 x89 xa51 2 y1 xc2 xb7 y2 xc2 xb7 y3 order xe2 x80 x99s token sell tokens order xe2 x80 x99s token section 7 1 details loopring xe2 x80 x99s orders buy tokenb creates loop allows order exchange desired tokens requiring opposing order pair traditional order pair trades 4 ecosystem participants course executed essentially special case order ring following ecosystem participants jointly provide functionalities centralized exchange offer definition 3 1 order ring let c0 c1 xc2 xb7 xc2 xb7 xc2 xb7 cn xe2 x88 x921 n xe2 x80 xa2 wallets common wallet service interface different tokens o0 xe2 x86 x921 xc2 xb7 xc2 xb7 xc2 xb7 oi xe2 x86 x92i xe2 x8a x951 xc2 xb7 xc2 xb7 xc2 xb7 xe2 x88 x921 xe2 x86 x920 n gives users access tokens way send orders orders form order ring trading orders loopring network wallets o0 xe2 x86 x921 xe2 x86 x92 xc2 xb7 xc2 xb7 xc2 xb7 xe2 x86 x92 oi xe2 x86 x92i xe2 x8a x951 xe2 x86 x92 xc2 xb7 xc2 xb7 xc2 xb7 xe2 x86 x92 xe2 x88 x921 xe2 x86 x920 incentivized produce orders sharing fees ring miners section 8 belief n length order ring xe2 x8a x95 1 xe2 x89 xa1 1 future trading place safety mod n individual user xe2 x80 x99s wallets connecting liquidity pools protocol paramount order ring valid component transactions executed exchange rate equal better xe2 x80 xa2 consortium liquidity sharing blockchain relaythe original rate specified implicitly user verify mesh relay mesh network order liquidity order ring validity loopring protocol smart contracts sharing nodes run loopring relay software receive order rings ring miners product able join existing network original exchange rates orders equal greater share liquidity relays consortium 1 blockchain consortium blockchain let xe2 x80 x99s assume alice bob want trade token building implementation near real time b alice 15 token wants 4 token b order sharing 1 2 second blocks trims old bob 10 token b wants 30 token history allow faster download new nodes buying selling depends notably relays need join consortium asset fix price quotations token act share liquidity reference alice buying token b price start manage liquidity sharing 15 3 75a bob selling 10 token b price network 4 3 x0c xe2 x80 xa2 relays ring miners relays nodes receive orders wallets relay mesh maintain public order books trade history optionally broadcast orders relays arbitrary chain medium relay mesh nodes ringmining feature xe2 x80 x93 requirement xe2 x80 x93 relays computationally heavy completely chain relays ring mining feature turned xe2 x80 x9cring miners xe2 x80 x9d produce order rings stitching disparate orders relays free 1 choose communicate 2 build order books 3 order rings mining algorithms order books built certain way firstcome serve instead relays power design decisions building order books 4 liquidity sharing relays broadcast order relays arbitrary communication medium flexibility nodes interact facilitate certain level network connectivity built liquidity sharing relaymesh consortium blockchain mentioned prior section relay mesh optimized speed inclusivity xe2 x80 xa2 loopring protocol smart contracts lpsc set public free smart contracts checks order rings received ring miners trustlessly settles transfers tokens behalf users incentivizes ring miners wallets fees emits events relays order browsers listen events order books trade history date appendix details order 1 owner x amounts 10000 amountb 2 b accountx 8b order 2 owner y amounts 9 b amountb 12 c 2 user y 1 accounty 7898 user z accountz 6 relay m accountm 98 c order 3 owner z amounts 100 c amountb 160 xe2 x80 xa2 asset tokenization services ats bridge assets directly traded loopring centralized services run trustworthy companies organizations users deposit assets real fiat tokens chains tokens issued redeemed deposit future loopring cross chain exchange protocol suitable solution exists ats enable trading erc20 tokens 18 physical assets assets blockchains 5 user x fee share liquidity 3 settlement 4 relay n accountn ring mining order 1 owner x amounts 10000 amountb 2 b order 2 owner y amounts 9 b amountb 12 c order 3 owner z amounts 100 c amountb 160 exchange process 1 protocol authorization figure 2 user y wants exchange tokens authorizes lpsc handle amounts token b user wants sell lock user xe2 x80 x99s tokens remains free order processed 5 submitring lpsc blockchain figure 2 loopring exchange process 2 order creation current rate order book token b vs token c provided relays agents hooked network order book browsers user y places order limit order specifying amounts amountb parameters integrated wallet interface lrx added order fee ring miners higher lrx fee means better chance processed earlier ring miners order xe2 x80 x99s hash signed user y xe2 x80 x99s private key 5 ring mining order matching ring miners try fill order fully partially given exchange rate better matching multiple orders ring mining main reason protocol able provide high liquidity pair executed rate better user y specified margin shared orders order ring reward ring miner chooses claiming margin margin split giving lrx user simply keeping lrx fee 3 order broadcast wallet sends order signature relays relays update public order book protocol doesn xe2 x80 x99t require 6 verification settlement order ring received lpsc makes multiple checks verify ring miner supplied data determines 4 x0cprotocol specification order ring settled fully partially depending 7 fill rate orders ring tokens users xe2 x80 x99 wallets checks successful contract 7 1 anatomy order atomically transfers tokens users pays ring miner wallet fees time user order pack data describes intent y xe2 x80 x99s balance determined lpsc insufficient user xe2 x80 x99s trade loopring order defined uniit considered scaled scaled directional order model udom follows order automatically scale original size message order sufficient funds deposited address unlike address protocol cancellation way manual operation address owner reversed address tokens address tokenb uint256 amounts 6 operational flexibility uint256 amountb unit256 lrcfee xe2 x80 x99s important note loopring xe2 x80 x99s open standard allows unit256 validsince seconds epoch participants significant flexibility operate acunit256 validuntil seconds epoch tors free implement novel business models provide uint8 marginsplitpercentage 1 100 value users earning lrx fees volume metrics bool buynomorethanamountb process choose ecosystem modular uint256 walletid meant support participation multitude dual authoring address applications address authaddr v r s parts signature 6 1 order book uint8 v bytes32 r relays design order books number ways bytes32 s display match users xe2 x80 x99 orders implementation dual authoring private key order book follows otc model limit calculating order xe2 x80 x99s hash orders positioned based price timestamps signed orders words bearing order book string authkey relay free design order book uint256 nonce way emulate typical centralized exchange xe2 x80 x99s matching engine orders ranked price respecting timestamps relay inclined offer type ensure origin order signed order book integrate wallet hash parameters excluding authaddr wallet orders sent solely single relay user xe2 x80 x99s private key authaddr parameter able match orders based time signing order rings order prevents configuration possible running reference section 9 1 details dex protocols times require relays signature represented v r s fields resources initial token balances place taker sent alongside order parameters network orders loopring relays need find matchable orders guarantees order stays immutable consummate trade initial tokens lifetime order changes protocol compute current state based balance address variables 6 2 liquidity sharing udom doesn xe2 x80 x99t include price floatingrelays free design share liquidity orders point number nature instead uses term rate consortium blockchain solu r expressed amounts amountb rate tion accomplish ecosystem free network floating point number expression communicate wish joining consortium evaluated unsigned integers demand blockchain build manage creating intermediate results unsigned integers increase rules incentives fit relays work calculation accuracy seen time sensitive wallet implementation course clear advantages communicating 7 1 1 buy amounts relays pursuit network effects different business models merit peculiar sharing designs ring miner ring matches orders xe2 x80 x99s possible better rate executable allowing users split fees number ways 5 x0cmore tokenb amountb specified buynomorethanamountb set true protocol ensures users receive amountb tokenb udom xe2 x80 x99s buynomorethantokenb parameter determines order considered completely filled buynomorethantokenb applies cap amounts amountb allows users express granular trade intentions traditional buy sell orders example amounts 10 amountb 2 rate r 10 2 5 user willing sell 5 tokens tokenb ring miner matches finds user rate 4 allowing user receive 2 5 tokenb instead 2 user wants 2 tokenb set buynomorethanamountb flag true lpsc performs transaction rate 4 user sells 4 tokens tokenb effectively saving 2 tokens mind account mining fees section 8 1 use 7 2 1 step prevents arbitrageurs unfairly realizing margin order ring implementing new orders essentially valid order ring found ring miner tempting add orders order ring fully absorb users xe2 x80 x99 margin rate discounts illustrated figure 3 carefully calculated x1 y1 x2 y2 product orders xe2 x80 x99 rate exactly 1 rate discount order 2 owner y amounts 9b amountb 12c order amounts tokens amountb tokenb buynomorethantokenb order 1 owner x amounts 10000 amountb 2 b order 3 owner z amounts 100 c amountb 160 order 5 owner addressm amounts x2 c amountb y2 order 4 owner m amounts x1 amountb y1 b figure 3 order ring sub ring zero risk zero value add network considered unfair conduct ring miner prevent loopring requires valid loop contain sub rings check lpsc ensures token buy sell position twice diagram token sell token twice buy token twice disallowed represent order simplified form eth usd markets traditional exchange traditional buy sell modeling express 1st 3rd order 1 sell 10 eth price 300 usd eth order expressed order 10 eth 3000 usd false 7 2 2 fill rate checking exchange rate calculations order ring ring miners reasons stated lpsc verify xe2 x80 x99re correct verifies buy rate ring miner execute order equal original buy rate set user ensures user gets exchange rate asked better transaction exchange rates confirmed lpsc ensures order order ring shares rate discount instance discounted rate xce xb3 price order r0 xe2 x86 x921 xc2 xb7 1 xe2 x88 x92 xce xb3 r1 xe2 x86 x922 xc2 xb7 1 xe2 x88 x92 xce xb3 r2 xe2 x86 x920 xc2 xb7 1 xe2 x88 x92 xce xb3 satisfy 2 sell eth price 300 usd eth 3000 usd order expressed order 10 eth 3000 usd true 3 buy 10 eth price 300 usd eth order expressed order 3000 usd 10 eth true 4 spend 3000 usd buy eth possible price 300 usd eth order expressed order 3000 usd 10 eth false 7 2 sub ring checking r0 xe2 x86 x921 xc2 xb7 1 xe2 x88 x92 xce xb3 xc2 xb7 r1 xe2 x86 x922 xc2 xb7 1 xe2 x88 x92 xce xb3 xc2 xb7 r2 xe2 x86 x920 xc2 xb7 1 xe2 x88 x92 xce xb3 1 ring verification 3 loopring smart contracts perform exchange 1 4 xce xb3 1 xe2 x88 x92 xe2 x88 x9a rate calculations receive verify 3 r0 xe2 x86 x921 xc2 xb7 r1 xe2 x86 x922 xc2 xb7 r2 xe2 x86 x920 ring miners supply values calculations ring miners main reasons transaction crosses n orders discount 1 programming language smart contracts 1 solidity 19 ethereum support floating xce xb3 1 xe2 x88 x92 qq 5 n xe2 x88 x921 n point math especially pow x 1 n calculating n th r 0 root floating point number 2 desirable ri order turnover rate th order obvithe computation chain reduce blockchain ously discount rate xce xb3 xe2 x89 xa5 0 orders computation cost 6 x0cbe filled th order oi xe2 x80 x99s actual exchange rate r xcb x86i ri xc2 xb7 1 xe2 x88 x92 xce xb3 r xcb x86i xe2 x89 xa4 ri implementation safely assume order order ring lowest value iterate recall prior example alice 15 token order ring twice calculate wants 4 token b bob 10 token b wants 30 order xe2 x80 x99s fill volume example smallest filled compared token token reference alice original order 5% transactions order ring 3 75a bob selling token b buying token b 15 4 150 30 3 00a calculate discount 120 1 25 scaled 5% transactions completed 10 1 2 rate renders order considered smallest 1 25 0 8 1 xe2 x88 x92 xce xb3 exchange xe2 x88 x9a trade equitable parties 0 8 xc2 xb7 3 75 xe2 x89 x88 3 3541 remaining filled completely filled token token b bob gives 4 token b receives 13 4164 token 7 3 ring settlement 12 expecting 4 tokens alice receives 4 token b intended gives 13 4164 token order ring fulfills previous checks order ring exchange 15 willing closed transactions means 4 tokens note portion margin n orders form closed order ring connected paying fees incentivize miners wallets section figure 4 8 1 o3 7 2 3 fill tracking cancellation user partially fully cancel order sending special transaction lpsc containing details order amounts cancel lpsc takes account stores amounts cancel emits ordercancelled event network lpsc keeps track filled cancelled amounts storing values order xe2 x80 x99s hash identifier data publicly accessible ordercancelled orderfilled events emitted changes tracking values critical lpsc order ring settlement step lpsc supports cancelling orders trading pair orderscancelled event cancelling orders address allorderscancelled event 7 2 4 o2 o4 o1 o5 figure 4 ring settlement transactions lpsc uses tokentransferdelegate smart contract introduction delegate makes upgrading protocol smart contract easier orders need authorize delegate instead different versions protocol order order ring payment tokens previous order depending implementation ring miner xe2 x80 x99s fee paid depending fee model chosen ring miner finally transactions ringmined event emitted order scaling orders scaled according history filled cancelled amounts current balance senders xe2 x80 x99 accounts process finds order smallest filled according characteristics uses reference scaling transactions order ring finding lowest value order help figure fill volume order instance th order lowest value order number tokens sold order s xcc x82 number tokens purchased b xcc x82 order calculated 7 3 1 emitted events protocol emits events allow relays order browsers actors receive order book updates efficiently possible emitted events xe2 x80 xa2 ordercancelled specific order cancelled xe2 x80 xa2 orderscancelled orders trading pair owning address cancelled s xcc x82i si b xcc x82i s xcc x82i r xcc x82i xe2 x80 xa2 allorderscancelled orders trading pairs owning address cancelled s xcc x82i xe2 x8a x951 b xcc x82i b xcc x82i xe2 x8a x951 s xcc x82i xe2 x8a x951 r xcc x82i xe2 x8a x951 s xcc x82i xe2 x8a x952 b xcc x82i xe2 x8a x951 b xcc x82i xe2 x8a x952 s xcc x82i xe2 x8a x952 r xcc x82i xe2 x8a x952 xe2 x80 xa2 ringmined order ring settled successfully event contains data related innerring token transfer si balance left orders partially filled 7 x0c8 lrx token figure 6 loopring xe2 x80 x99s fee model lrx generalized token notation lrc loopring token ethereum lrq qtum lrn neo etc lrx types introduced future loopring deployed public blockchains 8 1 f lrx fee x margin split y mining income y max f x xe2 x88 x92 f indicated solid line lrx fee order 0 equation y max 0 x xe2 x88 x92 0 simplifies y x indicated gray line consequences fee model 1 margin split 0 ring miners choose flat lrx fee incentivized user creates order specify lrx paid ring miner fee conjunction percentage margin marginsplitpercentage order ring miner claim called margin split decision choose fee margin split left ring miner representation margin split 2 lrx fee 0 gray line results income based general linear model 3 margin split income greater 2x lrx fee ring miners choose margin split pay lrx user additionalbuyamount noted lrx fee non zero matter option ring miner chooses transfer lrx ring miner order xe2 x80 x99s sender ring miner earns lrx fee pays lrx fee sender margin split ring miners share certain percentage fees wallets user places order wallet gets filled wallet rewarded portion fees margin split modular unique business models implementations possible inclination wallets receive approximately 20% 25% earned fees wallets represent primary target loopring protocol integration user base little source income m arginsplit orderoriginalbuyamount t otalbuyamount orderactualbuyamount m argin figure 5 60% margin split margin order ring small ringminer choose lrx fee contrary margin substantial resulting margin split worth lrx fee ring miner choose margin split proviso ring miner chooses margin split pay user order creator fee equal lrx user paid ring miner fee increases threshold ring miner choose margin split twice lrx fee order increasing propensity lrx fee choice allows ring miners receive constant income low margin order rings tradeoff receiving income higher margin orderrings fee model based expectation market grows matures fewer high margin order rings necessitating fixed lrx fees incentive end following graph 8 2 root loopring protocol social protocol sense relies coordination members operate effectively goal dissimilar cryptoeconomic protocols large usefulness largely protected mechanisms coordination problems 20 grim trigger equilibrium bounded rationality end lrx tokens pay fees align financial incentives network participants alignment necessary broad adoption protocol particularly acute exchange protocols given success rests largely improving liquidity robust decentralized ecosystem lrx tokens effectuate protocol updates decentralized governance smart contract updates governed token holders ensure continuity safety attenuate risks siphoned liquidity incompatibility given smart contracts altered deployed risk dapps end users continue interact deprecated versions preclude updated contracts upgradeability crucial protocol xe2 x80 x99s success adapt market demands underlying blockchains y f expectedm iningincome x f decentralized governance 2f 8 x0cdecentralized governance lrx stakeholders allow protocol smart contract updates disrupting dapps end users relying heavily smart contract abstraction lrx tokens fixed supply case lrc certain percentages frozen loopring foundation allocated community purposed funds 21 lrx token owners stakeholders consider steering protocol xe2 x80 x99s direction relays ringminers wallets developers integral ecosystem voice heard fact given agents need hold lrx perform respective roles traditional makers takers market makers nonexistent initial token reserves mandatory allow alternative methods interests respected furthermore xe2 x80 x9dsimple xe2 x80 x9d tokenbased voting chain imperfect salve disagreement low voter turnout token ownership concentration pose risks goal implement governance model built layers rests shared knowledge set decision making processes norm facilitated coordination institutions offer signals diverse set participants pre established protocol focal points comes fruition loopring foundation inevitably evolve protocol developers protocol stewards 9 9 1 dual authoring process 1 order wallet software generate random public key private key pair key pair order xe2 x80 x99s json snippet alternative use address derived public key instead public key reduce byte size use authaddr represent address authkey represent authaddr xe2 x80 x99s matching private key 2 compute order xe2 x80 x99s hash fields order r v s authkey sign hash owner xe2 x80 x99s private key authkey 3 wallet send order authkey relays ring mining ring miners verify authkey authaddr correctly paired order xe2 x80 x99s signature valid respect owner address 4 order ring identified ring miner use order xe2 x80 x99s authkey sign ring xe2 x80 x99s hash mineraddress mining parameters order ring contains n orders n signatures n authkeys signatures authsignatures ring miner need sign ring xe2 x80 x99s hash mining parameters mineraddress xe2 x80 x99s private key fraud attack protections 5 ring miner calls submitring function parameters extra authsignatures notice authkeys chain transaction remain unknown parties ring miner running prevention decentralized exchanges running tries copy node xe2 x80 x99s trade solution mined original transaction pending transaction pool mempool achieved specifying higher transaction fee gas price major scheme running loopring protocol order matching order filch runner steals orders pending order ring settlement transaction specific loopring runner steals entire order ring pending transaction submitring transaction confirmed pending transaction pool easily spot transaction replace mineraddress address filcheraddress resign payload filcheraddress replace orderring xe2 x80 x99s signature filcher set higher gas price submit new transaction hoping block miners pick new transaction block instead original submitring transaction previous solutions problem important downsides requiring transactions costing ringminers gas taking twice blocks settle order ring new solution dual authoring 22 involves mechanism setting levels authorization orders settlement ring mining 6 loopring authsignature order authsignature protocol verify corresponding authaddr reject order ring missing invalid result xe2 x80 xa2 order xe2 x80 x99s signature private key owner address guarantees order modified including authaddr xe2 x80 xa2 ring miner xe2 x80 x99s signature private key mineraddress supplied guarantees use identity order ring xe2 x80 xa2 authsignatures guarantees entire order ring modified including mineraddress orders stolen dual authoring prevents ring filch order filch ensuring settlement order rings single transaction addition dual authoring opens doors relays share orders ways nonmatchable sharing matchable sharing default 9 x0cloopring operates otc model supports limitprice orders meaning orders xe2 x80 x99 timestamps ignored implies running trade impact actual price trade impact gets executed 10 10 1 xe2 x80 xa2 free public smart contracts enable dapp build interact protocol xe2 x80 xa2 standardization operators allows network effects improved end user experience xe2 x80 xa2 network maintained flexibility running order books communicating attacks xe2 x80 xa2 reduced barriers entry means lower costs nodes joining network end users sybil dos attack malicious users xe2 x80 x93 acting forged identities xe2 x80 x93 send large small orders attack loopring nodes allow nodes reject orders based criteria xe2 x80 x93 hide reveal xe2 x80 x93 orders rejected yielding satisfying profit matched empowering relays dictate manage orders massive tiny order attack threat xe2 x80 xa2 anonymous trading directly user wallets 12 acknowledgements like express gratitude mentors advisers people community welcoming generous knowledge particular like thank shuo bai chinaledger professor haibin kan alex cheng hongfei da yin cao xiaochuan wu zhen wang wei yu nian 10 2 insufficient balance duan jun xiao jiang qian jiangxu xiang yipeng guo malicious users sign spread orders order dahai li kelvin long huaxia xia jun ma encephalo value non zero address actually zero path reviewing providing feedback project balance nodes monitor notice orders actual balance zero update order states accordingly discard nodes spend time update references status order choose minimize 1 vitalik buterin ethereum generation smart effort example blacklisting addresses dropping contract decentralized application platform 2013 related orders url http ethereum org ethereum html 2017 11 summary loopring protocol sets foundational layer decentralized exchange profound repurcussions people exchange assets value money intermediate commodity facilitates replaces barter exchange solves double coincidence wants problem 23 counterparties desire xe2 x80 x99s distinct good service similarly loopring protocol aims dispense dependencies coincidence wants trading pairs ring matching easily consummate trades meaningful society markets exchange tokens traditional assets decentralized cryptocurrencies pose threat nation xe2 x80 x99s control money combinatorial protocol match traders consumers producers scale theoretical threat concept money protocol benefits include xe2 x80 xa2 chain order management chain settlement means sacrifice performance security 2 gavin wood ethereum secure decentralised generalised transaction ledger ethereum project yellow paper 151 2014 3 patrick dai neil mahi jordan earls alex norta smart contract valuetransfer protocols distributed mobile application platform url https qtum org uploads files cf6d69348ca50dd985b60425ccf282f3 pdf 2017 4 viktor atterlo xcc x88nn distributed ledger gamification pro bono time 2018 5 hernando de soto mystery capital basic books 2000 6 satoshi nakamoto bitcoin peer peer electronic cash system 2008 7 fabian schuh daniel larimer bitshares 2 0 financial smart contract platform 2015 8 bancor protocol url https bancor network 2017 9 yaron velner loi luu kybernetwork trustless decentralized exchange payment service https kr kyber network assets kybernetworkwhitepaper pdf accessed 2018 03 05 xe2 x80 xa2 greater liquidity ring mining order sharing xe2 x80 xa2 dual authoring solves pernicious problem running faced dexs users today 10 x0c 10 fortune steal $500 million 17 supersymmetry remarks loopring cryptocurrency http fortune com 2018 01 https docs loopring org pdf 31 coincheck hack accessed 2018 03 30 supersimmetry loopring remark pdf accessed 2018 03 05 11 robert mcmillan inside story mt gox bitcoins 460 dollar million disaster 2014 18 fabian vogelsteller erc token standard url https github com ethereum eips issues 20 2015 12 sylvain ribes chasing fake volume crypto plague https medium com sylvainartplayribes 19 chris dannen introducing ethereum solidity chasing fake volume crypto plague ea1a3c1e0b5e springer 2017 accessed 2018 03 10 20 vitalik buterin notes blockchain gover 13 rossella agliardi ramazan genay hedging nance https vitalik general 2017 12 17 limit order book varying liquidity 2014 voting html accessed 2018 03 05 14 warren amir bandeali 0x open protocol decentralized exchange ethereum blockchain 2017 21 loopring foundation lrc token documents https docs loopring org english token accessed 2018 03 05 15 iddo bentov lorenz breidenbach cost 22 daniel wang dual authoring looprings solution decentralization http hackingdistributed com running url https medium com loopring2017 08 13 cost decent accessed 2018 03 05 protocol dual authoring looprings solution frontrunning d0fc9c348ef1 2018 16 daniel wang coinport xe2 x80 x99s implemenation udom https github com dong77 backcore blob 23 nick szabo menger money right wrong master coinex coinex backend src main scala http unenumerated blogspot 2006 06 com coinport coinex markets marketmanager menger money right wrong html accessed scala accessed 2018 03 05 2018 03 05 appendices appendix loopring implemented evm loopringprotocol defines interfaces events nameregistry registers wallets relays transferablemultsig enables multisignature ownership loopringprotocolimpl validates order rings transfers tokens settlement emits events tokentransferdelegate transfers tokens behalf users figure 7 smart contracts 11 tokenregistry registers erc20 erc223 tokens x0cappendix b b 1 deployment ethereum following smart contracts deployed ethereum mainnet xe2 x80 xa2 lrc 0xef68e7c694f40c8202821edf525de3782458639f xe2 x80 xa2 tokenregistry 0xa21c1f2ae7f721ae77b1204a4f0811c642638da9 xe2 x80 xa2 tokentransferdelegate 0x7b126ab811f278f288bf1d62d47334351da20d1d xe2 x80 xa2 nameregistry 0xd181c1808e3f010f0f0aabc6fe1bce2025db7bb7 xe2 x80 xa2 loopringprotocolimpl 0x0b48b747436f10c846696e889e66425e05cd740f b 2 qtum following smart contracts deployed qtum mainnet xe2 x80 xa2 lrq 2eb2a66afd4e465fb06d8b71f30fb1b93e18788d xe2 x80 xa2 tokenregistry c89ea34360258917daf3655f8bec5550923509b3 xe2 x80 xa2 tokentransferdelegate 60b3fa7f461664e4dafb621a36ac2722cc680f10 xe2 x80 xa2 nameregistry e26a27d92181069b25bc7283e03722f6ce7678bb xe2 x80 xa2 loopringprotocolimpl 5180bb56b696d16635abd8dc235e0ee432abf25d 12 x0c