b advanced decentralized blockchain platform whitepaper version 2 0 tron protocol version 3 2 tron foundation december 10th 2018 san francisco x0c1 introduction 4 1 1 vision 4 1 2 background 4 1 3 history 5 1 4 terminology 6 address wallet 6 abi 6 api 6 asset 6 bandwidth points bp 6 block 6 block reward 6 block header 6 cold wallet 7 dapp 7 grpc 7 hot wallet 7 jdk 7 khaosdb 7 leveldb 7 merkle root 7 public testnet shasta 8 rpc 8 scalability 8 sun 8 throughput 8 timestamp 8 tkc 8 trc 10 8 trx 8 2 architecture 9 2 1 core 10 2 2 storage 10 2 2 1 blockchain storage 10 2 2 2 state storage 10 1 x0c2 3 application 10 2 4 protocol 11 2 4 1 protocol buffers 11 2 4 2 http 11 2 5 tron virtual machine tvm 11 2 6 decentralized exchange dex 11 2 7 implementation 12 3 consensus 3 1 delegated proof stake dpos 4 account 13 13 16 4 1 types 16 4 2 creation 16 4 3 structure 16 5 block 5 1 block header 18 18 5 1 1 raw data 18 5 1 2 witness signature 19 5 1 3 block id 19 5 2 transaction 19 5 2 1 signing 19 5 2 2 bandwidth model 19 5 2 3 fee 20 5 2 4 transaction proof stake tapos 20 5 2 5 transaction confirmation 21 5 2 6 structure 21 6 tron virtual machine tvm 23 6 1 introduction 23 6 2 workflow 23 6 3 performance 25 6 3 1 lightweight architecture 25 6 3 2 robust 25 6 3 3 high compatibility 25 6 3 4 low cost 25 7 smart contract 26 7 1 introduction 26 7 2 energy model 26 7 3 deployment 27 2 x0c7 4 trigger function 27 7 5 tron solidity 27 8 token 28 8 1 trc 10 token 28 8 2 trc 20 token 28 8 3 29 9 governance 30 9 1 super representative 30 9 1 1 general 30 9 1 2 election 30 9 1 3 reward 30 vote reward 30 b block reward 31 c reward calculation 31 9 2 committee 32 9 2 1 general 32 9 2 2 dynamic network parameters 32 9 2 3 create proposal 36 9 2 4 vote proposal 36 9 2 5 cancel proposal 36 9 3 structure 10 dapp development 36 37 10 1 apis 37 10 2 networks 37 10 3 tools 37 10 4 resources 37 11 conclusion 39 3 x0c1 introduction 1 1 vision tron ambitious project dedicated establishment truly decentralized internet infrastructure tron protocol largest blockchain based operating systems world offers public blockchain support high throughput high scalability high availability decentralized applications dapps tron ecosystem july 2018 acquisition bittorrent cemented tron xe2 x80 x99s leadership pursuing decentralized ecosystem 1 2 background introduction bitcoin 2009 revolutionized society xe2 x80 x99s perception traditional financial system wake great recession 2007 2008 centralized hedge funds banks collapsed speculation opaque financial derivatives blockchain technology provided transparent universal ledger anybody glean transaction information transactions cryptographically secured proof work pow consensus mechanism preventing double spend issues late 2013 ethereum white paper proposed network smart contracts turing complete ethereum virtual machine evm allow developers interact network dapps transaction volumes bitcoin ethereum peaked 2017 apparent low transaction throughput times high transaction fees cryptocurrencies like bitcoin ethereum existing state scalable widespread adoption tron founded envisioned innovative solution pressing scalability challenges 4 x0c1 3 history tron foundation established july 2017 singapore december 2017 tron launched open source protocol testnet blockchain explorer web wallet launched march 2018 tron mainnet launched shortly afterward 2018 marking odyssey 2 0 release technical milestone june 2018 tron declared independence creation genesis block july 2018 acquisition bittorrent october 2018 tron launched tron virtual machine tvm complete developers xe2 x80 x99 toolset 360 support system tron roadmap involves combining bittorrent xe2 x80 x99s 100 million users tron network project atlas fostering developer community launch exciting new dapps tron network1 1 v1 0 available https tron network static doc white paper v 1 0 pdf 5 x0c1 4 terminology address wallet address wallet consisting account credentials tron network generated key pair consists private key public key derived algorithm public key usually session key encryption signature verification encrypting data decrypted corresponding private key abi application binary interface abi interface binary program modules usually modules library operating system facility user run program api application programming interface api mainly user clients development api support token issuance platforms designed developers asset tron s documents asset token denoted trc 10 token bandwidth points bp network operating smoothly tron network transactions use bp fuel account gets 5000 free daily bp obtained freezing trx bp trx trc 10 token transfers normal transactions costing bp smart contract deployment execution transactions consume bp energy block blocks contain digital records transactions complete block consists magic number block size block header transaction counter transaction data block reward block production rewards sent sub account address wallet super representatives claim rewards tronscan api directly block header block header block tron block headers contain previous block xe2 x80 x99s hash merkle root timestamp version witness address 6 x0ccold wallet cold wallet known offline wallet keeps private key completely disconnected network cold wallets usually installed cold devices e g computers mobile phones staying offline ensure security trx private key dapp decentralized application app operates centrally trusted party application enables direct interaction agreements communication end users resources middleman grpc grpc2 grpc remote procedure calls open source remote procedure rpc system initially developed google uses http 2 transport protocol buffers interface description language provides features authentication bidirectional streaming flow control blocking nonblocking bindings cancellation timeouts generates cross platform client server bindings languages common usage scenarios include connecting services microservices style architecture connecting mobile devices browser clients backend services hot wallet hot wallet known online wallet allows user s private key online susceptible potential vulnerabilities interception malicious actors jdk java development kit java sdk java applications core java development comprising java application environment jvm java class library java tools khaosdb tron khaosdb node memory store newly forked chains generated certain period time supports witnesses switch active chain swiftly new main chain 2 2 2 state storage details leveldb leveldb initially adopted primary goal meet requirements fast r w rapid development launching mainnet tron upgraded database entirely customized catered needs 2 2 1 blockchain storage details merkle root merkle root hash hashes transactions included block blockchain network 3 1 delegated proof stake dpos details 2 https en wikipedia org wiki grpc 7 x0cpublic testnet shasta version network running single node configuration developers connect test features worrying economic loss testnet tokens value request public faucet rpc3 distributed computing remote procedure rpc computer program causes procedure subroutine execute different address space commonly computer shared network coded normal local procedure programmer explicitly coding details remote interaction scalability scalability feature tron protocol capability system network process handle growing work potential enlarged accommodate growth sun sun replaced drop smallest unit trx 1 trx 1 000 000 sun throughput high throughput feature tron mainnet measured transactions second tps maximum transaction capacity second timestamp approximate time block production recorded unix timestamp number milliseconds elapsed 00 00 00 01 jan 1970 utc tkc token configuration trc 10 standard crypto token tron platform certain rules interfaces required follow holding initial coin offering tron blockchain trx trx stands tronix official cryptocurrency tron 3 https en wikipedia org wiki remote procedure 8 x0c2 architecture tron adopts 3 layer architecture divided storage layer core layer application layer tron protocol adheres google protobuf intrinsically supports multi language extension figure 1 tron 3 layer architecture 9 x0c2 1 core modules core layer including smart contracts account management consensus stack based virtual machine implemented tron optimized instruction set order better support dapp developers solidity4 chosen smart contract language followed future support advanced languages addition tron s consensus mechanism based delegated proof stake dpos innovations order meet unique requirements 2 2 storage tron designed unique distributed storage protocol consisting block storage state storage notion graph database introduced design storage layer better meet need diversified data storage real world 2 2 1 blockchain storage tron blockchain storage chooses use leveldb developed google proven successful companies projects high performance supports arbitrary byte arrays keys values singular delete batched delete bi directional iterators simple compression fast snappy algorithm 2 2 2 state storage tron khaosdb node memory store newly forked chains generated certain period time supports witnesses switch active chain swiftly new main chain protect blockchain storage making stable terminating abnormally intermediate state 2 3 application developers create diverse range dapps customized wallets tron tron enables smart contracts deployed executed opportunities utility applications unlimited 4 solidity official documentation https solidity readthedocs io 10 x0c2 4 protocol tron protocol adheres google protocol buffers5 language neutral platform neutral extensible way serializing structured data use communications protocols data storage 2 4 1 protocol buffers protocol buffers protobuf flexible efficient automated mechanism serializing structured data similar json xml smaller faster simpler protobuf proto definitions generate code c java c python ruby golang objective c languages official code generators party implementations available languages protobuf eases development clients unifying api definitions optimizing data transfers clients api proto tron xe2 x80 x99s protocol repository integrate automatically generated code libraries comparison protocol buffers 3 10 times smaller 20 100 times faster xml ambiguous syntax protobuf generates data access classes easier use programmatically 2 4 2 http tron protocol provides restful http api alternative protobuf api share interface http api readily javascript clients 2 5 tron virtual machine tvm tvm lightweight turing complete virtual machine developed tron xe2 x80 x99s ecosystem tvm connects seamlessly existing development ecosystem provide millions global developers custom built blockchain system efficient convenient stable secure scalable 2 6 decentralized exchange dex 5 google protocol buffers official documentation https developers google com protocol buffers 11 x0cthe tron network natively supports decentralized exchange functions decentralized exchange consists multiple trading pairs trading pair notation xe2 x80 x9cexchange xe2 x80 x9d exchange market trc 10 tokens trc 10 token trx account create trading pair tokens pair exists tron network trading price fluctuations trading pairs follow bancor protocol6 tron network stipulates weights tokens trading pairs equal ratio balances price example consider trading pair containing tokens abc def abc balance 10 million def balance 1 million weights equal 10 abc 1 def means ratio abc def 10 abc def 2 7 implementation tron blockchain code implemented java originally fork ethereumj 6 bancor protocol official website https bancor network protocol 12 x0c3 consensus 3 1 delegated proof stake dpos earliest consensus mechanism proof work pow consensus mechanism protocol currently implemented bitcoin7 ethereum8 pow systems transactions broadcast network grouped nascent blocks miner confirmation confirmation process involves hashing transactions cryptographic hashing algorithms merkle root reached creating merkle tree figure 2 8 trx transactions hashed merkle root merkle root included block header attached previously confirmed blocks form blockchain allows easy transparent tracking transactions timestamps related information 7 8 bitcoin whitepaper https bitcoin org bitcoin pdf ethereum whitepaper https github com ethereum wiki wiki white paper 13 x0ccryptographic hashing algorithms useful network attack prevention possess properties9 xe2 x97 x8f xe2 x97 x8f xe2 x97 x8f xe2 x97 x8f xe2 x97 x8f xe2 x97 x8f xe2 x97 x8f input output length size xe2 x80 x8b algorithm pass input length size outputs fixed length hash value efficiency xe2 x80 x8b algorithm relatively easy fast compute preimage resistance xe2 x80 x8b given output xe2 x80 x8bz xe2 x80 x8b impossible find input xe2 x80 x8bx xe2 x80 x8b h x xe2 x80 x8b xe2 x80 x8bz xe2 x80 x8b words hashing algorithm xe2 x80 x8bh x xe2 x80 x8b way function output found given input reverse possible collision resistance xe2 x80 x8b computationally infeasible find pairs xe2 x80 x8bx1 xe2 x80 x8b xe2 x89 xa0 xe2 x80 x8b xe2 x80 x8b xe2 x80 x8bh x1 xe2 x80 x8b xe2 x80 x8b xe2 x80 x8b x2 xe2 x80 x8b h x2 xe2 x80 x8b xe2 x80 x8b xe2 x80 x8b words probability finding different inputs hashing output extremely low property implies xe2 x80 x8bsecond preimage resistance xe2 x80 x8b second preimage resistance xe2 x80 x8b given xe2 x80 x8bx xe2 x80 x8b1 xe2 x80 x8b xe2 x80 x8bh x xe2 x80 x8b1 xe2 x80 x8b xe2 x80 x8b computationally infeasible find xe2 x80 x8bx xe2 x80 x8b2 xe2 x80 x8b xe2 x80 x8bh x xe2 x80 x8b1 xe2 x80 x8b h x xe2 x80 x8b2 xe2 x80 x8b xe2 x80 x8b property similar xe2 x80 x8bcollision resistance xe2 x80 x8b property differs saying attacker given xe2 x80 x8bx1 xe2 x80 x8b xe2 x80 x8b find computationally infeasible find xe2 x80 x8bx2 xe2 x80 x8b xe2 x80 x8b hashing output deterministic xe2 x80 x8b maps input output avalanche effect xe2 x80 x8b small change input results entirely different output properties cryptocurrency network intrinsic value ensuring attacks compromise network miners confirm block rewarded tokens built incentive network participation global cryptocurrency market capitalization steadily increased miners centralized focused computing resources hoarding tokens assets network participation purposes cpu miners gave way gpus turn gave way powerful asics notable study total power consumption bitcoin mining estimated high 3 gw10 comparable ireland xe2 x80 x99s power consumption study projected total power consumption reach 8 gw near future solve energy waste issue proof stake pos consensus mechanism proposed new networks pos networks token holders lock token balances block validators validators turns proposing voting block problem standard pos validator influence correlates directly tokens locked results parties hoarding large amounts network xe2 x80 x99s base currency wielding undue influence network ecosystem tron consensus mechanism uses innovative delegated proof stake system 27 super representatives srs produce blocks network 6 hours trx account holders freeze accounts vote selection sr candidates 27 candidates deemed srs voters choose srs based criteria projects sponsored srs paar c pelzl j xe2 x80 x8bunderstanding cryptography textbook students practitioners xe2 x80 x8b 2010 ed springer verlag berlin heidelberg 2010 10 https www sciencedirect com science article pii s2542435118301776 9 14 x0cincrease trx adoption rewards distributed voters allows democratized decentralized ecosystem srs xe2 x80 x99 accounts normal accounts accumulation votes allows produce blocks low throughput rates bitcoin ethereum pow consensus mechanism scalability issues tron xe2 x80 x99s dpos system offers innovative mechanism resulting 2000 tps compared bitcoin xe2 x80 x99s 3 tps ethereum xe2 x80 x99s 15 tps tron protocol network generates block seconds block awarding 32 trx super representatives total 336 384 000 trx awarded annually 27 srs time sr finishes block production rewards sent sub account super ledger srs check directly use trx tokens withdrawal sr 24 hours transferring rewards sub account specified sr account types nodes tron network witness node node solidity node witness nodes set srs mainly responsible block production proposal creation voting nodes provide apis broadcast transactions blocks solidity nodes sync blocks nodes provide indexable apis 15 x0c4 account 4 1 types types accounts tron network regular accounts token accounts contract accounts 1 regular accounts standard transactions 2 token accounts storing trc 10 tokens 3 contract accounts smart contract accounts created regular accounts triggered regular accounts 4 2 creation ways create tron account 1 create new account api 2 transfer trx new account address 3 transfer trc 10 token new account address offline key pair consisting address public key private key recorded tron network generated user address generation algorithm consists generating key pair extracting public key 64 byte byte array representing x y coordinates hash public key sha3 256 function sha3 protocol adopted keccak 256 extract 20 bytes result add 41 beginning byte array ensure initial address length 21 bytes hash address twice sha3 256 function 4 bytes verification code add verification code end initial address obtain address base58check format base58 encoding encoded mainnet address begins t 34 bytes length 4 3 structure different account types normal assetissue contract account contains 7 parameters 1 account xe2 x80 x8b account xe2 x80 x93 e g billsaccount 2 type xe2 x80 x8b type account xe2 x80 x93 e g 0 stands type xe2 x80 x98normal xe2 x80 x99 3 balance xe2 x80 x8b balance account xe2 x80 x93 e g 4213312 16 x0c4 vote xe2 x80 x8b received votes account xe2 x80 x93 e g xe2 x80 x9c0x1b7w xe2 x80 xa69xj3 xe2 x80 x9d 323 xe2 x80 x9c0x8djq xe2 x80 xa6j12m xe2 x80 x9d 88 xe2 x80 xa6 xe2 x80 x9c0x82nd xe2 x80 xa6mx6i xe2 x80 x9d 10001 5 asset xe2 x80 x8b assets expected trx account xe2 x80 x93 e g xe2 x80 x9cwishtoken xe2 x80 x9d 66666 xe2 x80 x9ddogie xe2 x80 x9d 233 6 latest operation time xe2 x80 x8b latest operation time account protobuf data structure message xe2 x80 x8b xe2 x80 x8baccount xe2 x80 x8b xe2 x80 x8bmessage xe2 x80 x8b xe2 x80 x8bvote xe2 x80 x8b xe2 x80 x8bbytes xe2 x80 x8b vote address xe2 x80 x8b1 xe2 x80 x8b xe2 x80 x8bint64 xe2 x80 x8b vote count xe2 x80 x8b2 xe2 x80 x8b xe2 x80 x8bbytes xe2 x80 x8b accout xe2 x80 x8b1 xe2 x80 x8b accounttype type xe2 x80 x8b2 xe2 x80 x8b xe2 x80 x8bbytes xe2 x80 x8b address xe2 x80 x8b3 xe2 x80 x8b xe2 x80 x8bint64 xe2 x80 x8b balance xe2 x80 x8b4 xe2 x80 x8b xe2 x80 x8brepeated xe2 x80 x8b vote votes xe2 x80 x8b5 xe2 x80 x8b map xe2 x80 x8bstring xe2 x80 x8b xe2 x80 x8bint64 xe2 x80 x8b asset xe2 x80 x8b6 xe2 x80 x8b xe2 x80 x8bint64 xe2 x80 x8b latest operation time xe2 x80 x8b10 xe2 x80 x8b enum xe2 x80 x8b xe2 x80 x8baccounttype xe2 x80 x8b normal xe2 x80 x8b0 xe2 x80 x8b assetissue xe2 x80 x8b1 xe2 x80 x8b contract xe2 x80 x8b2 xe2 x80 x8b 17 x0c5 block block typically contains block header transactions protobuf data structure message xe2 x80 x8b xe2 x80 x8bblock xe2 x80 x8b blockheader block header xe2 x80 x8b1 xe2 x80 x8b xe2 x80 x8brepeated xe2 x80 x8b transaction transactions xe2 x80 x8b2 xe2 x80 x8b 5 1 block header block header contains xe2 x80 x8braw data xe2 x80 x8b w xe2 x80 x8b itness signature xe2 x80 x8b xe2 x80 x8bblockid xe2 x80 x8b protobuf data structure message xe2 x80 x8b xe2 x80 x8bblockheader xe2 x80 x8b xe2 x80 x8bmessage xe2 x80 x8b xe2 x80 x8braw xe2 x80 x8b xe2 x80 x8bint64 xe2 x80 x8b timestamp xe2 x80 x8b1 xe2 x80 x8b xe2 x80 x8bbytes xe2 x80 x8b txtrieroot xe2 x80 x8b2 xe2 x80 x8b xe2 x80 x8bbytes xe2 x80 x8b parenthash xe2 x80 x8b3 xe2 x80 x8b xe2 x80 x8buint64 xe2 x80 x8b number xe2 x80 x8b4 xe2 x80 x8b xe2 x80 x8buint64 xe2 x80 x8b version xe2 x80 x8b5 xe2 x80 x8b xe2 x80 x8bbytes xe2 x80 x8b witness address xe2 x80 x8b6 xe2 x80 x8b xe2 x80 x8bbytes xe2 x80 x8b witness signature 2 xe2 x80 x8b xe2 x80 x8b xe2 x80 x8bbytes xe2 x80 x8b blockid xe2 x80 x8b3 xe2 x80 x8b 5 1 1 raw data raw data denoted xe2 x80 x8braw data xe2 x80 x8b protobuf contains raw data message containing 6 parameters 1 2 3 4 5 timestamp xe2 x80 x8b timestamp message xe2 x80 x93 e g 1543884429000 txtrieroot xe2 x80 x8b merkle tree xe2 x80 x99s root xe2 x80 x93 e g 7dacsa xe2 x80 xa63ed parenthash xe2 x80 x8b hash block xe2 x80 x93 e g 7dacsa xe2 x80 xa63ed number xe2 x80 x8b block height xe2 x80 x93 e g 4638708 version xe2 x80 x8b reserved xe2 x80 x93 e xe2 x80 x8b g 5 18 x0c6 witness address xe2 x80 x8b address witness packed block xe2 x80 x93 e g 41928c 4d21 5 1 2 witness signature witness signature denoted xe2 x80 x8bwitness signature xe2 x80 x8b protobuf signature block header witness node 5 1 3 block id block id denoted xe2 x80 x8bblockid xe2 x80 x8b protobuf contains atomic identification block block id contains 2 parameters 1 hash xe2 x80 x8b hash block 2 number xe2 x80 x8b hash height block 5 2 transaction 5 2 1 signing tron xe2 x80 x99s transaction signing process follows standard ecdsa cryptographic algorithm secp256k1 selection curve private key random number public key point elliptic curve public key generation process consists generating random number private key multiplying base point elliptic curve private key obtain public key transaction occurs transaction raw data converted byte format raw data undergoes sha 256 hashing private key corresponding contract address signs result sha256 hash signature result added transaction 5 2 2 bandwidth model ordinary transactions consume bandwidth points smart contract operations consume energy bandwidth points types bandwidth points available users gain bandwidth points freezing trx 5000 free bandwidth points available daily trx transaction broadcast transmitted stored form byte array network bandwidth points consumed transaction number transaction bytes multiplied bandwidth points rate example byte array length transaction 200 transaction consumes 200 bandwidth points trx token transfer results target account created bandwidth points consumed create account deducted additional bandwidth points deducted account creation scenario network consume bandwidth points transaction initiator gained 19 x0cfrom freezing trx insufficient network consumes transaction initiator xe2 x80 x99s trx standard trx transfer scenarios trx account network consumes bandwidth points gained transaction initiator freezing trx insufficient consumes free 5000 daily bandwidth points network consumes trx transaction initiator calculated number bytes transaction multiplied 10 sun trx holders necessarily freeze trx participate sr voting step automatically skipped trx balance frozen 0 5000 daily free bandwidth powers transaction trc 10 token transfers network verifies total free bandwidth points issued token asset sufficient bandwidth points obtained freezing trx consumed bandwidth points consumes trx transaction initiator 5 2 3 fee tron network generally charge fees transactions system restrictions fairness bandwidth usage transactions certain fees fee charges broken following categories 1 normal transactions cost bandwidth points users use free daily bandwidth points 5000 freeze trx obtain bandwidth points trx directly sending account trx needed number bytes 10 sun 2 smart contracts cost energy section 6 need bandwidth points transaction broadcasted confirmed bandwidth cost 3 query transactions free doesn xe2 x80 x99t cost energy bandwidth tron network defines set fixed fees following transactions 1 creating witness node 9999 trx 2 issuing trc 10 token 1024 trx 3 creating new account 0 1 trx 4 creating exchange pair 1024 trx 5 2 4 transaction proof stake tapos tron uses tapos ensure transactions confirm main blockchain making difficult forge counterfeit chains tapos networks require transaction include hash recent block header requirement prevents transactions replayed forks including referenced block signals network particular user 20 x0cstake specific fork consensus mechanism protects network denial service 51% selfish mining double spend attacks 5 2 5 transaction confirmation transaction included future block broadcast network 19 blocks mined tron including block transaction confirmed block produced 27 super representatives round robin fashion block takes 3 seconds mined blockchain time slightly vary super representative network conditions machine configurations general transaction considered fully confirmed 1 minute 5 2 6 structure transaction apis consist following functions message xe2 x80 x8b xe2 x80 x8btransaction xe2 x80 x8b xe2 x80 x8bmessage xe2 x80 x8b xe2 x80 x8bcontract xe2 x80 x8b xe2 x80 x8benum xe2 x80 x8b xe2 x80 x8bcontracttype xe2 x80 x8b accountcreatecontract xe2 x80 x8b0 xe2 x80 x8b create account wallet transfercontract xe2 x80 x8b1 xe2 x80 x8b transfer trx transferassetcontract xe2 x80 x8b2 xe2 x80 x8b transfer trc10 token votewitnesscontract xe2 x80 x8b4 xe2 x80 x8b vote super representative sr witnesscreatecontract xe2 x80 x8b5 xe2 x80 x8b create new sr account assetissuecontract xe2 x80 x8b6 xe2 x80 x8b create new trc10 token witnessupdatecontract xe2 x80 x8b8 xe2 x80 x8b update sr information participateassetissuecontract xe2 x80 x8b9 xe2 x80 x8b purchase trc10 token accountupdatecontract xe2 x80 x8b10 xe2 x80 x8b update account wallet information freezebalancecontract xe2 x80 x8b11 xe2 x80 x8b freeze trx bandwidth energy unfreezebalancecontract xe2 x80 x8b12 xe2 x80 x8b unfreeze trx withdrawbalancecontract xe2 x80 x8b13 xe2 x80 x8b withdraw sr rewards day unfreezeassetcontract xe2 x80 x8b14 xe2 x80 x8b unfreeze trc10 token updateassetcontract xe2 x80 x8b15 xe2 x80 x8b update trc10 token xe2 x80 x99s information proposalcreatecontract xe2 x80 x8b16 xe2 x80 x8b create new network proposal sr proposalapprovecontract xe2 x80 x8b17 xe2 x80 x8b sr votes yes network proposal proposaldeletecontract xe2 x80 x8b18 xe2 x80 x8b delete network proposal owner createsmartcontract xe2 x80 x8b30 xe2 x80 x8b deploy new smart contract triggersmartcontract xe2 x80 x8b31 xe2 x80 x8b function smart contract getcontract xe2 x80 x8b32 xe2 x80 x8b existing smart contract updatesettingcontract xe2 x80 x8b33 xe2 x80 x8b update smart contract xe2 x80 x99s parameters exchangecreatecontract xe2 x80 x8b41 xe2 x80 x8b create token trading pair dex exchangeinjectcontract xe2 x80 x8b42 xe2 x80 x8b inject funding trading pair 21 x0cexchangewithdrawcontract xe2 x80 x8b43 xe2 x80 x8b withdraw funding trading pair exchangetransactioncontract xe2 x80 x8b44 xe2 x80 x8b perform token trading updateenergylimitcontract xe2 x80 x8b45 xe2 x80 x8b update origin energy limit smart contract 22 x0c6 tron virtual machine tvm 6 1 introduction tron virtual machine tvm lightweight turing complete virtual machine developed tron s ecosystem goal provide custom built blockchain system efficient convenient stable secure scalable tvm initially forked evm11 connect seamlessly existing solidity smart contract development ecosystem based tvm additionally supports dpos consensus tvm employs concept energy different gas mechanism evm operations transactions smart contracts tvm free trx consumed technically executable computation capacity tvm restricted total holding tokens 6 2 workflow compiler translates solidity smart contract bytecode readable executable tvm tvm processes data opcode equivalent operating logic stack based finite state machine finally tvm accesses blockchain data invokes external data interface interoperation layer 11 evm ethereum virtual machine https github com ethereum ethereumj 23 x0cfigure 3 tvm workflow 24 x0c6 3 performance 6 3 1 lightweight architecture tvm adopts lightweight architecture aim reducing resource consumption guarantee system performance 6 3 2 robust trx transfers smart contract execution cost bandwidth points instead trx exempts tron attacked bandwidth consumption predictable static computational step cost fixed 6 3 3 high compatibility tvm compatible evm compatible mainstream vms future smart contracts evm executable tvm 6 3 4 low cost tvm xe2 x80 x99s bandwidth setup development costs reduced developers focus logic development contract code tvm offers interfaces contract deployment triggering viewing offer convenience developers 25 x0c7 smart contract 7 1 introduction smart contract protocol digitally verifies contract negotiation define rules penalties related agreement automatically enforce obligations smart contract code facilitates verifies enforces negotiation performance agreement transaction tokenization perspective smart contracts facilitate automatic funds transfers participating parties certain criteria met tron smart contracts written solidity language written tested compiled bytecode deployed tron network tron virtual machine deployed smart contracts queried contract addresses contract application binary interface abi shows contract xe2 x80 x99s functions interacting network 7 2 energy model maximum energy limit deploying triggering smart contract function variables xe2 x97 x8f xe2 x97 x8f xe2 x97 x8f xe2 x97 x8f xe2 x97 x8f xe2 x97 x8f dynamic energy freezing 1 trx 50 000 000 000 total energy limit total energy weight energy limit daily account energy limit freezing trx remaining daily account energy freezing trx calculated energy limit energy fee limit trx set smart contract deploy trigger remaining usable trx account energy trx purchased directly 10 sun 1 energy 100 000 srs vote adjustment consumption scenarios calculate maximum energy limit deployment trigger logic expressed follows const xe2 x80 x8b const xe2 x80 x8b const xe2 x80 x8b const xe2 x80 x8b const xe2 x80 x8b r f e l t dynamic energy limit daily account energy xe2 x80 x8bfrom xe2 x80 x8b freezing trx remaining daily account energy xe2 x80 x8bfrom xe2 x80 x8b freezing trx fee limit xe2 x80 x8bin xe2 x80 x8b trx set xe2 x80 x8bin xe2 x80 x8b deploy trigger remaining usable trx xe2 x80 x8bin xe2 x80 x8b account 26 x0cconst xe2 x80 x8b c energy trx xe2 x80 x8bif xe2 x80 x8b purchased directly calculate m defined maximum energy limit deployment trigger smart contract xe2 x80 x8b f l r let xe2 x80 x8b m min e t c l r let xe2 x80 x8b m e t c 7 3 deployment tron solidity smart contract compiled tron virtual machine reads compiled bytecode bytecode consists section code deployment contract code auxdata auxdata source code xe2 x80 x99s cryptographic fingerprint verification deployment bytecode runs constructor function sets initial storage variables deployment code calculates contract code returns tvm abi json file describes tron smart contract xe2 x80 x99s functions file defines function names payability function return values state mutability 7 4 trigger function tron smart contracts deployed functions triggered individually tronstudio api calls state changing functions require energy read functions execute energy 7 5 tron solidity tron solidity fork ethereum xe2 x80 x99s solidity language tron modifies original project support trx sun units 1 trx 1 000 000 sun rest language syntax compatible solidity 0 4 24 tron virtual machine tvm 100% compatible evm instructions 27 x0c8 token 8 1 trc 10 token tron network account issue tokens expense 1024 trx xe2 x80 x8bto issue tokens issuer needs specify token total capitalization exchange rate trx circulation duration description website maximum bandwidth consumption account total bandwidth consumption token frozen token issuance configure account xe2 x80 x99s maximum daily token transfer bandwidth points entire network xe2 x80 x99s maximum daily token transfer bandwidth points total token supply locking duration days total tokens locked 8 2 trc 20 token trc 20 technical standard smart contracts implementing tokens supported tron virtual machine fully compatible erc 20 interface follows contract xe2 x80 x8b trc20interface xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8btotalsupply xe2 x80 x8b xe2 x80 x8bpublic xe2 x80 x8b xe2 x80 x8bconstant xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b uint xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bbalanceof xe2 x80 x8b address tokenowner xe2 x80 x8bpublic xe2 x80 x8b xe2 x80 x8bconstant xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b uint balance xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8ballowance xe2 x80 x8b address tokenowner address spender xe2 x80 x8bpublic xe2 x80 x8b xe2 x80 x8bconstant returns xe2 x80 x8b uint remaining xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8btransfer xe2 x80 x8b address uint tokens xe2 x80 x8bpublic xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b bool success xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bapprove xe2 x80 x8b address spender uint tokens xe2 x80 x8bpublic xe2 x80 x8b r xe2 x80 x8b eturns xe2 x80 x8b bool success xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8btransferfrom xe2 x80 x8b address address uint tokens xe2 x80 x8bpublic returns xe2 x80 x8b bool success xe2 x80 x8bevent xe2 x80 x8b t xe2 x80 x8b ransfer xe2 x80 x8b address indexed address indexed uint tokens xe2 x80 x8bevent xe2 x80 x8b xe2 x80 x8b pproval xe2 x80 x8b address indexed tokenowner address indexed spender uint tokens developer xe2 x80 x99s perspective differences trc 10 trc 20 key differences trc 10 tokens accessible apis smart contracts trc 20 tokens allow interface customization accessible smart contracts 28 x0cfrom cost perspective trc 10 tokens transaction fees 1000 times lower trc 20 carry bandwidth costs api transfers deposits transfers deposits smart contracts trc 10 tokens cost bandwidth energy 8 3 tron uses solidity version ethereum token standards readily ported tron 29 x0c9 governance 9 1 super representative 9 1 1 general account tron network apply opportunity super representative denoted sr vote sr candidates 27 candidates votes srs right obligation generate blocks votes counted 6 hours srs change accordingly prevent malicious attacks cost sr candidate applying 9999 trx burned applicant xe2 x80 x99s account successful account join sr election 9 1 2 election tron power denoted tp needed vote tp depends voter xe2 x80 x99s frozen assets trx tp calculated following way 1 t p 1 t rx f rozen bandwidth account tron network right vote srs release unfreeze available 3 days users won t frozen assets lose tp accordingly result votes invalid ongoing future voting round trx frozen vote note tron network records recent vote means new vote negate previous votes 9 1 3 reward vote reward 30 x0calso known candidate reward 127 candidates updated round 6 hours share 115 200 trx mined reward split accordance vote weight candidate receives year total reward candidates 168 192 000 trx total vote reward round 115 200 trx round 115 200 t rx total vote reward round v r round v r round 16 t rx block xc3 x97 20 blocks min xc3 x97 60 mins hr xc3 x97 6 hrs round notice set witness standby allowance 115 200 trx dynamic network parameters total vote reward year 168 192 000 trx year 168 192 000 t rx total vote reward year v r year v r year 115 200 t rx round xc3 x97 4 rounds day xc3 x97 365 days year b block reward known super representative reward 27 candidates srs elected round 6 hours share roughly 230 400 trx mined reward split evenly 27 srs minus total reward blocks missed network error total 336 384 000 trx awarded annually 27 srs total block reward round 230 400 trx round 230 400 t rx total block reward round br round b r round 32 t rx bloc xc3 x97 20 blocks min xc3 x97 60 mins hr xc3 x97 6 hrs round notice unit block reward set witness pay block 32 trx dynamic network parameters total block reward year 336 384 000 trx year 336 384 000 t rx total block reward year br year b r year 230 400 t rx round xc3 x97 4 rounds day xc3 x97 365 days year january 1 2021 inflation tron network january 1 2021 tron foundation award block rewards candidate rewards prior date c reward calculation 31 x0csr reward calculation total reward vote reward v r block reward br candidate received v r total v r xc3 x97 votes sr total votes total br xe2 x88 x92 block missed xc3 x97 32 27 note reward calculated sr round 6 hours br rank 28 rank 127 sr candidate reward calculation total reward vote reward v r candidate received v r total v r xc3 x97 votes sr total votes note reward calculated sr candidate round 6 hours 9 2 committee 9 2 1 general committee modify tron dynamic network parameters block generation rewards transaction fees etc committee consists 27 srs current round sr right propose vote proposals proposal receives 19 votes approved new network parameters applied maintenance period 3 days 9 2 2 dynamic network parameters 0 maintenance time interval description modify maintenance interval time ms known sr vote interval time round b example 6 3600 1000 ms 6 hours c range 3 27 1000 24 3600 1000 ms 1 account upgrade cost description modify cost applying sr account b example 9 999 000 000 sun 9 999 trx c range 0 100 000 000 000 000 000 sun 2 create account fee description modify account creation fee 32 x0c3 4 5 6 7 b example 100 000 sun 1 trx c range 0 100 000 000 000 000 000 sun transaction fee description modify fee gain extra bandwidth b example 10 sun byte c range 0 100 000 000 000 000 000 sun byte asset issue fee description modify asset issuance fee b example 1024 000 000 sun 1024 trx c range 0 100 000 000 000 000 000 sun witness pay block description modify sr block generation reward known unit block reward b example 32 000 000 sun 32 trx c range 0 100 000 000 000 000 000 sun witness standby allowance description modify rewards given 127 sr candidates known total vote reward round b example 115 200 000 000 sun 115 200 trx c range 0 100 000 000 000 000 000 sun create new account fee system contract description modify cost account creation combine dynamic network parameters 8 total account creation cost c reat e n ew accou n t f ee sy st em con t ract xc3 x97 c reat e n ew accou n t ban dw idt h rat e b example 0 sun c range 0 100 000 000 000 000 000 sun 8 create new account bandwidth rate 33 x0ca description modify cost account creation combine dynamic network parameters 7 total account creation cost c reat e n ew accou n t f ee sy st em con t ract xc3 x97 c reat e n ew accou n t ban dw idt h rat e b example 1 c range 0 100 000 000 000 000 000 9 allow creation contracts description turn tron virtual machine tvm b example true set activate effect 10 10 2018 23 47 utc c range true false 10 remove power gr description remove initial gr genesis votes b example true effected 11 4 2018 08 46 utc c range true false notice set false true 11 energy fee description modify fee 1 energy b example 20 sun c range 0 100 000 000 000 000 000 sun 12 exchange create fee description modify cost trading pair creation known cost creating trade order b example 1 024 000 000 sun 1024 trx c range 0 100 000 000 000 000 000 sun 13 max cpu time tx description modify maximum execution time transaction known timeout limit transaction b example 50 ms c range 34 x0c 0 1000 ms 14 allow update account description modify option let account update account b example false available propose java tron odyssey v3 2 c range true false notice set false true 15 allow token description modify validation allowing different token duplicate b example false available propose java tron odyssey v3 2 c range true false notice set false true 16 allow delegate resource description modify validation allowing issue token duplicate tokenid xe2 x80 x8b token long integer data type atomic identification token b example false available propose java tron odyssey v3 2 c range true false notice set false true 17 total energy limit description modify network total energy limit b example 50 000 000 000 000 000 sun 50 000 000 000 trx c range 0 100 000 000 000 000 000 sun 18 allow tvm transfer trc10 description allow trc 10 token transfer smart contracts allow update account allow token allow delegate resource proposals approved proposing parameter change b example false available propose java tron odyssey v3 2 c range true false notice set false true 35 x0c9 2 3 create proposal sr accounts rights propose change dynamic network parameters 9 2 4 vote proposal committee members srs vote proposal member vote time considered disagree proposal active 3 days created vote changed retrieved 3 days voting window period ends proposal succeed 19 votes fail end 9 2 5 cancel proposal proposer cancel proposal effective 9 3 structure srs witnesses newly generated blocks witness contains 8 parameters 1 address xe2 x80 x8b address witness xe2 x80 x93 e g 0xu82h xe2 x80 xa67237 2 votecount xe2 x80 x8b number received votes witness xe2 x80 x93 e g 234234 3 pubkey xe2 x80 x8b public key witness xe2 x80 x93 e g 0xu82h xe2 x80 xa67237 4 url xe2 x80 x8b url witness xe2 x80 x93 e g https www noonetrust com 5 totalproduced xe2 x80 x8b number blocks witness produced xe2 x80 x93 e g 2434 6 totalmissed xe2 x80 x8b number blocks witness missed xe2 x80 x93 e g 7 7 latestblocknum xe2 x80 x8b latest height block xe2 x80 x93 e g 4522 8 isjobs xe2 x80 x8b boolean flag protobuf data structure message xe2 x80 x8b xe2 x80 x8bwitness xe2 x80 x8b xe2 x80 x8bbytes xe2 x80 x8b address xe2 x80 x8b1 xe2 x80 x8b xe2 x80 x8bint64 xe2 x80 x8b votecount xe2 x80 x8b2 xe2 x80 x8b xe2 x80 x8bbytes xe2 x80 x8b pubkey xe2 x80 x8b3 xe2 x80 x8b xe2 x80 x8bstring xe2 x80 x8b url xe2 x80 x8b4 xe2 x80 x8b xe2 x80 x8bint64 xe2 x80 x8b totalproduced xe2 x80 x8b5 xe2 x80 x8b xe2 x80 x8bint64 xe2 x80 x8b totalmissed xe2 x80 x8b6 xe2 x80 x8b xe2 x80 x8bint64 xe2 x80 x8b latestblocknum xe2 x80 x8b7 xe2 x80 x8b xe2 x80 x8bbool xe2 x80 x8b isjobs xe2 x80 x8b8 xe2 x80 x8b 36 x0c10 dapp development 10 1 apis tron network offers wide selection 60 http api gateways interacting network solidity nodes additionally tronweb comprehensive javascript library containing api functions enable developers deploy smart contracts change blockchain state query blockchain contract information trade dex api gateways directed local privatenet shasta testnet tron mainnet 10 2 networks tron shasta testnet mainnet developers connect networks deploying nodes interacting tronstudio apis trongrid service trongrid service consists load balanced node clusters hosted aws servers worldwide dapp development scales api volumes increase trongrid successfully fields increase api traffic 10 3 tools tron offers suite development tools enabling developers create innovative dapps tronbox framework allows developers test deploy smart contracts tronweb api trongrid load balanced hosted api service allows developers access tron network having run node trongrid offers access shasta testnet tron mainnet tronstudio comprehensive integrated development environment ide enables developers compile deploy debug solidity smart contracts tronstudio contains internal node creates private local environment smart contract testing prior deployment tronweb api library connects developers network wide selection http api calls wrapped javascript 10 4 resources tron developer hub comprehensive api documentation12 site tailored developers wishing build tron network developer hub provides high level conceptual understanding tron walks users details interacting 12 developer hub https developers tron network 37 x0cnetwork guides walk developers node setup deployment interaction smart contracts api interaction implementation building sample dapps developer tools additionally developer community channels available discord13 13 discord https discordapp com invite gsrgstd 38 x0c11 conclusion tron scalable blockchain solution employed innovative methods tackling challenges faced legacy blockchain networks having reached 2m transactions day 700k trx accounts surpassing 2000 tps tron enabled community creating decentralized democratized network 39 x0c