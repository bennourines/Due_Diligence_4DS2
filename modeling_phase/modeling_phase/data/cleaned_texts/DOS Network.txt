b xe2 x80 x8bd xe2 x80 x8becentralized xe2 x80 x8bo xe2 x80 x8bracle xe2 x80 x8bse xe2 x80 x8b rvice boosting blockchain usability chain data verifiable computing power info dos network update 2019 02 v1 5 x0ctable contents 1 introduction 1 1 motivation 1 2 existing approaches 1 3 introducing dos network 2 2 3 7 2 detailed design 2 1 high level architecture 2 2 chain detailed design 2 2 1 proxy system 2 2 2 chain governance systems 2 3 chain detailed design 2 3 1 decentralized data feed oracle 2 3 2 ii computation oracle 2 4 cross chain interoperability 9 9 10 10 10 12 12 19 21 3 premium data feeds marketplace 22 4 future r d work 24 5 token economy 5 1 participants dos system 5 2 network bootstrap 5 3 token distribution 25 25 26 27 6 use cases 6 1 decentralized derivatives 6 2 stablecoins 6 3 decentralized lending platform 6 4 decentralized insurance 6 5 decentralized casino 6 6 xe2 x80 x8bdecentralized prediction market 6 7 decentralized computation market execution scalability 28 28 28 29 29 29 30 30 references 31 appendixes 33 1 x0c1 introduction 1 1 motivation blockchain distributed ledger technology gaining massive attention world emerging bitcoin xe2 x80 x8b 1 xe2 x80 x8b blockchain features distributed global states tamperproof byzantine environment central authorities single point failure blockchain believed building block trust value exchange advent ethereum xe2 x80 x8b 2 pushes decentralized economy step introducing user defined states turing complete virtual machine enabling booming decentralized applications xe2 x80 x8b 3 smart contracts nowadays killer apps blockchains probably decentralized trustless crowdfunding game theory based financial games smart contracts dapps developed talents industries content monetization decentralized cloud storage insurance games decentralized casino prediction markets etc strongly believe blockchains smart contracts infancy unimaginable use cases coming inherent limitation existing blockchains xe2 x80 x99 consensus mechanisms deterministic virtual machines currently biggest issues hindering widespread adoption smart contracts emergence large scale commercial dapps xe2 x97 x8f smart contracts directly pull internet data invoke external web api xe2 x80 x99s inevitable commercial applications insurance interact real world especially internet xe2 x97 x8f chain computation resource capacity fact expensive limited existing smart contract platforms ethereum execution gas cost block gas limit verifier xe2 x80 x99s dilemma xe2 x80 x8b 4 xe2 x80 x8b leads execution scalability issues makes infeasible impossible achieve commercial computation goals large scale matrix multiplication ai model training 3d rendering etc chain computing smart contract overcoming problems important resolving current blockchains xe2 x80 x99 transaction throughput issues necessary effort enrich smart contracts decentralized economy real world events computing powers blockchain hits mass adoption 2 x0c1 2 problem definition existing approaches complexity computability theory define oracle xe2 x80 x8b 5 entity capable resolving decision problem function problem oracle basically treated xe2 x80 x9cblack box provides solutions given request specifically context blockchain smart contract classify oracle machine categories xe2 x97 x8f data feed oracle xe2 x80 x8b feeding external data smart contracts request unlocking potential interactions business level smart contract chain events xe2 x97 x8f computation oracle xe2 x80 x8b performing user defined computation intensive tasks chain supplying unlimited computing power existing blockchains bringing decentralized token economy traditional computation market oracle chain party service governed blockchain consensus mechanism main concern trust party services xe2 x80 x99 honesty xe2 x80 x99re existing centralized decentralized oracle solutions focused feeding external data smart contracts focused fixing chain computation problem majority built ethereum blockchain xe2 x97 x8f data feed oracle xe2 x80 x8b xe2 x97 x8b oraclize xe2 x80 x8b 6 provides centralized data feed oracle service ethereum blockchain help amazon web services aws tlsnotary proof xe2 x80 x8b 7 xe2 x80 x8b oraclize proves performed calling contracts xe2 x80 x99 requests faithfully dapps favor centralized solution essence trust dependency shifted oraclize company amazon system decentralized centralized component oraclize single point failure spof xe2 x80 x8b 8 stack dilemma tlsnotary proofs gigantic size passing proofs chain costs tons gas paid end user calling contract proofs easily verified chain calling contract real time extra cost bloated proof plus premium charged oraclize profit total cost oraclize higher claimed document oraclize running business 2016 turns popular oracle service time probably lack friendly usable oracle services 3 x0c xe2 x97 x8b town crier xe2 x80 x8b 9 centralized data feed oracle built ethereum blockchain mainly utilizing intel software guard extension sgx deliver authenticated data feeds smart contracts sgx manages trusted execution environment tee xe2 x80 x8b 10 named xe2 x80 x9cenclave xe2 x80 x9d inside core user program code executed protected malicious programs including operating system secure execution core user program code inside sgx enclave remotely attested end users sgx commercial tee closed source undocumented trust dependency shifted design implementation intel company hardware manufacturers sound better oraclize xe2 x80 x99s solution town crier comes problems xe2 x96 xa0 centralized solution suffers spof issue mentioned xe2 x96 xa0 sgx suffers recent security vulnerabilities like foreshadow xe2 x80 x8b 11 spectre xe2 x80 x8b 11 targeting intel cpu sgx easily patchable severely hurting performance researchers revealed security issues synchronization bugs xe2 x80 x8b 12 attacks xe2 x80 x8b 13 hijack control flow leaking private information sgx enclaves xe2 x96 xa0 town crier supports limited types apis data feeds exclusively built ethereum blockchain town crier started serving ethereum mainnet 2017 seldom comparing oraclize xe2 x97 x8b chainlink xe2 x80 x8b 14 proposed decentralized oracle ethereum blockchain aims perform chain aggregation governances ensure data correctness current development plan chain aggregation appears straight forward drawbacks biggest excessive gas consumptions number transactions spamming blockchain proportional number oracle clients participated consensus round long term roadmap explore approaches support chain aggregation protocol signature scheme interactive involves multiple rounds message communications worst condition requires majority chain clients participate poor performance scalability reputation based oracle node selection easily leads matthew effect prone collusion targeted attacks claims long term plan explore use intel sgx pros cons 4 x0cdescribed previous section chainlink finished token sale september 2017 developing chain aggregation implementation usable product xe2 x97 x8b augur xe2 x80 x8b 15 gnosis xe2 x80 x8b 16 decentralized prediction markets bring predicted results real world events blockchain means collective intelligence ideally voting distributed different token holders predicted result consented majority votes augur gnosis good reporting low frequent future events presidential election result sports bettings etc appropriate reporting real time demand events heavy user engagement long delay credibility predicted result compromised token distribution e g gnosis team holding 90% gno tokens xe2 x97 x8f computation oracle xe2 x80 x8b xe2 x97 x8b oraclize supports simple computation script running outsourcing sandboxed aws virtual machine computation task needs follow specific format defined oraclize large scale use oraclize computation oracle hasn xe2 x80 x99t seen features oraclize found data feed oracle section xe2 x97 x8b sgx based computation oracle projects startups currently investigating possibility sgx trusted hardware perform chain computation currently existing workable product interesting topic attracting public attention takeaways xe2 x96 xa0 technology sgx pros cons discussed data feed oracle section xe2 x96 xa0 sgx xe2 x80 x99s adoption rate usability sgx introduced late 2015 6th generation intel cpu based skylake microarchitecture means lot personal computers cloud servers equipped sgx enabled cpus sgx based computation solution limited usability actually highly centralized sgx enabled processors needs turn sgx bios settings xe2 x80 x8b 17 18 requires special knowledge operate personal computer cloud server providers willing 5 x0c xe2 x96 xa0 developer friendly purchasing sgx enabled cpu turning bios settings developers need request commercial use license intel sgx sdk partition refactor user program code untrusted trusted parts trusted run inside sgx enclave process usually lengthy bug prone developed low level programming languages c c rust etc trusted running inside sgx enclave restrictions xe2 x80 x8b 18 xe2 x80 x8b limited numbers library functions provided sdk system calls e g open file cpu instructions allowed enclave memory size small originally designed loading program code user data directly xe2 x97 x8b truebit xe2 x80 x8b 19 proposed scalable chain computation protocol ethereum blockchain means interactive proofs chain solvers challengers creatively designed incentive models case dispute solvers challengers play interactive chain verification game xe2 x80 x8b 20 recursively checking remaining computation steps point disagree state change applying computation step final judge happens chain smart contract determine state change valid truebit needs implement chain interpreter solidity order execute computation step truebit introduces concept xe2 x80 x9cforced error rate xe2 x80 x9d maintains xe2 x80 x9cjackpot repository xe2 x80 x9d order incentivize challengers perform diligence basically forms architecture verifiable computation xe2 x80 x8b 22 xe2 x80 x8b computation outsourced chain verification happens chain verifiable computation ideal solution bring scalable computation blockchains truebit early days tons development complex incentive model interactive verification game add security risks xe2 x80 x8b 21 xe2 x80 x8b expect experimentation progress truebit 1 3 introducing dos network dos network scalable layer 2 protocol offers decentralized data feed oracle decentralized verifiable computation oracle mainstream blockchains 6 x0cconnects chain smart contracts chain internet data supplies unlimited verifiable computation power blockchains enabling commercial applications real world use cases dos network chain agnostic meaning serve existing smart contract platforms decentralized meaning single point failure central trust single company special hardware trust lives math code horizontally scalable meaning nodes running dos client software network offers capability computation power supported blockchains designed cryptoeconomic models meaning protocol resistant sybil attacks network effect expanded provable credibility dos network partitioned layers key components xe2 x97 x8f chain xe2 x80 x8b set dos system contracts deployed supported blockchains mainly including functionalities request handling response computation result verification node registration staking stats monitoring payment processing etc chain system contracts provide universal interface user contracts supported chains xe2 x97 x8f chain xe2 x80 x8b client software implementing core protocol run party users aiming economic rewards constituting distributed network client software includes important modules event monitoring chain adaptor module distributed randomness engine module chain group consensus module request processing computation task processing module depending type oracle service user node provides discuss aforementioned components dos network details following parts analyzing dos chain architecture chain core protocols 7 x0cfor data feed oracles demonstrate chain dos clients reach consensus open byzantine environment means unbiased verifiable randomness generation non interactive deterministic threshold signatures computation oracles elaborate achieve verifiable computation architecture similar truebit non interactive way powered zksnark xe2 x80 x8b 23 state art technique generate zksnark public parameters called xe2 x80 x9csetup phase xe2 x80 x9d xe2 x80 x9cceremony xe2 x80 x9d zcash scalable trustless way xe2 x80 x8b 24 xe2 x80 x8b randomness engine build data feed oracle discuss dos token economy bootstraps expands network incentivizing node operators provide honest services exchange economic rewards based protocol infrastructure provide decentralized data feed marketplace built onboard data feeds dapps demand allow premium data providers supply monetize blockchain traffic traditional web traffic decentralized computation marketplace built bring decentralization cryptoeconomics commercial computation applications like video audio transcoding machine learning model training 3d rendering currently monopolized tech giants like google amazon microsoft etc 2 detailed design 2 1 high level architecture life oracle request ethereum blockchain example briefly discuss overall process demand data query initiated user contract looks similar request 8 x0c response pattern asynchronous process user contract xe2 x80 x99s point view xe2 x91 xa0 user contract makes data query request message dos chain system bunch smart contracts open sourced published documentation provided developers specifically dos proxy contract xe2 x91 xa1 dos proxy contract triggers event query parameters xe2 x91 xa2 dos clients chain dos network running users monitoring blockchain defined event notified ideally thousands dos nodes running registered group randomly selected means distributed randomness engine built verifiable random function vrf xe2 x91 xa3 xe2 x91 xa4 members selected group diligence calling web api performing computation executing configured script concurrently xe2 x91 xa5 reach group consensus t n threshold signature algorithm report agreed result dos chain system long t members randomly selected group honest selected group members xe2 x80 x99 identity qos responsiveness correctness etc performance recorded chain monitoring data analysis purposes xe2 x91 xa6 dos proxy contract notifies user contract result ready calling callback function provided user contract overall workflow verifiable computation oracle looks similar use distributed randomness engine differences step 4 6 xe2 x80 x99ll discuss details later sections 2 2 chain detailed design 2 2 1 proxy system proxy system provides standard chain interfaces user contracts asynchronously callback user contracts response ready interface provided user contracts universal simple demonstrated xe2 x97 x8f making query request dos proxy contract xe2 x97 x8f consuming result backfilled callback function finish post processing work pragma solidity xe2 x80 x8b0 4 24 xe2 x80 x8b 9 x0cimport xe2 x80 x8b xe2 x80 x8b github com openzeppelin zeppelin solidity contracts ownership ownable sol xe2 x80 x8b import xe2 x80 x8b xe2 x80 x8b dosonchainsdk sol xe2 x80 x8b examnple user contract asks chain world url contract example ownable dosonchainsdk string public response xe2 x80 x8b query id valid status mapping uint bool private valid bool public repeated xe2 x80 x8bfalse xe2 x80 x8b xe2 x80 x8b default timeout etheruem seconds blocks uint public timeout xe2 x80 x8b14 xe2 x80 x8b xe2 x80 x8b2 xe2 x80 x8b string public queried url string public queried selector event settimeout uint previoustimeout uint newtimeout event responseready uint requestid xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bsetquerymode xe2 x80 x8b bool new mode xe2 x80 x8bpublic xe2 x80 x8b xe2 x80 x8bonlyowner xe2 x80 x8b repeated new mode xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bsettimeout xe2 x80 x8b uint new timeout xe2 x80 x8bpublic xe2 x80 x8b xe2 x80 x8bonlyowner xe2 x80 x8b emit settimeout timeout new timeout timeout new timeout xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8brequest xe2 x80 x8b string memory url string memory selector xe2 x80 x8bpublic xe2 x80 x8b queried url url queried selector selector uint id xe2 x80 x8bdosquery xe2 x80 x8b timeout url selector xe2 x80 x8bif xe2 x80 x8b id xe2 x80 x8b0x0 xe2 x80 x8b valid id xe2 x80 x8btrue xe2 x80 x8b xe2 x80 x8belse xe2 x80 x8b revert xe2 x80 x8b invalid query id xe2 x80 x8b xe2 x80 x8b user defined callback function process response xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8b callback xe2 x80 x8b uint requestid bytes memory result xe2 x80 x8bexternal xe2 x80 x8b xe2 x80 x8brequire xe2 x80 x8b msg sender fromdosproxycontract xe2 x80 x8b unauthenticated response xe2 x80 x8b xe2 x80 x8brequire xe2 x80 x8b valid requestid xe2 x80 x8b response invalid query id xe2 x80 x8b emit responseready requestid response string result xe2 x80 x8bdelete xe2 x80 x8b valid requestid xe2 x80 x8bif xe2 x80 x8b repeated request queried url queried selector example chain sdk 2 2 2 chain governance systems monitoring system 10 x0cmonitoring system proposed chain records chain dos nodes xe2 x80 x99 qos quality service metrics network stats including xe2 x97 x8f random number generated latest round xe2 x80 x99s selected chain group serve new kind chain random source xe2 x97 x8f group size number registered groups number times registered group selected uptime decomposition time rid adaptive adversaries etc xe2 x97 x8f payment weight percentage callback delay stats processed unhandled query requests xe2 x97 x8f quality score registered chain dos nodes including correctness responsiveness reported results nodes extremely bad quality score excluded chain consensus protocol payment process xe2 x97 x8f based rich chain metrics monitoring dapp built showcasing live status dos network registration system dos chain nodes join network need stake lock dos tokens security deposit register deposit address payment address registration contract registered threshold group gi groups overlap registration process threshold groups described chain architecture section security deposit makes system resistant sybil attacks enhances network security serves kind commitment node operator contribute bandwidth computation power strengthen dos network compensated xe2 x80 x9cmining xe2 x80 x9d rewards earning processing fees lockup period helps stabilize network rid frequent registration deregistration flips instance bound offtime penalized forfeiting deposit groups responses certain limit removed registration system payment system payment query request goes selected threshold group handles distributed honest members payments stored payment contract transfer node runners doesn xe2 x80 x99t necessarily happen real time withdrawal pattern preferable node operators able check withdraw earnings frontend ui interacting payment contract directly 11 x0cdos token form natively supported payment token staking token blockchains widely accepted stablecoins e g ethereum stablecoin preferable payment token node runners won xe2 x80 x99t risking volatility crypto prices pricing model fees easier xe2 x80 x99ll support dos payment token long run node runners token holders governance rights vote stablecoins dai usdc tusd etc accepted extra payment tokens different payment schemes supported pay use widely adopted suitable personal developers light use dapps discounted subscription model favorable heavily dependent applications stablecoins decentralized open finance platforms chain system modular design pattern mind chain contracts upgradable xe2 x80 x99s open distributed network environment different parties different economic appeals xe2 x80 x99s simple perfect model rule governance experiments economic models researched explored future 2 3 chain detailed design 2 3 1 decentralized data feed oracle looks similar problem blockchains need resolve order chain dos nodes agree result api open byzantine network environment taking look bitcoin proof x system works essence xe2 x80 x99re trying achieve random leader election round protocol means certain resource hopefully single party easily monopolize long majority network honest blockchain reaches consensus sense probability generating unbiased randomness specifically important reaching byzantine fault tolerant consensus demonstrate chain consensus protocol mainly leveraging verifiable random function vrf threshold signature scheme xe2 x80 x8b 25 xe2 x80 x8b simple instead leader election nodes perform random group selection registered groups protocol run utilizing threshold signature cryptography selected group reach chain consensus long t threshold members honest define random number generated round xe2 x88 x92 1 published chain ri xe2 x88 x921 registered group group size m xe2 x80 x99re t registered groups current round 12 x0c xe2 x97 x8f group registration grouping newly registered nodes come pending state pending pool contains pending nodes waited sufficient time randomly selected form new threshold groups handle condition xe2 x80 x9cburst registration xe2 x80 x9d generating honest majority group k working groups randomly selected dissolved m pending nodes k 1 xc3 x97 m nodes total fisher yates algorithm applied shuffle k 1 new working groups registered eliminate adaptive adversaries group carries maturity period days group members dissolved pending nodes time non interactive dkg distributed key generation protocol xe2 x80 x8b 26 threshold t kicked members newly registered group gi xe2 x97 x8b centralized party holds group secret key gi sk gi sk logically exists computed revealed member lifetime group gi malicious party controls majority members group j xe2 x97 x8b member j allocated group secret key share gi sk verifiable trustless way xe2 x97 x8b group public key gi pk collectively generated published registration contract chain updating number registered groups t t 1 xe2 x97 x8f random group selection xe2 x80 x8b randomly selected group current round gi g ri xe2 x88 x921 mod t xe2 x97 x8f group consensus t n threshold signature xe2 x80 x8b chain member j processes query request gets corresponding response dj member j signes dj group secret key share gi jsk xcf x83 jd sign dj gi jsk broadcasts signature share xcf x83 jd peers j j threshold group gi waiting members xe2 x80 x99 signature shares time applying t n threshold signature scheme means t members xe2 x80 x99 signature shares response d required generate valid group signature xcf x83 d combination t valid group signature shares combined deterministic xcf x83 d xe2 x80 x99s way t members generate valid group 13 x0csignature t n threshold signature scheme xe2 x97 x8b verification payout xe2 x80 x8b honest member successfully combines group signature delivers xcf x83 d peers d xcf x83 d blockchain gets accepted chain verification v erif y d gi pk xcf x83 d honest members stop processing receiving verifying group signature xcf x83 d ideally xe2 x80 x99ll 1 valid response blockchain cases multiple honest nodes report simultaneously verified response honored chain proxy system omitted threshold group randomly selected dos instance belong multiple groups long dos nodes geographically distributed chance honest instance reporter getting accepted amortized period time processing fee oracle request handled threshold group locked chain payment system contract withdrawn node runners anytime percent processing fees goes foundation token pool honest members threshold group split remaining xe2 x97 x8b membership eligibility malicious member punishment xe2 x80 x8b malicious members send arbitrary response blockchain wouldn xe2 x80 x99t pass chain verification long don xe2 x80 x99t fetch 14 x0cand report real response data place xe2 x80 x99ll flagged ineligible excluded future protocol run payment process case security deposit forfeited 50% burned forever 25% foundation token pool remaining 25% deposited transaction fee reimbursement pool section xe2 x97 x8b freeloading protection xe2 x80 x8b honest members split payout algorithm implicitly overcomes xe2 x80 x9cfreeloading xe2 x80 x9d issue e malicious nodes simply monitor pending transactions system contract frontrun pending ones higher gas actually handling request order incentivize participation protocol provide good bandwidth computation resources short delay group carries quality score certain timeout period xe2 x80 x99s response selected group negative score incremented subsequent group selected group abnormal negative positive ratio high negative scores kicked protocol run members inside group losing participated xe2 x97 x8b gas sustainability tx fee reimbursement pool xe2 x80 x8b ethereum xe2 x80 x99s gas model requires gas costs paid node initiates transaction including gas costs subsequent message calls derived gas costs delivering response data group signature executing chain verification function need compensated honest members ensure sustainability unstoppable unbiased secure random number generation process transaction fee reimbursement pool reserved initial funding comes foundation donation ecosystem building token pool 25% malicious nodes xe2 x80 x99 security deposit forfeited deposited pool cover future reimbursement noting execution calling contracts xe2 x80 x99 customized callback function costs gas charged reimbursed node runners complexity gas consumption callback function purely hands calling contracts covered calling contracts able set gas price need sure balance left cover gas consumption callback functions escrowed payment contract case response verification failure returned calling contracts xe2 x80 x99ll paid node successfully delivers response passes verification 15 x0c xe2 x97 x8b non interactiveness immediate finality xe2 x80 x8b unlike pbft communication based consensus algorithms xe2 x80 x99s multiple rounds message transmissions algorithm scalable group size hundreds estimated size message transmitted capped kbs total unlike pow pos resource based consensus algorithms finality immediate magic t n threshold signature t valid signature share recover original signature bls threshold signature scheme good candidate unique deterministic non interactive shorter signature features mentioned 27 xe2 x97 x8f randomness generation round xe2 x80 x8b member j gi signes ri xe2 x88 x921 j j j group secret key share gi sk xcf x83 r sign blockhash ri xe2 x88 x921 gi sk j broadcasting group signature share xcf x83 r peers applying threshold signature scheme xe2 x97 x8b long member receives t valid signature shares combines group signature xcf x83 r random number generated round hash group signature ri h xcf x83 r unpredictable xe2 x80 x99s generated verifiable chain xe2 x97 x8b ri published chain select threshold group generate random number round protocol run iteration continues forever called distributed randomness engine safety analysis protocol enhancements xe2 x80 x8b 16 x0cassuming dos network total number n nodes number byzantine nodes b n xe2 x89 xa5 3b 1 28 xe2 x80 x8b threshold set t meaning t members required group reach consensus define p k m b n probability randomly sampling m nodes n nodes k m byzantine nodes p k m b n xe2 x88 x92k c bk xc2 xb7 c nm xe2 x88 x92b cm n conforms hypergeometric probability distribution xe2 x80 x8b 29 xe2 x80 x8b probability selected group reporting byzantine result p byzantine result p k xe2 x89 xa5 t m b n probability selected group couldn xe2 x80 x99t reach consensus honest members p result p m xe2 x88 x92 k t m b n p k xe2 x89 xa5 m xe2 x88 x92 t 1 m b n confidence result p conf ident min 1 xe2 x88 x92p byzantine result 1 xe2 x88 x92 p result min p k xe2 x89 xa4 t xe2 x88 x92 1 m b n p k xe2 x89 xa4 m xe2 x88 x92 t m b n probability confidently reaching consensus correct result comes maximum t xe2 x8c x8a m2 1 xe2 x8c x8b m 2t xe2 x88 x92 1 p conf ident p k xe2 x89 xa4 t xe2 x88 x92 1 m b n p k xe2 x8c x8a m2 1 xe2 x8c x8b m b n p attack 1 xe2 x88 x92 p conf ident online calculator xe2 x80 x8b 30 31 xe2 x80 x8b xe2 x80 x99s obvious result n b byzantine ratio m t p conf ident p attack 1000 100 10 0% 21 11 99 999911% 8 9000 xc3 x97 10 xe2 x88 x927 1000 150 15 0% 33 17 99 999943% 5 7200 xc3 x97 10 xe2 x88 x927 1000 200 20 0% 49 25 99 999939% 6 1300 xc3 x97 10 xe2 x88 x927 1000 250 25 0% 73 37 99 999923% 7 7400 xc3 x97 10 xe2 x88 x927 17 x0c1000 300 30 0% 115 58 99 999920% 8 0100 xc3 x97 10 xe2 x88 x927 1000 333 33 3% 159 80 99 999905% 9 5000 xc3 x97 10 xe2 x88 x927 based observation propose protocol updates xe2 x97 x8f network size xe2 x80 x8b 1000 reasonable short mid term estimate zencash network 7000 xe2 x80 x8b 32 secure nodes 01 31 2018 debut oct 2017 smartcash network 8000 xe2 x80 x8b 33 masternodes 01 31 2018 30 days launch announcement expect dos network grows thousand nodes long run xe2 x97 x8f minimizing byzantine ratio xe2 x80 x8b byzantine ratio dos network significantly affects system safety small decrease byzantine ratio huge confidence increase taking advantage verifiable threshold signature scheme punishment malicious nodes significantly decrease byzantine ratio group carries maturity period eliminate adaptive adversaries xe2 x97 x8f maximizing parallelism types groups xe2 x80 x8b obvious larger group size safer dos network xe2 x80 x99s dilemma larger group size unfriendlier data provider rid abusing dos network perform ddos attack data source aim provide nines 99 9999% 1 millionth attack rate confidence overcoming dilemma xe2 x80 x99ll types threshold groups xe2 x97 x8b randomness engine group group size large safe e g 159 driving system solely generating unbiased unpredictable random numbers xe2 x97 x8b worker group groups processing real query group size bounded 11 21 prevent exploiting data providers xe2 x80 x99 resources worker groups selected hash random number r generated randomness engine group q uery idj gworkerquery gworkers h ri xe2 x88 x921 query idj mod t workers j different worker groups selected different queries processed parallely achieve maximum scalability 2 3 2 ii computation oracle verifiable computation means client outsource computing functions untrusted parties computing power result 18 x0cwith proof demonstrating validity soundness result returned client client execute verification step instead performing original computation provide consensus based computation oracle solution idea straightforward computation request randomly select group computing nodes execute deterministic computation task group member send result agreed majority serve short term plan computation oracle service xe2 x80 x99d like offer supported blockchains better option xe2 x80 x99d like offer long term roadmap successful byzantium hard fork xe2 x80 x8b 34 october 2017 ethereum capable verifying zksnark proofs smart contracts appendix ii enables build zksnark based verifiable computation oracle execution happens chain verification happens chain process roughly broken phases xe2 x97 x8f setup phase xe2 x80 x8b specific computation define c equivalent arithmetic circuit xe2 x80 x8b 35 xe2 x80 x8b xce xbb secret random numbers xe2 x80 x9ctoxic waste xe2 x80 x9d zcash destroyed setup phase public available keys generated setup phase p k v k setup xce xbb c p k called proving key chain computing phase v k called verification key chain verification phase setup phase needs run type computation task c long computation logic step doesn xe2 x80 x99t change p k v k reused different inputs verification contract hardcoded v k deployed chain verify future computation results different inputs example contract appendix ii xe2 x97 x8f chain computation phase xe2 x80 x8b computation carried chain valid input broken steps performing computation come result o c ompute c ii generating proof o proving key p k xcf x80 proof s generatep roof c p k o proof computation result sent chain verification contract xe2 x97 x8f chain verification phase xe2 x80 x8b final step happening chain check validity computation result o given corresponding input v erif ier contract address v erif y xcf x80 proof s o comparing consensus based computation oracle interactive verification game solver challenger truebit zksnark based chain computation needs executed xe2 x80 x99s interaction 19 x0cprover verifier meaning non interactive proof succinct meaning size small independent complexity computation verification algorithm verifies validity quickly xe2 x80 x99s independent complexity computation depends size input features ideal solution bring unbounded computation power execution scalability blockchains xe2 x80 x99re tricky points toxic waste xe2 x80 x99s setup phase destroyed leaked fake proofs generated attest computation second arithmetic circuit generation computation task apply zksnark directly converted right form called xe2 x80 x9crank 1 constraint system xe2 x80 x9d r1cs finally xe2 x80 x9cquadratic arithmetic program xe2 x80 x9d qap working directly r1cs qap sounds like writing assembly code hand error prone involves non trivial work friendly developers problems need resolved order bring practical zksnark based verifiable computation blockchains new multiparty computation mpc protocol xe2 x80 x8b 24 scaled hundreds thousands participants recently proposed zcash researchers fix trusted setup issue protocol property participants compromised dishonest order compromise final parameters trustless setup separated stages big single xe2 x80 x9csystem wide xe2 x80 x9d trustless setup called xe2 x80 x9cpowers tau xe2 x80 x9d xe2 x80 x8b 36 produced partial zksnark public parameters reused zksnark circuits given size bound application specific trustless mpc setup needed type computation task partial parameters produced powers tau application specific mpc cheaper achievable randomly selected working group address second issue define formalize domain specific language dsl called xe2 x80 x9czinc xe2 x80 x9d verifiable computation grammar similar python javascript high level abstractions variables conditions flow control statements loops functions module file imports etc developers able write chain computation code high level programming language need understanding crazy math zksnark deal low level details like r1cs xe2 x80 x99ll develop toolchain including sdk end compiler compiling high level zinc code low level r1cs connecting existing proving system like scipr lab xe2 x80 x99s libsnark xe2 x80 x8b 37 end toolchain provide command line tool library code integrated dos client software enable verifiable computations adaptable supported chains automatically 20 x0c2 4 cross chain interoperability dos network opens door perform cross chain interaction heterogeneous blockchains assuming dos network supports data feed oracle services ethereum blockchain eos blockchain theoretically smart contract ethereum able trigger cross chain state changes flowing dos client nodes calling smart contract eos dos network acting connectors bridges supported heterogeneous chains simple application like exchanging heterogenous crypto asset atomically decentralized exchanges nowadays trade homogeneous crypto assets blockchain decentralized exchanges e g etherdelta 0x relayers unable trade eos tokens directly help dos network xe2 x80 x99s achievable deploying dex contracts ethereum eos blockchain respectively defining cooperative functions trigger orderbook account balance state changes calling dex contract address dos connectors example showcases potential dos network cross chain interoperability 21 x0cthe operation maintenance newly supported blockchain xe2 x80 x99s nodes node light node utilizing remote node services like infura xe2 x80 x8b 38 xe2 x80 x8b node operators xe2 x80 x99 economic interests capability dos network team responsible porting deploying chain system contracts newly supported chains releasing chain core client software including protocol update new adapter support start oracle services newly supported chains need similar bootstrapping process mentioned section 2 3 1 mainly time group registration non interactive dkg process noting supported blockchains chain wide system variables like group size m number registered groups t different random number r generated published different chains different general 3 premium data feeds marketplace data apis powering web apps mobile apps iot devices growing multi billion dollar business xe2 x80 x8b 39 xe2 x80 x8b addition bringing open free apis blockchain decentralized data feed oracles xe2 x80 x99re planning build data feed marketplace specifically targeting premium data feeds making available chain kiss principle xe2 x80 x8b 40 mind premium data providers dapp developers need undergo minimum change sides 22 x0ca market contract developed deployed supported public chains main purposes 1 premium data providers register publish specs offers 2 place group demonstrate premium data feeds dapp developers choose purchase host server marketplace ui frontend better user experiences support structured data discovery like searching ranking premium data feeds category keyword actually marketplace information stored market contract chain ipfs hosted server acts caching layer direct interaction market contract ipfs totally feasible premium data providers register publish specs offers including limited api category format addresses receiving payments chain calling contracts payment scheme e g pay use subscription based etc sdk going released premium data providers including functionalities light clients network connection nodes data providers expected minimum changes user contracts calling specific category chain premium data simply search existing ones marketplace contract pick suitable xe2 x80 x99s premium data feed available chain developers start bounty dos tokens community reach corresponding data providers help integrate service chain 23 x0cas chain data public secret information like private key api token stored chain smart contracts xe2 x80 x99re addressing problem approaches queries premium chain data use different interface querying open free data calling sequence similar normal ones goes proxy contract talks market contract sure requested premium data source registered checks calling contract dos tokens pay premium data providers payment held chain payment contracts wouldn xe2 x80 x99t delivered premium data providers response backfilled calling contract chain dos network talks premium data provider help light client sdk data providers sure pending payment coming calling contract matched query id escrowed payment contract giving data way premium data providers able monetize blockchain traffic abused unpaid user contracts normal unauthorized internet traffic 4 future r d work related ongoing future research work improve dos network listed threshold cryptography distributed key generation vrf actively exploring signature schemes threshold bls signature properties including verifiability uniqueness determinism non interactive threshold version short size advanced dkg protocols feldman xe2 x80 x99s pedersen xe2 x80 x99s verifiable secret sharing schemes eyes xe2 x80 x99re seeing emerging research applications verifiable random function blockchain space notably consensus engines algorand dfinity cardano highly dependent vrf xe2 x80 x99d like explore applications vrf byzantine fault tolerant consensus algorithms non interactive zero knowledge systems verifiable chain computaion xe2 x80 x99re actively exploring working zk snark related topics especially like general purpose end compilers high level languages r1cs low level libraries implementations proving systems e g libsnark bellman etc xe2 x80 x99re evaluating keeping eyes advanced verifiable computation techniques probably theoretic stage production ready like fully homomorphic encryption xe2 x80 x8b 41 xe2 x80 x8b program obfuscation latest scalable toxic waste free post quantum secure zk stark xe2 x80 x8b 42 xe2 x80 x8b technology 24 x0c5 token economy xe2 x80 x99ll issue dos token utility token based ethereum erc20 standard ethereum blockchain support dos token utilized incentivize participants system ensure growth development ecosystem future swap tokens supported primary smart contract platforms like eos thunder tron etc 5 1 participants dos system mainly types participants dos network tightly connected dos token constitute dos ecosystem xe2 x97 x8f dapp developers xe2 x80 x8b dapp developers calling contracts need pay processing fees dos nodes fulfilled request pay use subscription based scheme order request external data perform chain verifiable computation tasks dos token accepted fee token pay processing fees node runners token holders governance right vote accepted fee tokens like example stablecoins developers pay premium data feeds specs set bounties dos tokens marketplace contract request missing premium data feeds xe2 x97 x8f node runners xe2 x80 x8b chain dos network consisted party user engaged node runners types nodes data carrier node computation node node operator maintain types depending economic interests capabilities operator locks certain dos tokens security deposit 10000 dos token awarded processing fees oracle services provide malicious nodes detected protocols security deposit forfeited xe2 x97 x8f premium data providers xe2 x80 x8b registering open marketplace customized payment schemes specs premium data providers entirely new path monetize valuable data feeds blockchain traffic addition traditional internet traffic 25 x0c5 2 network bootstrap proposals cold startup dos network xe2 x97 x8f incentive program dapp developers xe2 x80 x8b developer program start encourage dapps developers utilizing dos service developers submit development proposals proof usages granted dos tokens free trials reimbursement processing fees pay node operators xe2 x97 x8f xe2 x80 x9cmining xe2 x80 x9d incentives node runners xe2 x80 x8b node incentive program called xe2 x80 x9cmining xe2 x80 x9d start incentivize node runners join bootstrap chain p2p network million 35% total dos tokens reserved mining incentive addition normal processing fees earn node operators xe2 x80 x9cmine xe2 x80 x9d dos token mining reserve determined return rate nodes joining network return rate decreases time demonstrated table number nodes time joining year 1 roi year 2 roi year 3 roi year 4 roi year 5 roi 1 1000 100% 66% 43 6% 28 7% 18 9% 1000 2000 50% 33% 21 8% 14 3% 9 48% 2000 4000 25% 16 5% 10 9% 7 18% 4 74% 4000 8000 12 5% 8 25% 5 45% 3 59% 2 37% 8000 20000 6 25% 4 12% 2 72% 1 8% 1 18% 26 x0cmining incentive stops mining reserve exhausted roughly sustain years xe2 x97 x8f incentive premium data providers xe2 x80 x8b premium data providers collect corresponding bounties started developers marketplace contract order incentivize premium data provider integrate dos network onboard premium events bonus program designed award data providers milestone achieve e g 1000 5000 10000 paid calls calling contracts data providers awarded 25% bonus dos tokens ecosystem reserve details incentive program bootstrap plan determined including limited lock drop developer bounty programs hackathons etc combining mining incentive 55% dos tokens reserved network effects ecosystem usage 5 3 token distribution symbol xe2 x80 x8b dos total supply xe2 x80 x8b 1 billion 1 000 000 000 allocation xe2 x80 x8b mining incentive 35% ecosystem building 19% node lock drop exchange listing fees network bootstrap incentives bounty tasks strategic partnership etc community token promotion 1 5% 50% lock vesting 50% 3 months private sale 14 5% 25% lock vesting quarterly 9 months team 15% lock 9 months vesting monthly 24 months foundation reserve 10% marketing legal pr business development etc advisor 5% lock 9 months 27 x0c6 use cases dos network provides ability chain smart contracts reaching reacting external events decentralized trustless way unlocks lot use cases smart contracts capable help dos network 6 1 decentralized derivatives derivatives financial contracts parties values based underlying assets derivatives allow people different viewpoints long short underlying assets essence promote financial stability public smart contract platforms possible create trade financial derivatives including blockchain based assets example market protocol xe2 x80 x8b 43 xe2 x80 x8b decentralized derivatives association xe2 x80 x8b 44 xe2 x80 x8b dydx protocol xe2 x80 x8b 45 working hard push boundary forward dos network significant role decentralized derivatives providing price feeds settlement values contract expirations determine gain loss participating parties 6 2 stablecoins stablecoins cryptocurrencies stable fiat value reducing volatility making appealing store value medium exchange ways 28 x0cthey honored holy grail digital currency referring stablecoins xe2 x80 x99re talking ious issued centralized company tether xe2 x80 x8b 46 digix xe2 x80 x8b 47 xe2 x80 x8b decentralized algorithmically controlled cryptocurrency collateral backed stablecoins like bitusd xe2 x80 x8b 48 dai xe2 x80 x8b 49 xe2 x80 x8b seigniorage shares xe2 x80 x8b 50 based stablecoins like basecoin xe2 x80 x8b 51 kusd xe2 x80 x8b 52 xe2 x80 x8b stablecoins need help oracle system like dos network external data exchange rate stablecoins asset xe2 x80 x99re pegged 6 3 decentralized lending platform decentralized peer peer lending platforms like salt lending xe2 x80 x8b 53 ethlend xe2 x80 x8b 54 allow anonymous users pledge crypto assets blockchain exchange fiat crypto loans dos network applied introduce market rates loan creation monitor ratio crypto collaterals loaned amounts triggering liquidation events loan terms met furthermore ethlend uses oracles import borrowers xe2 x80 x99 social media data identity info differentiate interest rates different borrowers 6 4 decentralized insurance etherisc xe2 x80 x8b 55 building platform decentralized insurance applications like flight delay insurance crop insurance bringing efficiency transparency lower operational costs users purchase insurance policy pay premium ether xe2 x80 x99ll corresponding payout ether according policy case agreed conditions met introducing external data events smart contracts dos network helps decentralized insurance products policy underwriting payout decisions case claims schedule future checks time policy expiration achieve automatic payout 6 5 decentralized casino decentralized casinos like dice2win xe2 x80 x8b 56 xe2 x80 x8b etheroll xe2 x80 x8b 57 edgeless xe2 x80 x8b 58 benefit lot blockchains terms transparency near instant secure fund transfer provably fair 0% house edge comparing traditional online casinos 1% 15% house edge unpredictable verifiable random number generation core casino game random number generation pure deterministic environment chain difficult impossible theory dos network able generate provably secure verifiable unbiased unstoppable random entropies dapps use 29 x0c6 6 decentralized prediction markets decentralized prediction markets like augur gnosis utilize wisdom crowds predict real world outcomes presidential election sports betting result dos network fast secure resolution case voted results challenged users 6 7 decentralized computation markets execution scalability bypassing block gas limit expensive chain xe2 x80 x8bcomputation cost dos network connects redundant party computing power business computation intensive tasks xe2 x80 x8bmachine learning model training 3d rendering scientific computing like dna sequencing long term roadmap zksnark based computation oracle offer privacy computing tasks private input supported current blockchain scalability debate bring unlimited execution scalability supported chains 30 x0creferences 1 satoshi nakomoto xe2 x80 x9cbitcoin peer peer electronic cash system xe2 x80 x9d https bitcoin org bitcoin pdf 2 vitalik buterin xe2 x80 x9ca generation smart contract decentralized application platform xe2 x80 x9d https github com ethereum wiki wiki white paper 3 state dapps https www stateofthedapps com 4 verifier xe2 x80 x99s dilemma loi luu jason teutsch etc xe2 x80 x9cdemystifying incentives consensus computer xe2 x80 x9d https eprint iacr org 2015 702 pdf 5 oracle machine https en wikipedia org wiki oracle machine 6 oraclize http www oraclize 7 tlsnotary cryptographic proof online accounts https tlsnotary org 8 spof https en wikipedia org wiki single point failure 9 town crier http www town crier org 10 tee https en wikipedia org wiki trusted execution environment 11 foreshadow attack https foreshadowattack eu meltdown spectre attack https meltdownattack com 12 asyncshock exploiting synchronisation bugs intel sgx enclaves https www ibr cs tu bs de users weichbr papers esorics2016 pdf 13 malware guard extension sgx conceal cache attacks https arxiv org abs 1702 08719 14 chainlink https www smartcontract com 15 augur http www augur net 16 gnosis https gnosis pm 17 sgx enabled processors https software intel com en forums intel software guardextensions intel sgx topic 606636 18 sgx security dev review https www blackhat com docs 16 materials 16 aumasson sgx secureenclaves practice security crypto review pdf 19 truebit https truebit io 20 truebit whitepaper p12 verification game https people cs uchicago edu teutsch papers truebit pdf 21 truebit whitepaper p40 security patches https people cs uchicago edu teutsch papers truebit pdf 22 verifiable computation https en wikipedia org wiki verifiable computing 23 zksnark nutshell https blog ethereum org 2016 12 05 zksnarks nutshell 24 sean bowe ariel gabizon ian miers xe2 x80 x9cscalable mpc zksnark parameters random beacon model xe2 x80 x9d https eprint iacr org 2017 1050 pdf 25 timo hanke mahnush movahedi dominic williams xe2 x80 x9cdfinity consensus system xe2 x80 x9d https dfinity org pdf viewer pdfs viewer file library dfinity consensus pdf 26 rosario gennaro stanislaw jarecki hugo krawczyk tal rabin xe2 x80 x9csecure distributed key generation discrete log based cryptosystems xe2 x80 x9d https link springer com article 10 1007 s00145 006 0347 3 27 dan bone ben lynn hovav shacham xe2 x80 x9cshort signatures weil pairing xe2 x80 x9d https link springer com article 10 1007 s00145 004 0314 9 31 x0c 28 leslie lamport robert shostak marshall pease xe2 x80 x9cthe byzantine generals problem xe2 x80 x9d http lamport azurewebsites net pubs byz pdf 29 hypergeometric distribution https en wikipedia org wiki hypergeometric distribution 30 hypergeometric calculator http stattrek com online calculator hypergeometric aspx 31 hypergeometric distribution calculator http keisan casio com exec system 1180573201 32 zencash secure node network stats https securenodes2 eu zensystem io 33 smartcash masternode network stats https smartcash bitcoiner smartnodes worldmap 34 byzantium hard fork https blog ethereum org 2017 10 12 byzantium hf announcement 35 arithmetic circuit https en wikipedia org wiki arithmetic circuit complexity 36 powers tau ceremony https z cash foundation blog conclusion powers tau 37 libsnark https github com scipr lab libsnark 38 infura https infura io 39 internet api economy http www 03 ibm com press en pressrelease 48026 wss 40 kiss principle https en wikipedia org wiki kiss principle 41 homomorphic encryption https en wikipedia org wiki homomorphic encryption 42 zk stark https eprint iacr org 2018 046 pdf 43 market protocol https www marketprotocol io 44 decentralized derivatives association https www decentralizedderivatives org 45 dydx protocol https dydx exchange 46 tether https tether 47 digix https digix global 48 bitusd https coinmarketcap com currencies bitusd 49 dai decentralized stablecoin https makerdao com 50 robert sams xe2 x80 x9ca note cryptocurrency stabilisation seigniorage shares xe2 x80 x9d https bravenewcoin com assets whitepapers note cryptocurrency stabilisationseigniorage shares pdf 51 basecoin http www getbasecoin com 52 kusd https www kowala tech 53 salt lending https www saltlending com 54 ethlend http ethlend io 55 etherisc https etherisc com 56 dice2win casino https dice2 win 57 etheroll casino https etheroll com 58 edgeless casino https edgeless io 32 x0cappendixes appendix xe2 x80 x8b supported query types dos network query type example web api dosquery timeout https api coinbase com v2 prices btc usd buy xe2 x80 x9c$ data xe2 x80 x9d premium web api dosquerypremium timeout xe2 x80 x9chttps zipcode api smartystreets com lookup state zip code 94085 xe2 x80 x9d xe2 x80 x9c$ result xe2 x80 x9d xe2 x80 x9c uc addr xe2 x80 x9d xe2 x80 x9c param xe2 x80 x9d cross chain contract dosqueryxchain timeout xe2 x80 x9ceos xe2 x80 x9d xe2 x80 x9c ddex contract addr xe2 x80 x9d xe2 x80 x9c eos token xe2 x80 x9d xe2 x80 x9cbuy xe2 x80 x9d 60 consensus based chain computation doscompute timeout xe2 x80 x9c ipfs code hash xe2 x80 x9d arg1 arg2 zksnark based chain computation doszkcompute timeout xe2 x80 x9c ipfs code hash xe2 x80 x9d arg1 arg2 mid term goal long term goal appendix ii xe2 x80 x8bexample verificaion code zksnark proofs solidity pragma solidity xe2 x80 x8b0 4 24 xe2 x80 x8b library pairing struct g1point uint x uint y xe2 x80 x8b encoding field elements x 0 z x 1 struct g2point uint xe2 x80 x8b2 xe2 x80 x8b x uint xe2 x80 x8b2 xe2 x80 x8b y xe2 x80 x8b generator g1 xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bp1 xe2 x80 x8b xe2 x80 x8binternal xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b g1point xe2 x80 x8breturn xe2 x80 x8b g1point xe2 x80 x8b1 xe2 x80 x8b xe2 x80 x8b2 xe2 x80 x8b xe2 x80 x8b generator g2 xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bp2 xe2 x80 x8b xe2 x80 x8binternal xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b g2point xe2 x80 x8breturn xe2 x80 x8b g2point xe2 x80 x8b11559732032986387107991004021392285783925812861821192530917403151452391805634 xe2 x80 x8b 10857046999023057135944570762232829481370756359578518086990519993285655852781 xe2 x80 x8b xe2 x80 x8b4082367875863433681332203403145435568316851327593401208105741076214120093531 xe2 x80 x8b 8495653923123431417604973247489272438418190587263600148770280649306958101930 xe2 x80 x8b xe2 x80 x8b return negation p e p add p negate zero xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bnegate xe2 x80 x8b g1point p xe2 x80 x8binternal xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b g1point xe2 x80 x8b prime q base field f q g1 uint q xe2 x80 x8b21888242871839275222246405745257275088696311157297823662689037894645226208583 xe2 x80 x8b xe2 x80 x8bif xe2 x80 x8b p x xe2 x80 x8b0 xe2 x80 x8b p y xe2 x80 x8b0 xe2 x80 x8b xe2 x80 x8breturn xe2 x80 x8b g1point xe2 x80 x8b0 xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b xe2 x80 x8breturn xe2 x80 x8b g1point p x q p y % q 33 x0c xe2 x80 x8b return sum points g1 xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8baddition xe2 x80 x8b g1point p1 g1point p2 xe2 x80 x8binternal xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b g1point r uint xe2 x80 x8b4 xe2 x80 x8b memory input input xe2 x80 x8b0 xe2 x80 x8b p1 x input xe2 x80 x8b1 xe2 x80 x8b p1 y input xe2 x80 x8b2 xe2 x80 x8b p2 x input xe2 x80 x8b3 xe2 x80 x8b p2 y bool success assembly success sub gas xe2 x80 x8b2000 xe2 x80 x8b xe2 x80 x8b0x6 xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b input xe2 x80 x8b0x80 xe2 x80 x8b r xe2 x80 x8b0x40 xe2 x80 x8b xe2 x80 x8b use invalid gas estimation work xe2 x80 x8bswitch xe2 x80 x8b success xe2 x80 x8bcase xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b invalid xe2 x80 x8brequire xe2 x80 x8b success xe2 x80 x8b return product point g1 scalar e xe2 x80 x8b p p scalar mul 1 p addition p p scalar mul 2 points p xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bscalar mul xe2 x80 x8b g1point p uint s xe2 x80 x8binternal xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b g1point r uint xe2 x80 x8b3 xe2 x80 x8b memory input input xe2 x80 x8b0 xe2 x80 x8b p x input xe2 x80 x8b1 xe2 x80 x8b p y input xe2 x80 x8b2 xe2 x80 x8b s bool success assembly success sub gas xe2 x80 x8b2000 xe2 x80 x8b xe2 x80 x8b0x7 xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b input xe2 x80 x8b0x60 xe2 x80 x8b r xe2 x80 x8b0x40 xe2 x80 x8b xe2 x80 x8b use invalid gas estimation work xe2 x80 x8bswitch xe2 x80 x8b success xe2 x80 x8bcase xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b invalid xe2 x80 x8brequire xe2 x80 x8b success xe2 x80 x8b return result pairing check xe2 x80 x8b e p1 0 p2 0 e p1 n p2 n 1 xe2 x80 x8b e g pairing p1 p1 negate p2 p2 return true xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bpairing xe2 x80 x8b g1point p1 g2point p2 xe2 x80 x8binternal xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b bool xe2 x80 x8brequire xe2 x80 x8b p1 length p2 length uint elements p1 length uint inputsize elements xe2 x80 x8b6 xe2 x80 x8b uint memory input xe2 x80 x8bnew xe2 x80 x8b uint inputsize xe2 x80 x8bfor xe2 x80 x8b uint xe2 x80 x8b0 xe2 x80 x8b elements input xe2 x80 x8b6 xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b p1 x input xe2 x80 x8b6 xe2 x80 x8b xe2 x80 x8b1 xe2 x80 x8b p1 y input xe2 x80 x8b6 xe2 x80 x8b xe2 x80 x8b2 xe2 x80 x8b p2 x xe2 x80 x8b0 xe2 x80 x8b input xe2 x80 x8b6 xe2 x80 x8b xe2 x80 x8b3 xe2 x80 x8b p2 x xe2 x80 x8b1 xe2 x80 x8b input xe2 x80 x8b6 xe2 x80 x8b xe2 x80 x8b4 xe2 x80 x8b p2 y xe2 x80 x8b0 xe2 x80 x8b input xe2 x80 x8b6 xe2 x80 x8b xe2 x80 x8b5 xe2 x80 x8b p2 y xe2 x80 x8b1 xe2 x80 x8b uint xe2 x80 x8b1 xe2 x80 x8b memory bool success assembly success sub gas xe2 x80 x8b2000 xe2 x80 x8b xe2 x80 x8b0x8 xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b add input xe2 x80 x8b0x20 xe2 x80 x8b mul inputsize xe2 x80 x8b0x20 xe2 x80 x8b xe2 x80 x8b0x20 xe2 x80 x8b xe2 x80 x8b use invalid gas estimation work xe2 x80 x8bswitch xe2 x80 x8b success xe2 x80 x8bcase xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b invalid xe2 x80 x8brequire xe2 x80 x8b success xe2 x80 x8breturn xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b 34 x0c xe2 x80 x8b helper funciton pairing check pairs xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bpairingprod2 xe2 x80 x8b g1point a1 g2point a2 g1point b1 g2point b2 xe2 x80 x8binternal xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b bool g1point memory p1 xe2 x80 x8bnew xe2 x80 x8b g1point xe2 x80 x8b2 xe2 x80 x8b g2point memory p2 xe2 x80 x8bnew xe2 x80 x8b g2point xe2 x80 x8b2 xe2 x80 x8b p1 xe2 x80 x8b0 xe2 x80 x8b a1 p1 xe2 x80 x8b1 xe2 x80 x8b b1 p2 xe2 x80 x8b0 xe2 x80 x8b a2 p2 xe2 x80 x8b1 xe2 x80 x8b b2 xe2 x80 x8breturn xe2 x80 x8b pairing p1 p2 xe2 x80 x8b helper funciton pairing check pairs xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bpairingprod3 xe2 x80 x8b g1point a1 g2point a2 g1point b1 g2point b2 g1point c1 g2point c2 xe2 x80 x8binternal xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b bool g1point memory p1 xe2 x80 x8bnew xe2 x80 x8b g1point xe2 x80 x8b3 xe2 x80 x8b g2point memory p2 xe2 x80 x8bnew xe2 x80 x8b g2point xe2 x80 x8b3 xe2 x80 x8b p1 xe2 x80 x8b0 xe2 x80 x8b a1 p1 xe2 x80 x8b1 xe2 x80 x8b b1 p1 xe2 x80 x8b2 xe2 x80 x8b c1 p2 xe2 x80 x8b0 xe2 x80 x8b a2 p2 xe2 x80 x8b1 xe2 x80 x8b b2 p2 xe2 x80 x8b2 xe2 x80 x8b c2 xe2 x80 x8breturn xe2 x80 x8b pairing p1 p2 xe2 x80 x8b helper funciton pairing check pairs xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bpairingprod4 xe2 x80 x8b g1point a1 g2point a2 g1point b1 g2point b2 g1point c1 g2point c2 g1point d1 g2point d2 xe2 x80 x8binternal xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b bool g1point memory p1 xe2 x80 x8bnew xe2 x80 x8b g1point xe2 x80 x8b4 xe2 x80 x8b g2point memory p2 xe2 x80 x8bnew xe2 x80 x8b g2point xe2 x80 x8b4 xe2 x80 x8b p1 xe2 x80 x8b0 xe2 x80 x8b a1 p1 xe2 x80 x8b1 xe2 x80 x8b b1 p1 xe2 x80 x8b2 xe2 x80 x8b c1 p1 xe2 x80 x8b3 xe2 x80 x8b d1 p2 xe2 x80 x8b0 xe2 x80 x8b a2 p2 xe2 x80 x8b1 xe2 x80 x8b b2 p2 xe2 x80 x8b2 xe2 x80 x8b c2 p2 xe2 x80 x8b3 xe2 x80 x8b d2 xe2 x80 x8breturn xe2 x80 x8b pairing p1 p2 contract verifier pairing xe2 x80 x8bfor xe2 x80 x8b struct verifyingkey pairing g2point pairing g1point b pairing g2point c pairing g2point gamma pairing g1point gammabeta1 pairing g2point gammabeta2 pairing g2point z pairing g1point ic 35 x0cstruct proof pairing g1point pairing g1point pairing g2point pairing g1point pairing g1point pairing g1point pairing g1point pairing g1point p b b p c c p k h xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bverifyingkey xe2 x80 x8b xe2 x80 x8bpure xe2 x80 x8b xe2 x80 x8binternal xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b verifyingkey vk vk pairing g2point xe2 x80 x8b0x8fc6f88aebb07ff31599a9f795e6b054e200a2fd8891da79ead9bd20993c2fe xe2 x80 x8b 0x29e8d591cbeb1058b1d96adf8da925dc9a4eda7c6512822a6ef1e2b53d980a3c xe2 x80 x8b xe2 x80 x8b0x1c82f39b66c99016f09b6b2b71363f7c95f1d44b28cd0457fb7c02a0e8c25686 xe2 x80 x8b 0x1a9d5545d5a9521ac5cd1a839a231f3e93eca713a76b4658c9df4ebdcee9f79e xe2 x80 x8b vk b pairing g1point xe2 x80 x8b0x1d03d0c73ca77f67dad316abfbcb816d9b87fb68d8690de5a60f8663db4d984b xe2 x80 x8b 0x29f592fbadc5002b3d712d56825baefb2218888da0db14e331149f440e8a5c3 xe2 x80 x8b vk c pairing g2point xe2 x80 x8b0x2083bec38ffd4907d5529f264bc4d2e4706b5b416c2b053ae0e20616f2938bfc xe2 x80 x8b 0x23bb65bc2d210605d19cb5b18149210c781d09a604c85257110070606b673688 xe2 x80 x8b xe2 x80 x8b0x13f16ebf23012bfac5105660dd580dc291a2f71ee9d74aaf951bf9b412e67382 xe2 x80 x8b 0x281ee8184f1b9134fb5c557c73f6dd800f7e8493818ace57a821f5aa5df46ec xe2 x80 x8b vk gamma pairing g2point xe2 x80 x8b0xcb7185daaa7975449cda20cbe15b4d05522922046073e225301c7e910a58c0d xe2 x80 x8b 0x1671513e95e7ca110717c5a97535edfc11c290178eecf1d5edca9b3e969e444e xe2 x80 x8b xe2 x80 x8b0x11ebae83ea23087468fc5a091579766be5fd9f16c3f3bcfd2be984372f08d10e xe2 x80 x8b 0x20bafbfd1d9c28421e11745e42079ab0eb6672ea1457d1bcea9b9f50e8ba852b xe2 x80 x8b vk gammabeta1 pairing g1point xe2 x80 x8b0x2630f9382fd2e3fdb4366451e53fff5311cfbbbb153cda6bc1a04f12cea0121d xe2 x80 x8b 0x305b72a49f5eca1bb7072721ae92f767264e8442d409a04cd1ad6433f36eb96e xe2 x80 x8b vk gammabeta2 pairing g2point xe2 x80 x8b0x17f41c70bfed7b867f6127a8834cd0d782051c0fa0cccfc1f7b671b5c0a1617a xe2 x80 x8b 0x19887db9ad194fa3356f8bae18fde1c7d48471e6a455c946046453f2252cb77c xe2 x80 x8b xe2 x80 x8b0x1552950341b23118fede032878d5f07ecda6c6f585a625112c7ddcd364e846a8 xe2 x80 x8b 0x2085f64c8b3de07adc2cc3c44896f38b45ee19ad6ed0a3cacc08da827705bea1 xe2 x80 x8b vk z pairing g2point xe2 x80 x8b0x124af821d93fdf6bb81af237bdca7d8c208d506b6544a1d1841c96c9e5a8146e xe2 x80 x8b 0x23e951d40d1bbdc29e9e0d6b94296c8f048467c28da8eef1084a62b42e0ca26d xe2 x80 x8b xe2 x80 x8b0x1b6eadbbc87f60aab45c02bbb13872678f9f6aba54427ee08bb39aa647ff9dae xe2 x80 x8b 0x120427f29479ef0dd35f71247a5e23990dea5528251741990a61ca657f99e67c xe2 x80 x8b vk ic xe2 x80 x8bnew xe2 x80 x8b pairing g1point xe2 x80 x8b4 xe2 x80 x8b vk ic xe2 x80 x8b0 xe2 x80 x8b pairing g1point xe2 x80 x8b0x274df1d03d8f810f2d9be82af2c22b11d8b78f30bed1ea88b7de0c232d2ad0a8 xe2 x80 x8b 0x1db29ef17911a50b5fbfc0c4868bb1ed12f9fe25fb2c53f1d8c3e9048ede51e6 xe2 x80 x8b vk ic xe2 x80 x8b1 xe2 x80 x8b pairing g1point xe2 x80 x8b0x14b89067062304bd7fa8be61aeb9f7d8cb9efdf2507beb9224fdc0121749f39b xe2 x80 x8b 0x22b34646c8d65b4476e7d6ffeb37d4093be4a77c41bf94c65d9893b32aa0386c xe2 x80 x8b vk ic xe2 x80 x8b2 xe2 x80 x8b pairing g1point xe2 x80 x8b0x1ab8958aca16d7aec7930545dc8034931c1ac10d9a9f8871d5b9304a13cfeafc xe2 x80 x8b 0x3013c2db7149a2f7ac1197a279bb112802dd18415211be13aac6e5fe1886e184 xe2 x80 x8b vk ic xe2 x80 x8b3 xe2 x80 x8b pairing g1point xe2 x80 x8b0x353f350f29cbcb57dd2455bc95c07f69208c2ce23f4b3f77111b32c429c7c09 xe2 x80 x8b 0x1a16cd7a7d387051086dd3e26e5333ce7a54eed6f9964cf4ac8e202be45d440c xe2 x80 x8b xe2 x80 x8bfunction xe2 x80 x8b xe2 x80 x8bverify xe2 x80 x8b uint input proof proof xe2 x80 x8binternal xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b uint verifyingkey memory vk verifyingkey xe2 x80 x8brequire xe2 x80 x8b input length xe2 x80 x8b1 xe2 x80 x8b vk ic length xe2 x80 x8b compute linear combination vk x pairing g1point memory vk x pairing g1point xe2 x80 x8b0 xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b xe2 x80 x8bfor xe2 x80 x8b uint xe2 x80 x8b0 xe2 x80 x8b input length 36 x0cvk x pairing addition vk x pairing scalar mul vk ic xe2 x80 x8b1 xe2 x80 x8b input vk x pairing addition vk x vk ic xe2 x80 x8b0 xe2 x80 x8b xe2 x80 x8bif xe2 x80 x8b pairing pairingprod2 proof vk pairing negate proof p pairing p2 r xe2 x80 x8b eturn xe2 x80 x8b 1 xe2 x80 x8b xe2 x80 x8b xe2 x80 x8bif xe2 x80 x8b pairing pairingprod2 vk b proof b pairing negate proof b p pairing p2 r xe2 x80 x8b eturn xe2 x80 x8b 2 xe2 x80 x8b xe2 x80 x8b xe2 x80 x8bif xe2 x80 x8b pairing pairingprod2 proof c vk c pairing negate proof c p pairing p2 r xe2 x80 x8b eturn xe2 x80 x8b 3 xe2 x80 x8b xe2 x80 x8b xe2 x80 x8bif xe2 x80 x8b pairing pairingprod3 proof k vk gamma pairing negate pairing addition vk x pairing addition proof proof c vk gammabeta2 pairing negate vk gammabeta1 proof b xe2 x80 x8breturn xe2 x80 x8b xe2 x80 x8b4 xe2 x80 x8b xe2 x80 x8bif xe2 x80 x8b pairing pairingprod3 pairing addition vk x proof proof b pairing negate proof h vk z pairing negate proof c pairing p2 xe2 x80 x8breturn xe2 x80 x8b xe2 x80 x8b5 xe2 x80 x8b xe2 x80 x8breturn xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b event verified string s xe2 x80 x8bfunction xe2 x80 x8b v xe2 x80 x8b erifytx xe2 x80 x8b uint xe2 x80 x8b2 xe2 x80 x8b uint xe2 x80 x8b2 xe2 x80 x8b p uint xe2 x80 x8b2 xe2 x80 x8b xe2 x80 x8b2 xe2 x80 x8b b uint xe2 x80 x8b2 xe2 x80 x8b b p uint xe2 x80 x8b2 xe2 x80 x8b c uint xe2 x80 x8b2 xe2 x80 x8b c p uint xe2 x80 x8b2 xe2 x80 x8b h uint xe2 x80 x8b2 xe2 x80 x8b k uint xe2 x80 x8b3 xe2 x80 x8b input xe2 x80 x8bpublic xe2 x80 x8b xe2 x80 x8breturns xe2 x80 x8b bool r proof memory proof proof pairing g1point xe2 x80 x8b0 xe2 x80 x8b xe2 x80 x8b1 xe2 x80 x8b proof p pairing g1point p xe2 x80 x8b0 xe2 x80 x8b p xe2 x80 x8b1 xe2 x80 x8b proof b pairing g2point b xe2 x80 x8b0 xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b b xe2 x80 x8b0 xe2 x80 x8b xe2 x80 x8b1 xe2 x80 x8b b xe2 x80 x8b1 xe2 x80 x8b xe2 x80 x8b0 xe2 x80 x8b b xe2 x80 x8b1 xe2 x80 x8b xe2 x80 x8b1 xe2 x80 x8b proof b p pairing g1point b p xe2 x80 x8b0 xe2 x80 x8b b p xe2 x80 x8b1 xe2 x80 x8b proof c pairing g1point c xe2 x80 x8b0 xe2 x80 x8b c xe2 x80 x8b1 xe2 x80 x8b proof c p pairing g1point c p xe2 x80 x8b0 xe2 x80 x8b c p xe2 x80 x8b1 xe2 x80 x8b proof h pairing g1point h xe2 x80 x8b0 xe2 x80 x8b h xe2 x80 x8b1 xe2 x80 x8b proof k pairing g1point k xe2 x80 x8b0 xe2 x80 x8b k xe2 x80 x8b1 xe2 x80 x8b uint memory inputvalues xe2 x80 x8bnew xe2 x80 x8b uint input length xe2 x80 x8bfor xe2 x80 x8b uint xe2 x80 x8b0 xe2 x80 x8b input length inputvalues input xe2 x80 x8bif xe2 x80 x8b verify inputvalues proof xe2 x80 x8b0 xe2 x80 x8b emit verified xe2 x80 x8b successfully verified simple computation function addition b xe2 x80 x8b xe2 x80 x8breturn xe2 x80 x8b xe2 x80 x8btrue xe2 x80 x8b xe2 x80 x8belse xe2 x80 x8b xe2 x80 x8breturn xe2 x80 x8b xe2 x80 x8bfalse xe2 x80 x8b 37 x0c